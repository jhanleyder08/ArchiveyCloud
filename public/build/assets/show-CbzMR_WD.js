import{j as e,H as b,L as d}from"./app-bdRnt6Sf.js";import{A as y}from"./app-layout-BYiALk1Q.js";import{c as _,B as a}from"./app-logo-icon-DuPl4Vop.js";import{C as t,a as n,b as c,c as l}from"./card-CWT2CaIV.js";import{B as h}from"./badge-D-wVoLf4.js";import{A as w}from"./arrow-left-me5UTq16.js";import{S as C}from"./square-pen-DsjEvAkh.js";import{C as j}from"./circle-x-CuXE_gGg.js";import{C as p}from"./circle-check-big-B2fc7sYA.js";import{A as i,a as f,g as u,p as N,n as z}from"./app-sidebar-layout-DoFu3WNo.js";import{D as E}from"./download-97E7p8pE.js";import{M as g}from"./map-pin-DYSVXcXw.js";import{C as o}from"./calendar-DzJZtfmj.js";import{E as v}from"./eye-CfI6NocG.js";/* empty css            */import"./index-Cfqs0Bea.js";import"./label-eR3fV_fB.js";import"./index-Dem53vWf.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],D=_("History",A),F={pendiente:"bg-gray-100 text-gray-800 border-gray-200",en_revision:"bg-blue-100 text-blue-800 border-blue-200",aprobado:"bg-green-100 text-green-800 border-green-200",rechazado:"bg-red-100 text-red-800 border-red-200",ejecutado:"bg-purple-100 text-purple-800 border-purple-200",cancelado:"bg-gray-100 text-gray-600 border-gray-200"},R={conservacion_permanente:"bg-emerald-100 text-emerald-800 border-emerald-200",eliminacion_controlada:"bg-red-100 text-red-800 border-red-200",transferencia_historica:"bg-blue-100 text-blue-800 border-blue-200",digitalizacion:"bg-indigo-100 text-indigo-800 border-indigo-200",microfilmacion:"bg-violet-100 text-violet-800 border-violet-200"},S={pendiente:e.jsx(z,{className:"h-4 w-4"}),en_revision:e.jsx(v,{className:"h-4 w-4"}),aprobado:e.jsx(p,{className:"h-4 w-4"}),rechazado:e.jsx(j,{className:"h-4 w-4"}),ejecutado:e.jsx(i,{className:"h-4 w-4"}),cancelado:e.jsx(f,{className:"h-4 w-4"})};function W({disposicion:s}){const x=m=>new Date(m).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),r=m=>new Date(m).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});return e.jsxs(y,{children:[e.jsx(b,{title:`Disposición Final #${s.id}`}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(a,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(d,{href:route("admin.disposiciones.index"),children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Volver"]})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:["Disposición Final #",s.id]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Detalles de la propuesta de disposición final"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.estado==="pendiente"&&e.jsxs(e.Fragment,{children:[e.jsxs(a,{variant:"outline",size:"sm",children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Editar"]}),e.jsx(a,{variant:"outline",size:"sm",children:"Enviar a Revisión"})]}),s.estado==="en_revision"&&e.jsxs(e.Fragment,{children:[e.jsxs(a,{variant:"outline",size:"sm",children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),"Rechazar"]}),e.jsxs(a,{size:"sm",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Aprobar"]})]}),s.estado==="aprobado"&&e.jsxs(a,{size:"sm",children:[e.jsx(i,{className:"h-4 w-4 mr-2"}),"Ejecutar"]}),e.jsxs(a,{variant:"outline",size:"sm",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Exportar PDF"]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(h,{variant:"outline",className:`${F[s.estado]} text-base py-2 px-4`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[S[s.estado],e.jsx("span",{children:s.estado_label})]})}),e.jsx(h,{variant:"outline",className:`${R[s.tipo_disposicion]} text-base py-2 px-4`,children:s.tipo_disposicion_label}),s.esta_vencida&&e.jsxs(h,{variant:"outline",className:"bg-red-100 text-red-800 border-red-200 text-base py-2 px-4",children:[e.jsx(f,{className:"h-4 w-4 mr-1"}),"¡Vencida!"]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Creada: ",x(s.created_at)]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(t,{children:[e.jsx(n,{children:e.jsxs(c,{className:"flex items-center space-x-2",children:[s.expediente?e.jsx(i,{className:"h-5 w-5 text-blue-500"}):e.jsx(u,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{children:"Item Afectado"})]})}),e.jsx(l,{children:s.expediente?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.expediente.numero_expediente}),e.jsx("p",{className:"text-gray-600 mt-1",children:s.expediente.titulo})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-500",children:"Serie Documental:"}),e.jsx("p",{children:s.expediente.serie_documental})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-500",children:"Estado del Expediente:"}),e.jsx("p",{children:s.expediente.estado_ciclo_vida})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-500",children:"Ubicación Física:"}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(g,{className:"h-4 w-4 mr-1 text-gray-400"}),s.expediente.ubicacion_fisica]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-500",children:"Vencimiento de Retención:"}),e.jsxs("p",{className:`flex items-center ${s.esta_vencida?"text-red-600 font-medium":""}`,children:[e.jsx(o,{className:"h-4 w-4 mr-1 text-gray-400"}),r(s.fecha_vencimiento_retencion)]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-500",children:"Años en Archivo Central:"}),e.jsxs("p",{className:"font-semibold",children:[s.expediente.anos_retencion_archivo_central," años"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-500",children:"Años en Archivo Histórico:"}),e.jsxs("p",{className:"font-semibold",children:[s.expediente.anos_retencion_archivo_historico," años"]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(a,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(d,{href:route("admin.expedientes.show",s.expediente.id),children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Ver Expediente"]})})})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.documento?.nombre}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Expediente: ",s.documento?.expediente.numero_expediente," - ",s.documento?.expediente.titulo]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-500",children:"Serie Documental:"}),e.jsx("p",{children:s.documento?.expediente.serie_documental})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-500",children:"Ubicación Física:"}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(g,{className:"h-4 w-4 mr-1 text-gray-400"}),s.documento?.ubicacion_fisica]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"font-medium text-gray-500",children:"Vencimiento de Retención:"}),e.jsxs("p",{className:`flex items-center ${s.esta_vencida?"text-red-600 font-medium":""}`,children:[e.jsx(o,{className:"h-4 w-4 mr-1 text-gray-400"}),r(s.fecha_vencimiento_retencion)]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(a,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(d,{href:route("admin.expedientes.show",s.documento?.expediente.id),children:[e.jsx(i,{className:"h-4 w-4 mr-2"}),"Ver Expediente"]})}),e.jsx(a,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(d,{href:route("admin.documentos.show",s.documento?.id),children:[e.jsx(u,{className:"h-4 w-4 mr-2"}),"Ver Documento"]})})]})]})})]}),e.jsxs(t,{children:[e.jsx(n,{children:e.jsx(c,{children:"Justificación y Observaciones"})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Justificación"}),e.jsx("p",{className:"text-gray-600 bg-gray-50 p-3 rounded-lg",children:s.justificacion})]}),s.observaciones&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Observaciones Generales"}),e.jsx("p",{className:"text-gray-600 bg-gray-50 p-3 rounded-lg",children:s.observaciones})]}),s.observaciones_aprobacion&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-700 mb-2",children:"Observaciones de Aprobación"}),e.jsx("p",{className:"text-green-600 bg-green-50 p-3 rounded-lg border border-green-200",children:s.observaciones_aprobacion})]}),s.observaciones_rechazo&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-700 mb-2",children:"Observaciones de Rechazo"}),e.jsx("p",{className:"text-red-600 bg-red-50 p-3 rounded-lg border border-red-200",children:s.observaciones_rechazo})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(t,{children:[e.jsx(n,{children:e.jsxs(c,{className:"flex items-center space-x-2",children:[e.jsx(o,{className:"h-5 w-5"}),e.jsx("span",{children:"Cronología"})]})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-500",children:"Fecha de Propuesta:"}),e.jsx("p",{className:"text-sm",children:r(s.fecha_propuesta)})]}),s.fecha_aprobacion&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-green-600",children:"Fecha de Aprobación:"}),e.jsx("p",{className:"text-sm",children:r(s.fecha_aprobacion)})]}),s.fecha_rechazo&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-red-600",children:"Fecha de Rechazo:"}),e.jsx("p",{className:"text-sm",children:r(s.fecha_rechazo)})]}),s.fecha_ejecucion&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-purple-600",children:"Fecha de Ejecución:"}),e.jsx("p",{className:"text-sm",children:r(s.fecha_ejecucion)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-500",children:"Vencimiento de Retención:"}),e.jsx("p",{className:`text-sm ${s.esta_vencida?"text-red-600 font-medium":""}`,children:r(s.fecha_vencimiento_retencion)}),s.dias_para_vencimiento<=30&&s.dias_para_vencimiento>0&&e.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Vence en ",s.dias_para_vencimiento," días"]}),s.esta_vencida&&e.jsx("p",{className:"text-xs text-red-600 font-medium mt-1",children:"¡Esta disposición está vencida!"})]})]})]}),e.jsxs(t,{children:[e.jsx(n,{children:e.jsxs(c,{className:"flex items-center space-x-2",children:[e.jsx(N,{className:"h-5 w-5"}),e.jsx("span",{children:"Usuarios Involucrados"})]})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-500",children:"Responsable:"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx(N,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:s.responsable?.name||"Sin responsable asignado"}),e.jsx("p",{className:"text-xs text-gray-500",children:s.responsable?.email||"Email no disponible"})]})]})]}),s.aprobado_por&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-green-600",children:"Aprobado por:"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx(p,{className:"h-4 w-4 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:s.aprobado_por?.name||"Usuario no disponible"}),e.jsx("p",{className:"text-xs text-gray-500",children:s.aprobado_por?.email||"Email no disponible"})]})]})]}),s.rechazado_por&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-red-600",children:"Rechazado por:"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx(j,{className:"h-4 w-4 text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:s.rechazado_por?.name||"Usuario no disponible"}),e.jsx("p",{className:"text-xs text-gray-500",children:s.rechazado_por?.email||"Email no disponible"})]})]})]})]})]}),e.jsxs(t,{children:[e.jsx(n,{children:e.jsxs(c,{className:"flex items-center space-x-2",children:[e.jsx(D,{className:"h-5 w-5"}),e.jsx("span",{children:"Historial"})]})}),e.jsxs(l,{className:"space-y-3",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"font-medium",children:"Creada"})]}),e.jsx("p",{className:"text-xs text-gray-500 ml-4",children:x(s.created_at)})]}),s.updated_at!==s.created_at&&e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsx("span",{className:"font-medium",children:"Última modificación"})]}),e.jsx("p",{className:"text-xs text-gray-500 ml-4",children:x(s.updated_at)})]})]})]})]})]})]})]})}export{W as default};
