import{j as e,H as _,L as h}from"./app-DmFTQNHU.js";import{A as w}from"./app-layout-CF5PBVMg.js";import{c as y,B as d}from"./button-B9uqYTIR.js";import{C as a,a as l,b as o,c as i,d as C}from"./card-98qlzFSI.js";import{B as j,F as u}from"./Combination-DB4vhy5A.js";import{A as g,a as N}from"./alert--kr5pmD-.js";import{L as t}from"./label-CYYsus1F.js";import{A as k,i as P}from"./app-sidebar-layout-B4-tSBlc.js";import{S as M}from"./square-pen-CQEvGVzK.js";import{R as D}from"./rotate-ccw-WlGpNt1B.js";import{C as x}from"./circle-check-big-DyCuRV4E.js";import{T as $}from"./triangle-alert-Qv0vinvY.js";import{C as A}from"./folder-CyqBlkrb.js";import{U as f}from"./user-2vHAz8tr.js";import{M as p}from"./mail-i7usF0Qz.js";import{P as E}from"./phone-MororQBu.js";import{C as v}from"./calendar-B2HHxpzZ.js";/* empty css            */import"./index-6lxVY5DU.js";import"./index-BBDU3XkM.js";import"./index-D6-3VAHV.js";import"./x-D4OXCe6m.js";import"./app-logo-icon-B1r3bsQj.js";import"./input-CXpCTHGE.js";import"./users-CA6jkooN.js";import"./search-BECONtiU.js";import"./BrandingProvider-BKZadETt.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],I=y("Building",F);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]],S=y("IdCard",L);function xe({prestamo:s}){const m=c=>new Date(c).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),r=c=>new Date(c).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}),b=c=>{switch(c){case"prestado":return s.esta_vencido?"bg-red-100 text-red-800 border-red-200":"bg-blue-100 text-blue-800 border-blue-200";case"devuelto":return"bg-green-100 text-green-800 border-green-200";case"vencido":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},n=s.tipo_prestamo==="expediente"&&s.expediente?{titulo:`${s.expediente.codigo} - ${s.expediente.titulo}`,subtitulo:`Ubicación: ${s.expediente.ubicacion_fisica}`,icono:e.jsx(P,{className:"h-5 w-5"})}:s.tipo_prestamo==="documento"&&s.documento?{titulo:s.documento.titulo,subtitulo:s.documento.expediente?`Expediente: ${s.documento.expediente.codigo} - ${s.documento.expediente.titulo}`:`Código: ${s.documento.codigo_documento}`,icono:e.jsx(u,{className:"h-5 w-5"})}:{titulo:"Item no disponible",subtitulo:"",icono:e.jsx(u,{className:"h-5 w-5"})};return e.jsxs(w,{breadcrumbs:[{title:"Dashboard",href:"/dashboard"},{title:"Administración",href:"#"},{title:"Préstamos",href:"/admin/prestamos"},{title:`Préstamo #${s.id}`,href:`/admin/prestamos/${s.id}`}],children:[e.jsx(_,{title:`Préstamo #${s.id}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(d,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(h,{href:"/admin/prestamos",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Volver"]})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Préstamo #",s.id]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Creado el ",m(s.created_at)]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{className:`${b(s.estado)} border`,children:s.estado==="prestado"&&s.esta_vencido?"Vencido":s.estado}),s.estado==="prestado"&&e.jsxs(e.Fragment,{children:[e.jsx(d,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(h,{href:`/admin/prestamos/${s.id}/edit`,children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"Editar"]})}),e.jsxs(d,{variant:"outline",size:"sm",children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Renovar"]}),e.jsxs(d,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),"Devolver"]})]})]})]}),s.estado==="prestado"&&s.esta_vencido&&e.jsxs(g,{className:"border-red-200 bg-red-50",children:[e.jsx($,{className:"h-4 w-4 text-red-600"}),e.jsxs(N,{className:"text-red-800",children:[e.jsx("strong",{children:"Préstamo Vencido:"})," Este préstamo debía ser devuelto el ",r(s.fecha_devolucion_esperada),"."]})]}),s.estado==="prestado"&&!s.esta_vencido&&s.dias_restantes!==void 0&&s.dias_restantes<=3&&e.jsxs(g,{className:"border-yellow-200 bg-yellow-50",children:[e.jsx(A,{className:"h-4 w-4 text-yellow-600"}),e.jsxs(N,{className:"text-yellow-800",children:[e.jsx("strong",{children:"Próximo a vencer:"})," Quedan ",s.dias_restantes," días para la devolución."]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(a,{className:"lg:col-span-2",children:[e.jsx(l,{children:e.jsxs(o,{className:"flex items-center space-x-2",children:[n.icono,e.jsx("span",{children:"Item Prestado"})]})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:n.titulo}),e.jsx("p",{className:"text-sm text-gray-500",children:n.subtitulo})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-500",children:"Tipo de Préstamo"}),e.jsx("p",{className:"text-sm font-medium capitalize",children:s.tipo_prestamo})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-500",children:"Renovaciones"}),e.jsxs("p",{className:"text-sm font-medium",children:[s.renovaciones," veces"]})]})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-500",children:"Motivo del Préstamo"}),e.jsx("p",{className:"text-sm mt-1 p-3 bg-gray-50 rounded-md",children:s.motivo})]}),s.observaciones&&e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-500",children:"Observaciones"}),e.jsx("p",{className:"text-sm mt-1 p-3 bg-gray-50 rounded-md",children:s.observaciones})]})]})]}),e.jsxs(a,{children:[e.jsxs(l,{children:[e.jsxs(o,{className:"flex items-center space-x-2",children:[e.jsx(f,{className:"h-5 w-5"}),e.jsx("span",{children:"Solicitante"})]}),e.jsx(C,{children:s.tipo_solicitante==="usuario"?"Usuario Registrado":"Solicitante Externo"})]}),e.jsx(i,{className:"space-y-4",children:s.tipo_solicitante==="usuario"&&s.solicitante?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-500",children:"Nombre"}),e.jsx("p",{className:"text-sm font-medium",children:s.solicitante.name})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:s.solicitante.email})]})]}):s.datos_solicitante_externo?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-500",children:"Nombre Completo"}),e.jsx("p",{className:"text-sm font-medium",children:s.datos_solicitante_externo.nombre_completo})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-sm",children:[s.datos_solicitante_externo.tipo_documento,": ",s.datos_solicitante_externo.numero_documento]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:s.datos_solicitante_externo.email})]}),s.datos_solicitante_externo.telefono&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:s.datos_solicitante_externo.telefono})]}),s.datos_solicitante_externo.cargo&&e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-500",children:"Cargo"}),e.jsx("p",{className:"text-sm",children:s.datos_solicitante_externo.cargo})]}),s.datos_solicitante_externo.dependencia&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:s.datos_solicitante_externo.dependencia})]})]}):e.jsx("p",{className:"text-sm text-gray-500",children:"Información no disponible"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(a,{children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Fecha de Préstamo"}),e.jsx("p",{className:"text-sm font-bold",children:r(s.fecha_prestamo)})]})]})})}),e.jsx(a,{children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-5 w-5 text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Devolución Esperada"}),e.jsx("p",{className:"text-sm font-bold",children:r(s.fecha_devolucion_esperada)})]})]})})}),s.fecha_devolucion_real&&e.jsx(a,{children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Fecha de Devolución"}),e.jsx("p",{className:"text-sm font-bold",children:r(s.fecha_devolucion_real)})]})]})})}),e.jsx(a,{children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{className:"h-5 w-5 text-purple-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Prestamista"}),e.jsx("p",{className:"text-sm font-bold",children:s.prestamista.name})]})]})})})]}),s.estado==="devuelto"&&e.jsxs(a,{children:[e.jsx(l,{children:e.jsxs(o,{className:"flex items-center space-x-2",children:[e.jsx(x,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{children:"Información de Devolución"})]})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-500",children:"Estado de Devolución"}),e.jsx(j,{className:"mt-1 bg-green-100 text-green-800 border-green-200",children:s.estado_devolucion||"Completa"})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-500",children:"Fecha de Devolución"}),e.jsx("p",{className:"text-sm font-medium",children:s.fecha_devolucion_real?m(s.fecha_devolucion_real):"No registrada"})]})]}),s.observaciones_devolucion&&e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-500",children:"Observaciones de Devolución"}),e.jsx("p",{className:"text-sm mt-1 p-3 bg-gray-50 rounded-md",children:s.observaciones_devolucion})]})]})]})]})]})}export{xe as default};
