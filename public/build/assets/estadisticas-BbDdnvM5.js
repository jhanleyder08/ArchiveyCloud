import{r as K,j as s,H as R,L as B}from"./app-Cl0FOawM.js";import{A as H}from"./app-layout-DmBWywAa.js";import{C as i,c as r,a as o,b as d,d as x}from"./card-HRzrENe0.js";import{B as u}from"./button-DtR6BkFB.js";import{B as c}from"./badge-Cjvjlo7p.js";import{T as L,a as P,b as m,c as h}from"./tabs-Ub8bJmDF.js";import{A as $}from"./arrow-left-BWfxCQOK.js";import{R as z}from"./refresh-cw-CNgjYw9E.js";import{D as I,U as S,T as O}from"./users-D2N-KHHv.js";import{M as f}from"./mail-DXR72C52.js";import{M as N,C as V}from"./app-sidebar-layout-C6Q0w7Bq.js";import{C as X}from"./calendar-DKI1hr2B.js";import{R as j,T as p}from"./CategoricalChart-CMN3op_2.js";import{A as Y,a as v}from"./AreaChart-qX0VVQA7.js";import{C as y,X as g,Y as b}from"./CartesianChart-D-vjah-V.js";import{L as E}from"./Legend-NoqqayXe.js";import{B as T}from"./BarChart-BFhdqKhC.js";import{B as C}from"./barSelectors-BHYSw6MA.js";import{P as q,a as F}from"./PieChart-CMKjaBVi.js";import{C as G}from"./tooltipContext-DtVH8-mA.js";import{A}from"./activity-lekOpH1R.js";/* empty css            */import"./index-BO3GgK9t.js";import"./index-exm1JAg4.js";import"./index-D7qm94Yl.js";import"./Combination-C5IUXXYh.js";import"./x-RnAAca9d.js";import"./index-BBKsozoC.js";import"./app-logo-icon-DhSh7KcS.js";import"./input-BIaS0EAz.js";import"./label-CbT9r7o4.js";import"./user-CFwvzY-o.js";import"./folder-WM0Q2jqL.js";import"./triangle-alert-DMJQlJHA.js";import"./search-Dy3uqUBg.js";import"./ActivePoints-BMs2b_JU.js";function Ds({email:e,sms:a,graficos:n}){const[w,k]=K.useState(!1),M=()=>{k(!0),setTimeout(()=>{window.location.reload()},1e3)},D=()=>{console.log("Exportando estadísticas...")},U=[{servicio:"Email",hoy:e.emails_hoy,semana:e.emails_semana},{servicio:"SMS",hoy:a.sms_hoy,semana:a.sms_semana}],_=[{name:"Con Email",value:e.usuarios_activos_email,color:"#3b82f6"},{name:"Con Teléfono",value:a.usuarios_con_telefono,color:"#10b981"}];return s.jsxs(H,{children:[s.jsx(R,{title:"Estadísticas - Servicios Externos - ArchiveyCloud"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(B,{href:"/admin/servicios-externos",children:s.jsxs(u,{variant:"outline",size:"sm",children:[s.jsx($,{className:"h-4 w-4 mr-2"}),"Volver"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Estadísticas de Servicios Externos"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Análisis detallado del rendimiento de email y SMS"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(u,{onClick:M,disabled:w,variant:"outline",children:[s.jsx(z,{className:`h-4 w-4 mr-2 ${w?"animate-spin":""}`}),"Actualizar"]}),s.jsxs(u,{onClick:D,variant:"outline",children:[s.jsx(I,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(i,{children:s.jsx(r,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(f,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.emails_hoy}),s.jsx("p",{className:"text-sm text-gray-600",children:"Emails Hoy"})]})]})})}),s.jsx(i,{children:s.jsx(r,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(N,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.sms_hoy}),s.jsx("p",{className:"text-sm text-gray-600",children:"SMS Hoy"})]})]})})}),s.jsx(i,{children:s.jsx(r,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(S,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:e.usuarios_activos_email}),s.jsx("p",{className:"text-sm text-gray-600",children:"Usuarios Email"})]})]})})}),s.jsx(i,{children:s.jsx(r,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(X,{className:"h-5 w-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:e.emails_semana+a.sms_semana}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Semana"})]})]})})})]}),s.jsxs(L,{defaultValue:"timeline",className:"space-y-4",children:[s.jsxs(P,{children:[s.jsx(m,{value:"timeline",children:"Tendencias"}),s.jsx(m,{value:"comparacion",children:"Comparación"}),s.jsx(m,{value:"usuarios",children:"Usuarios"}),s.jsx(m,{value:"tipos",children:"Por Tipo"})]}),s.jsx(h,{value:"timeline",className:"space-y-4",children:s.jsxs(i,{children:[s.jsxs(o,{children:[s.jsxs(d,{className:"flex items-center space-x-2",children:[s.jsx(O,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{children:"Tendencias de Envíos (Últimos 7 días)"})]}),s.jsx(x,{children:"Actividad diaria de emails, SMS y notificaciones automáticas"})]}),s.jsx(r,{children:s.jsx("div",{className:"h-80",children:s.jsx(j,{width:"100%",height:"100%",children:s.jsxs(Y,{data:n.timeline,children:[s.jsx(y,{strokeDasharray:"3 3"}),s.jsx(g,{dataKey:"fecha"}),s.jsx(b,{}),s.jsx(p,{}),s.jsx(E,{}),s.jsx(v,{type:"monotone",dataKey:"emails",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,name:"Emails"}),s.jsx(v,{type:"monotone",dataKey:"sms",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"SMS"}),s.jsx(v,{type:"monotone",dataKey:"notificaciones",stackId:"1",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.6,name:"Notificaciones"})]})})})})]})}),s.jsx(h,{value:"comparacion",className:"space-y-4",children:s.jsxs(i,{children:[s.jsxs(o,{children:[s.jsxs(d,{className:"flex items-center space-x-2",children:[s.jsx(V,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{children:"Comparación Email vs SMS"})]}),s.jsx(x,{children:"Volumen de envíos por servicio"})]}),s.jsxs(r,{children:[s.jsx("div",{className:"h-80",children:s.jsx(j,{width:"100%",height:"100%",children:s.jsxs(T,{data:U,children:[s.jsx(y,{strokeDasharray:"3 3"}),s.jsx(g,{dataKey:"servicio"}),s.jsx(b,{}),s.jsx(p,{}),s.jsx(E,{}),s.jsx(C,{dataKey:"hoy",fill:"#3b82f6",name:"Hoy"}),s.jsx(C,{dataKey:"semana",fill:"#10b981",name:"Esta Semana"})]})})}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(f,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{className:"font-medium",children:"Email"})]}),s.jsx(c,{variant:"outline",children:"Principal"})]}),s.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[s.jsxs("p",{children:["Hoy: ",e.emails_hoy," | Semana: ",e.emails_semana]}),s.jsxs("p",{children:["Usuarios activos: ",e.usuarios_activos_email]})]})]}),s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(N,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"font-medium",children:"SMS"})]}),s.jsx(c,{variant:"outline",children:"Crítico"})]}),s.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[s.jsxs("p",{children:["Hoy: ",a.sms_hoy," | Semana: ",a.sms_semana]}),s.jsxs("p",{children:["Usuarios con teléfono: ",a.usuarios_con_telefono]})]})]})]})]})]})}),s.jsx(h,{value:"usuarios",className:"space-y-4",children:s.jsxs(i,{children:[s.jsxs(o,{children:[s.jsxs(d,{className:"flex items-center space-x-2",children:[s.jsx(S,{className:"h-5 w-5 text-orange-600"}),s.jsx("span",{children:"Distribución de Usuarios"})]}),s.jsx(x,{children:"Usuarios configurados para recibir notificaciones"})]}),s.jsx(r,{children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"h-64",children:s.jsx(j,{width:"100%",height:"100%",children:s.jsxs(q,{children:[s.jsx(F,{data:_,cx:"50%",cy:"50%",labelLine:!1,label:({name:l,value:t})=>`${l}: ${t}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:_.map((l,t)=>s.jsx(G,{fill:l.color},`cell-${t}`))}),s.jsx(p,{})]})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(f,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium",children:"Usuarios con Email"})]}),s.jsx(c,{variant:"default",className:"bg-blue-100 text-blue-800",children:e.usuarios_activos_email})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(N,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium",children:"Usuarios con Teléfono"})]}),s.jsx(c,{variant:"default",className:"bg-green-100 text-green-800",children:a.usuarios_con_telefono})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Cobertura Email:"})," Disponible para todos los usuarios"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Cobertura SMS:"})," Solo usuarios con teléfono configurado"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Recomendación:"})," Completar datos de teléfono para mejor cobertura"]})]})]})]})})]})}),s.jsx(h,{value:"tipos",className:"space-y-4",children:s.jsxs(i,{children:[s.jsxs(o,{children:[s.jsxs(d,{className:"flex items-center space-x-2",children:[s.jsx(A,{className:"h-5 w-5 text-red-600"}),s.jsx("span",{children:"Notificaciones por Tipo (Últimos 7 días)"})]}),s.jsx(x,{children:"Distribución de notificaciones automáticas por categoría"})]}),s.jsx(r,{children:n.por_tipo.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-80",children:s.jsx(j,{width:"100%",height:"100%",children:s.jsxs(T,{data:n.por_tipo,layout:"horizontal",children:[s.jsx(y,{strokeDasharray:"3 3"}),s.jsx(g,{type:"number"}),s.jsx(b,{dataKey:"tipo",type:"category",width:120}),s.jsx(p,{}),s.jsx(C,{dataKey:"total",fill:"#8b5cf6"})]})})}),s.jsx("div",{className:"mt-4 space-y-2",children:n.por_tipo.map((l,t)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-sm",children:l.tipo}),s.jsx(c,{variant:"outline",children:l.total})]},t))})]}):s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No hay datos de notificaciones por tipo en los últimos 7 días"})]})})]})})]})]})]})}export{Ds as default};
