import{j as e,H as v,L as h}from"./app-C2QgFBom.js";import{A as w,S as j,g as n,o as y,n as c}from"./app-layout-j5VhtrFd.js";import{B as u}from"./app-logo-icon-kgLecfFe.js";import{C as t,a as r,b as i,c as l,d as b}from"./card-CrGN8CzZ.js";import{B as m}from"./badge-BFVNHYkY.js";import{C as x}from"./circle-check-big-BEw8WyDs.js";import{A as D}from"./award-CIKD_Qjp.js";import{C}from"./calendar-C7pjaZu7.js";import{C as g}from"./circle-x-BvyTtkJb.js";/* empty css            */import"./index-BxJzMr2C.js";import"./label-qT7SWw3g.js";import"./index-ZCIP30dM.js";function R({estadisticas:a,firmasRecientes:o}){const f=s=>new Date(s).toLocaleString(),p=(s,d)=>s?d?e.jsx(x,{className:"w-4 h-4 text-green-600"}):e.jsx(c,{className:"w-4 h-4 text-yellow-600"}):e.jsx(g,{className:"w-4 h-4 text-red-600"}),N=(s,d)=>s?d?e.jsx(m,{className:"bg-green-100 text-green-800",children:"Válida"}):e.jsx(m,{variant:"outline",className:"text-yellow-600",children:"Expirada"}):e.jsx(m,{variant:"destructive",children:"Inválida"});return e.jsxs(w,{children:[e.jsx(v,{title:"Dashboard de Firmas Digitales"}),e.jsxs("div",{className:"container mx-auto py-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(j,{className:"w-8 h-8 text-blue-600"}),"Dashboard de Firmas Digitales"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Resumen de su actividad de firma digital y estadísticas personales"})]}),e.jsx(h,{href:"/admin/documentos",children:e.jsxs(u,{children:[e.jsx(n,{className:"w-4 h-4 mr-2"}),"Ver Documentos"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsxs(t,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Documentos Firmados"}),e.jsx(n,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.documentos_firmados}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de documentos"})]})]}),e.jsxs(t,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Firmas Este Mes"}),e.jsx(y,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.firmas_este_mes}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["En ",new Date().toLocaleDateString("es-ES",{month:"long"})]})]})]}),e.jsxs(t,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Firmas Válidas"}),e.jsx(x,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:a.firmas_validas}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Verificadas"})]})]}),e.jsxs(t,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Última Firma"}),e.jsx(c,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-sm font-medium",children:a.ultima_firma?new Date(a.ultima_firma).toLocaleDateString():"Nunca"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.ultima_firma&&`Hace ${Math.floor((Date.now()-new Date(a.ultima_firma).getTime())/(1e3*60*60*24))} días`})]})]})]}),e.jsxs(t,{children:[e.jsxs(r,{children:[e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5"}),"Firmas Recientes"]}),e.jsx(b,{children:"Sus últimas 10 firmas digitales aplicadas"})]}),e.jsx(l,{children:o.length>0?e.jsx("div",{className:"space-y-4",children:o.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[p(s.valida,s.vigente),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.documento_nombre}),s.expediente&&e.jsxs("div",{className:"text-sm text-gray-600",children:["Expediente: ",s.expediente]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(C,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:f(s.fecha_firma)})]}),s.motivo&&e.jsxs("div",{className:"text-sm text-gray-500 mt-1 italic",children:['"',s.motivo,'"']})]})]}),e.jsx("div",{className:"text-right",children:N(s.valida,s.vigente)})]},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(j,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay firmas digitales"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Aún no has firmado ningún documento digitalmente."}),e.jsx(h,{href:"/admin/documentos",children:e.jsxs(u,{children:[e.jsx(n,{className:"w-4 h-4 mr-2"}),"Explorar Documentos"]})})]})})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(t,{children:[e.jsx(r,{children:e.jsx(i,{className:"text-sm",children:"¿Qué es una Firma Digital?"})}),e.jsx(l,{className:"text-sm text-gray-600",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Autenticidad:"})," Confirma la identidad del firmante"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Integridad:"})," Garantiza que el documento no fue alterado"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"No repudio:"})," El firmante no puede negar la firma"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Tiempo:"})," Registro de cuándo se realizó la firma"]})]})})]}),e.jsxs(t,{children:[e.jsx(r,{children:e.jsx(i,{className:"text-sm",children:"Estados de Firma"})}),e.jsx(l,{className:"text-sm text-gray-600",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"w-4 h-4 text-green-600"}),e.jsx("strong",{children:"Válida:"})," Firma correcta y vigente"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(c,{className:"w-4 h-4 text-yellow-600"}),e.jsx("strong",{children:"Expirada:"})," Firma válida pero fuera del período de vigencia"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-4 h-4 text-red-600"}),e.jsx("strong",{children:"Inválida:"})," Firma comprometida o documento alterado"]})]})})]})]})]})]})}export{R as default};
