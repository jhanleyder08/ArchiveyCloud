import{u as w,r as g,j as e,H as k,L as s,a as i}from"./app-BR7GBaww.js";import{A as S,U as h}from"./app-layout-Zpo5H8GH.js";import{c as n}from"./app-logo-icon-LOZk5lNR.js";import{U,a as _}from"./user-x-RjXrcxtt.js";/* empty css            */import"./index-DUh5Egdw.js";import"./index-C_gu4PiK.js";import"./index-CEb7KmxB.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],D=n("Plus",A);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],u=n("Search",$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],E=n("SquarePen",C);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],p=n("Trash2",P),M=[{title:"Dashboard",href:"/dashboard"},{title:"Administración",href:"#"},{title:"Gestión de usuarios",href:"/admin/users"}];function B({users:r,stats:c,filters:d}){const{flash:l}=w().props,[m,b]=g.useState(d.search||""),[o,x]=g.useState(null),y=t=>{t.preventDefault(),i.get("/admin/users",{search:m,status:d.status},{preserveState:!0,replace:!0})},f=t=>{i.patch(`/admin/users/${t.id}/toggle-status`,{},{preserveState:!0})},j=t=>{i.delete(`/admin/users/${t.id}`,{preserveState:!0}),x(null)},N=t=>new Date(t).toLocaleDateString("es-ES"),v=t=>t.active?t.email_verified_at?{text:"Activo",color:"bg-green-100 text-green-800"}:{text:"Pendiente",color:"bg-yellow-100 text-yellow-800"}:{text:"Inactivo",color:"bg-red-100 text-red-800"};return e.jsxs(S,{breadcrumbs:M,children:[e.jsx(k,{title:"Gestión de Usuarios"}),e.jsxs("div",{className:"space-y-6",children:[l?.success&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:l.success}),l?.error&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:l.error}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{className:"h-6 w-6 text-[#2a3d83] dark:text-blue-400"}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Gestión de Usuarios"})]}),e.jsxs(s,{href:"/admin/users/create",className:"flex items-center gap-2 px-4 py-2 bg-[#2a3d83] text-white rounded-lg hover:bg-[#1e2b5f] transition-colors",children:[e.jsx(D,{className:"h-4 w-4"}),"Nuevo Usuario"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border dark:border-gray-700 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Usuarios"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:c.total})]}),e.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/20 rounded-full",children:e.jsx(h,{className:"h-6 w-6 text-[#2a3d83] dark:text-blue-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border dark:border-gray-700 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Usuarios Activos"}),e.jsx("p",{className:"text-2xl font-semibold text-green-600 dark:text-green-400",children:c.active})]}),e.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/20 rounded-full",children:e.jsx("div",{className:"h-6 w-6 bg-green-500 dark:bg-green-400 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"h-2 w-2 bg-white dark:bg-gray-900 rounded-full"})})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border dark:border-gray-700 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pendientes"}),e.jsx("p",{className:"text-2xl font-semibold text-yellow-600 dark:text-yellow-400",children:c.pending})]}),e.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/20 rounded-full",children:e.jsx("div",{className:"h-6 w-6 bg-yellow-500 dark:bg-yellow-400 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"h-2 w-2 bg-white dark:bg-gray-900 rounded-full"})})})]})})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border dark:border-gray-700 p-6",children:e.jsxs("form",{onSubmit:y,className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:e.jsxs("div",{className:"relative flex-1 sm:w-80",children:[e.jsx(u,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 dark:text-gray-500"}),e.jsx("input",{type:"text",value:m,onChange:t=>b(t.target.value),placeholder:"Buscar usuarios...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-[#2a3d83] dark:focus:ring-blue-500 focus:border-[#2a3d83] dark:focus:border-blue-500"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:d.status||"",onChange:t=>i.get("/admin/users",{search:d.search,status:t.target.value||void 0},{preserveState:!0,replace:!0}),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-[#2a3d83] dark:focus:ring-blue-500 focus:border-[#2a3d83] dark:focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Todos los estados"}),e.jsx("option",{value:"active",children:"Activos"}),e.jsx("option",{value:"inactive",children:"Inactivos"}),e.jsx("option",{value:"pending",children:"Pendientes"})]}),e.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(u,{className:"h-4 w-4"}),"Buscar"]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border dark:border-gray-700 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 border-b dark:border-gray-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900 dark:text-white",children:"Usuario"}),e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900 dark:text-white",children:"Email"}),e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900 dark:text-white",children:"Rol"}),e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900 dark:text-white",children:"Estado"}),e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900 dark:text-white",children:"Registro"}),e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900 dark:text-white",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:r.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-8 px-6 text-center text-gray-500 dark:text-gray-400",children:"No se encontraron usuarios."})}):r.data.map(t=>{const a=v(t);return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 bg-[#2a3d83] rounded-full flex items-center justify-center text-white text-sm font-medium",children:t.name.charAt(0).toUpperCase()}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.name})]})}),e.jsx("td",{className:"py-4 px-6 text-gray-600 dark:text-gray-300",children:t.email}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/20 text-[#2a3d83] dark:text-blue-400",children:t.role.name})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.color}`,children:a.text})}),e.jsx("td",{className:"py-4 px-6 text-gray-600 dark:text-gray-300",children:N(t.created_at)}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(s,{href:`/admin/users/${t.id}/edit`,className:"inline-flex items-center gap-1 text-[#2a3d83] dark:text-blue-400 hover:text-[#1e2b5f] dark:hover:text-blue-300 text-sm font-medium",children:[e.jsx(E,{className:"h-3 w-3"}),"Editar"]}),e.jsx("button",{onClick:()=>f(t),className:`inline-flex items-center gap-1 text-sm font-medium ${t.active?"text-orange-600 hover:text-orange-800":"text-green-600 hover:text-green-800"}`,children:t.active?e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"h-3 w-3"}),"Desactivar"]}):e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"h-3 w-3"}),"Activar"]})}),e.jsxs("button",{onClick:()=>x(t),className:"inline-flex items-center gap-1 text-red-600 hover:text-red-800 text-sm font-medium",children:[e.jsx(p,{className:"h-3 w-3"}),"Eliminar"]})]})})]},t.id)})})]})})}),r.data.length>0&&e.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg px-6 py-3",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Mostrando ",e.jsx("span",{className:"font-medium",children:r.meta?.from||r.from||0})," a"," ",e.jsx("span",{className:"font-medium",children:r.meta?.to||r.to||0})," de"," ",e.jsx("span",{className:"font-medium",children:r.meta?.total||r.total||0})," usuarios"]}),e.jsx("div",{className:"flex items-center gap-2",children:r.links.map((t,a)=>t.label.includes("Previous")?e.jsx(s,{href:t.url||"#",preserveState:!0,className:`px-3 py-2 border border-gray-300 rounded-md text-sm font-medium ${t.url?"text-gray-700 hover:bg-gray-50":"text-gray-300 cursor-not-allowed"}`,children:"Anterior"},a):t.label.includes("Next")?e.jsx(s,{href:t.url||"#",preserveState:!0,className:`px-3 py-2 border border-gray-300 rounded-md text-sm font-medium ${t.url?"text-gray-700 hover:bg-gray-50":"text-gray-300 cursor-not-allowed"}`,children:"Siguiente"},a):isNaN(Number(t.label))?null:e.jsx(s,{href:t.url||"#",preserveState:!0,className:`px-3 py-2 rounded-md text-sm font-medium ${t.active?"bg-[#2a3d83] text-white":"border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:t.label},a))})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:e.jsx(p,{className:"h-5 w-5 text-red-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirmar eliminación"})]}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["¿Estás seguro de que deseas eliminar al usuario"," ",e.jsx("span",{className:"font-medium",children:o.name}),"?"," ","Esta acción no se puede deshacer."]}),e.jsxs("div",{className:"flex items-center gap-3 justify-end",children:[e.jsx("button",{onClick:()=>x(null),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),e.jsx("button",{onClick:()=>j(o),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Eliminar"})]})]})})]})]})}export{B as default};
