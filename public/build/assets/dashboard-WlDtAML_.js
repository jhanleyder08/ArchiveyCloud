import{r as _,j as e,H as T}from"./app-D9ITnC4R.js";import{A as B}from"./app-layout-CxnFkzDa.js";import{C as a,a as t,b as l,c as n,d as c}from"./card-BneAbULf.js";import{B as D}from"./badge-DBHjsSN1.js";import{B as A}from"./button-CWflhP9D.js";import{T as R,a as F,b as d,c as o}from"./tabs-UL8vtzcr.js";import{R as k}from"./refresh-cw-BAcF4CJU.js";import{F as p}from"./Combination-_iW52Z_h.js";import{F as S}from"./folder-CXwcyQUZ.js";import{j as u}from"./app-sidebar-layout-gRrSD5YA.js";import{C as E}from"./circle-check-big-DRXfjEY8.js";import{R as x,T as m}from"./CategoricalChart-DZnn4Bpa.js";import{P as K,a as L}from"./PieChart-DF5qakug.js";import{C as $}from"./tooltipContext-D8fdAuXc.js";import{A as H,a as f}from"./AreaChart-Bnz35wyo.js";import{C as b,X as g,Y as N}from"./CartesianChart-BvOo0juj.js";import{L as I}from"./Legend-BxDS01Df.js";import{B as M}from"./BarChart-BEVzdspo.js";import{B as P}from"./barSelectors-BXu57JnZ.js";import{T as z}from"./users-DTbvNCQh.js";import{T as O}from"./triangle-alert-BQotcmUa.js";/* empty css            */import"./index-Dae7BiwW.js";import"./index-D4ETnYEq.js";import"./index-BUHUwZ11.js";import"./x-BnKM6KL5.js";import"./index-BYPhSTSm.js";import"./app-logo-icon-C1EJBQs2.js";import"./input-C6rIXJQq.js";import"./label-Cmeh_um-.js";import"./user-4NQW7odk.js";import"./search-C5Ovj2LQ.js";import"./ActivePoints-CWa5VAl2.js";const y=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#06B6D4","#84CC16"];function we({estadisticas:r}){const[h,j]=_.useState(!1),v=async()=>{j(!0);try{window.location.reload()}catch(s){console.error("Error refreshing:",s)}finally{setTimeout(()=>j(!1),1e3)}},w=s=>{switch(s){case"conservacion_permanente":return e.jsx(u,{className:"h-4 w-4"});case"eliminacion":return e.jsx(O,{className:"h-4 w-4"});case"transferencia":return e.jsx(z,{className:"h-4 w-4"});default:return e.jsx(p,{className:"h-4 w-4"})}},C=s=>{switch(s){case"conservacion_permanente":return"bg-blue-100 text-blue-800";case"eliminacion":return"bg-red-100 text-red-800";case"transferencia":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs(B,{children:[e.jsx(T,{title:"Dashboard Series Documentales - ArchiveyCloud"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard Series Documentales"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Análisis y métricas del sistema de series documentales"})]}),e.jsxs(A,{onClick:v,disabled:h,variant:"outline",children:[e.jsx(k,{className:`h-4 w-4 mr-2 ${h?"animate-spin":""}`}),"Actualizar"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(a,{children:[e.jsxs(t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Total Series"}),e.jsx(p,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.total_series}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.series_activas," activas"]})]})]}),e.jsxs(a,{children:[e.jsxs(t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Subseries"}),e.jsx(S,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.total_subseries}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total en el sistema"})]})]}),e.jsxs(a,{children:[e.jsxs(t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Expedientes"}),e.jsx(u,{className:"h-4 w-4 text-purple-600"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.total_expedientes}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Vinculados a series"})]})]}),e.jsxs(a,{children:[e.jsxs(t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Estado Sistema"}),e.jsx(E,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(n,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(r.series_activas/r.total_series*100),"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Series activas"})]})]})]}),e.jsxs(R,{defaultValue:"distribucion",className:"space-y-4",children:[e.jsxs(F,{className:"grid w-full grid-cols-4",children:[e.jsx(d,{value:"distribucion",children:"Distribución"}),e.jsx(d,{value:"actividad",children:"Actividad"}),e.jsx(d,{value:"ranking",children:"Rankings"}),e.jsx(d,{value:"retencion",children:"Retención"})]}),e.jsx(o,{value:"distribucion",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(a,{children:[e.jsxs(t,{children:[e.jsx(l,{children:"Series por TRD"}),e.jsx(c,{children:"Distribución de series por tabla de retención"})]}),e.jsx(n,{children:e.jsx(x,{width:"100%",height:300,children:e.jsxs(K,{children:[e.jsx(L,{data:r.series_por_trd,cx:"50%",cy:"50%",labelLine:!1,label:({trd:s,percent:i})=>`${s}: ${(i*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"cantidad",children:r.series_por_trd.map((s,i)=>e.jsx($,{fill:s.color||y[i%y.length]},`cell-${i}`))}),e.jsx(m,{})]})})})]}),e.jsxs(a,{children:[e.jsxs(t,{children:[e.jsx(l,{children:"Tipos de Disposición Final"}),e.jsx(c,{children:"Distribución por tipo de disposición"})]}),e.jsx(n,{children:e.jsx("div",{className:"space-y-4",children:r.distribucion_disposicion.map((s,i)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[w(s.tipo),e.jsx("span",{className:"font-medium",children:s.tipo.replace("_"," ")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{className:C(s.tipo),children:s.cantidad}),e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${s.cantidad/r.total_series*100}%`}})})]})]},i))})})]})]})}),e.jsx(o,{value:"actividad",className:"space-y-6",children:e.jsxs(a,{children:[e.jsxs(t,{children:[e.jsx(l,{children:"Actividad Mensual"}),e.jsx(c,{children:"Creación de series y expedientes por mes"})]}),e.jsx(n,{children:e.jsx(x,{width:"100%",height:400,children:e.jsxs(H,{data:r.actividad_mensual,children:[e.jsx(b,{strokeDasharray:"3 3"}),e.jsx(g,{dataKey:"mes"}),e.jsx(N,{}),e.jsx(m,{}),e.jsx(I,{}),e.jsx(f,{type:"monotone",dataKey:"series_creadas",stackId:"1",stroke:"#3B82F6",fill:"#3B82F6",name:"Series Creadas"}),e.jsx(f,{type:"monotone",dataKey:"expedientes_creados",stackId:"1",stroke:"#10B981",fill:"#10B981",name:"Expedientes Creados"})]})})})]})}),e.jsx(o,{value:"ranking",className:"space-y-6",children:e.jsxs(a,{children:[e.jsxs(t,{children:[e.jsx(l,{children:"Series Más Utilizadas"}),e.jsx(c,{children:"Ranking por número de expedientes y subseries"})]}),e.jsx(n,{children:e.jsx("div",{className:"space-y-4",children:r.series_mas_usadas.map((s,i)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold ${i===0?"bg-yellow-500":i===1?"bg-gray-400":i===2?"bg-amber-600":"bg-blue-500"}`,children:i+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:s.serie}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.subseries," subseries"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.expedientes}),e.jsx("div",{className:"text-sm text-gray-600",children:"expedientes"})]})]},i))})})]})}),e.jsx(o,{value:"retencion",className:"space-y-6",children:e.jsxs(a,{children:[e.jsxs(t,{children:[e.jsx(l,{children:"Análisis de Tiempos de Retención"}),e.jsx(c,{children:"Distribución de series por rangos de retención"})]}),e.jsx(n,{children:e.jsx(x,{width:"100%",height:400,children:e.jsxs(M,{data:r.tiempos_retencion,children:[e.jsx(b,{strokeDasharray:"3 3"}),e.jsx(g,{dataKey:"rango"}),e.jsx(N,{}),e.jsx(m,{}),e.jsx(P,{dataKey:"cantidad",fill:"#3B82F6"})]})})})]})})]})]})]})}export{we as default};
