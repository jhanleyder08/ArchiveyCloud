import{r as j,u as b,j as e,H as _}from"./app-mZuumBHF.js";import{A as C}from"./app-layout-BAEvnt2M.js";import{B as l}from"./button-CUXILrBa.js";import{I as o}from"./input-BwUHTfxZ.js";import{L as c}from"./label-DtEYR7Zx.js";import{F as N,T as y}from"./app-sidebar-layout-DgXQHrk3.js";import{S as D,a as S,b as F,c as E,d as I}from"./select-CYbjEh6T.js";import{C as A,a as w,b as T,c as V}from"./card-CwuWjEsc.js";import{A as L,a as B}from"./alert-BDPsR-n9.js";import{u as $}from"./useInertiaActions-BKnbZ69u.js";import{A as h}from"./arrow-left-CANkpnGq.js";import{I as q}from"./info-D7J8QKym.js";import{S as H}from"./save-B5Ytldfv.js";/* empty css            */import"./index-d6pHo9Cr.js";import"./index-D6GAEQ53.js";import"./Combination-BPgq6ehx.js";import"./index-C5M9l-mU.js";import"./x-Br6x5XB2.js";import"./app-logo-icon-Cnzpm7V1.js";import"./user-DfxlciF3.js";import"./mail-DVdBUCYf.js";import"./users-Y5nqKMVE.js";import"./folder-Bsqg8PO1.js";import"./triangle-alert-CDk1eHQ1.js";import"./search-CkPPQGcv.js";import"./index-Ba0z6mKc.js";import"./check-DE7lb3_4.js";function xe({ccd:s,opciones:x}){const n=$({only:["ccd"]}),[m,d]=j.useState(!1),{data:r,setData:t,processing:p,errors:i}=b({codigo:s.codigo||"",nombre:s.nombre||"",descripcion:s.descripcion||"",version:s.version||"1.0",estado:s.estado||"borrador",fecha_vigencia_inicio:s.fecha_vigencia_inicio?s.fecha_vigencia_inicio.split("T")[0]:"",fecha_vigencia_fin:s.fecha_vigencia_fin?s.fecha_vigencia_fin.split("T")[0]:""}),v=[{title:"Inicio",href:"/dashboard"},{title:"Administración",href:"/admin"},{title:"CCD",href:"/admin/ccd"},{title:`Editar: ${s.codigo}`,href:`/admin/ccd/${s.id}/edit`}],f=a=>{a.preventDefault(),d(!0),n.update(`/admin/ccd/${s.id}`,r,{successMessage:"Cuadro de Clasificación Documental actualizado exitosamente",errorMessage:"Error al actualizar el CCD. Revisa los campos marcados.",onSuccess:()=>{d(!1),n.visit("/admin/ccd")},onError:g=>{d(!1),console.error("Errores de validación:",g)}})},u=x?.estados||[{value:"borrador",label:"Borrador"},{value:"activo",label:"Activo"},{value:"inactivo",label:"Inactivo"},{value:"archivado",label:"Archivado"}];return e.jsxs(C,{breadcrumbs:v,children:[e.jsx(_,{title:`Editar CCD: ${s.codigo}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(N,{className:"h-6 w-6 text-[#2a3d83]"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Editar Cuadro de Clasificación Documental"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Código: ",e.jsx("span",{className:"font-medium",children:s.codigo})]})]})]}),e.jsxs(l,{type:"button",variant:"outline",onClick:()=>n.visit("/admin/ccd"),className:"flex items-center gap-2",children:[e.jsx(h,{className:"h-4 w-4"}),"Volver"]})]}),e.jsxs(L,{children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx(B,{children:"Modificando información del Cuadro de Clasificación Documental. Los cambios se aplicarán inmediatamente."})]}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs(A,{children:[e.jsx(w,{children:e.jsx(T,{children:"Información Básica"})}),e.jsxs(V,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"codigo",children:"Código *"}),e.jsx(o,{id:"codigo",type:"text",value:r.codigo,onChange:a=>t("codigo",a.target.value),placeholder:"Ej: CCD-001",className:i.codigo?"border-red-500":"",required:!0}),i.codigo&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.codigo})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"version",children:"Versión *"}),e.jsx(o,{id:"version",type:"text",value:r.version,onChange:a=>t("version",a.target.value),placeholder:"Ej: 1.0",className:i.version?"border-red-500":"",required:!0}),i.version&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.version})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"nombre",children:"Nombre *"}),e.jsx(o,{id:"nombre",type:"text",value:r.nombre,onChange:a=>t("nombre",a.target.value),placeholder:"Nombre del CCD",className:i.nombre?"border-red-500":"",required:!0}),i.nombre&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.nombre})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"descripcion",children:"Descripción"}),e.jsx(y,{id:"descripcion",value:r.descripcion,onChange:a=>t("descripcion",a.target.value),placeholder:"Descripción del CCD",className:i.descripcion?"border-red-500":"",rows:3}),i.descripcion&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.descripcion})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"estado",children:"Estado *"}),e.jsxs(D,{value:r.estado,onValueChange:a=>t("estado",a),children:[e.jsx(S,{id:"estado",className:i.estado?"border-red-500":"",children:e.jsx(F,{placeholder:"Seleccionar estado"})}),e.jsx(E,{children:u.map(a=>e.jsx(I,{value:a.value,children:a.label},a.value))})]}),i.estado&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.estado})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"fecha_vigencia_inicio",children:"Fecha Vigencia Inicio"}),e.jsx(o,{id:"fecha_vigencia_inicio",type:"date",value:r.fecha_vigencia_inicio,onChange:a=>t("fecha_vigencia_inicio",a.target.value),className:i.fecha_vigencia_inicio?"border-red-500":""}),i.fecha_vigencia_inicio&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.fecha_vigencia_inicio})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"fecha_vigencia_fin",children:"Fecha Vigencia Fin"}),e.jsx(o,{id:"fecha_vigencia_fin",type:"date",value:r.fecha_vigencia_fin,onChange:a=>t("fecha_vigencia_fin",a.target.value),className:i.fecha_vigencia_fin?"border-red-500":""}),i.fecha_vigencia_fin&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.fecha_vigencia_fin})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(l,{type:"button",variant:"outline",onClick:()=>n.visit("/admin/ccd"),children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),e.jsxs(l,{type:"submit",disabled:p||m,className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),m?"Guardando...":"Guardar Cambios"]})]})]})]})]})}export{xe as default};
