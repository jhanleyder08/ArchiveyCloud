import{r as h,j as e,H as S,b as x,t as u}from"./app-qt2VCSHW.js";import{f as w,A as $}from"./app-sidebar-layout-G6-wDKKL.js";import{B as o}from"./button-DFXYzV2Z.js";import{C as v,c as j,a as k,b as g,d as L}from"./card-DWiMLnI2.js";import{I as z}from"./input-CfE4Xz_e.js";import{L as c}from"./label-Bpt8UETt.js";import{S as f}from"./switch-BFIDaeUN.js";import{B as A}from"./Combination-CoqYx7MN.js";import{S as E}from"./separator-qBKutkrq.js";import{R as B}from"./refresh-cw-DWUH3CW3.js";import{S as I}from"./save-B8zEhCFJ.js";/* empty css            */import"./index-BZgYwWWx.js";import"./index-DnmBUpJw.js";import"./index-VNIC8-9Y.js";import"./x-BxMqO2Dk.js";import"./app-logo-icon-B2qWlKKR.js";import"./user-DeQjT80T.js";import"./mail-DfyVAEco.js";import"./users-DgarvUGi.js";import"./folder-BdePZ2wi.js";import"./triangle-alert-B9FT7Ibe.js";import"./search-DaadPwJz.js";import"./BrandingProvider-kslcjmn_.js";import"./index-DAU4uJyH.js";function te({configuraciones:n,categoria:C="seguridad",titulo:i="Seguridad"}){const[t,m]=h.useState(n),[N,p]=h.useState(!1),b=[{title:"Administración",href:"/admin"},{title:"Configuración",href:"/admin/configuracion"},{title:i,href:`/admin/configuracion/${C}`}],d=(a,r,s)=>{m(t.map(l=>l.id===a?{...l,[r]:s}:l))},y=async a=>{p(!0);try{await x.put(`/admin/configuracion/${a.id}`,{valor:a.valor,activo:a.activo},{preserveScroll:!0,onSuccess:()=>{u.success("Configuración actualizada correctamente")},onError:()=>{u.error("Error al actualizar la configuración")}})}finally{p(!1)}};return e.jsxs(w,{breadcrumbs:b,title:i,description:`Configuración de ${i.toLowerCase()}`,children:[e.jsx(S,{title:i}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>x.visit("/admin/configuracion"),children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Volver"]})})}),e.jsx("div",{className:"grid gap-6",children:t.length===0?e.jsx(v,{children:e.jsx(j,{className:"p-6",children:e.jsx("p",{className:"text-center text-muted-foreground",children:"No hay configuraciones disponibles para esta categoría"})})}):t.map(a=>e.jsxs(v,{children:[e.jsx(k,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(g,{className:"text-lg font-medium",children:a.clave}),a.descripcion&&e.jsx(L,{children:a.descripcion})]}),e.jsx(A,{variant:a.activo?"default":"secondary",children:a.activo?"Activo":"Inactivo"})]})}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4",children:[a.tipo==="boolean"?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(c,{htmlFor:`valor-${a.id}`,children:"Valor"}),e.jsx(f,{id:`valor-${a.id}`,checked:a.valor==="true"||a.valor==="1",onCheckedChange:r=>d(a.id,"valor",r?"true":"false")})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:`valor-${a.id}`,children:"Valor"}),e.jsx(z,{id:`valor-${a.id}`,type:a.tipo==="number"?"number":"text",value:a.valor,onChange:r=>d(a.id,"valor",r.target.value),placeholder:"Ingrese el valor"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(c,{htmlFor:`activo-${a.id}`,children:"Estado"}),e.jsx(f,{id:`activo-${a.id}`,checked:a.activo,onCheckedChange:r=>d(a.id,"activo",r)})]})]}),e.jsx(E,{}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>{const r=n.find(s=>s.id===a.id);r&&m(t.map(s=>s.id===a.id?r:s))},children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Restablecer"]}),e.jsxs(o,{size:"sm",onClick:()=>y(a),disabled:N,children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Guardar"]})]})]})]},a.id))})]})]})}export{te as default};
