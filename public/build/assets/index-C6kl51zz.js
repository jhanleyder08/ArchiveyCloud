import{r as C,j as e,H as _,L as t}from"./app-C2QgFBom.js";import{A as S,Z as E,_ as A,r as h,n as T,C as R,o as M,a as f}from"./app-layout-j5VhtrFd.js";import{C as l,a as n,b as d,d as j,c as x}from"./card-CrGN8CzZ.js";import{B as r}from"./app-logo-icon-kgLecfFe.js";import{B as c}from"./badge-BFVNHYkY.js";import{S as p}from"./separator-DmlsKWqH.js";import{R as P}from"./refresh-cw-Crry0SYL.js";import{T as u}from"./test-tube-C4K0DeZr.js";import{A as m}from"./activity-DaFfkZ8g.js";import{C as B}from"./calendar-C7pjaZu7.js";import{Z as k}from"./zap-CqXeiBrZ.js";import{C as H}from"./circle-check-big-BEw8WyDs.js";/* empty css            */import"./index-BxJzMr2C.js";import"./label-qT7SWw3g.js";import"./index-ZCIP30dM.js";function X({estadisticas:a,configuracion:i,logs_recientes:o}){const[N,g]=C.useState(!1),y=()=>{g(!0),setTimeout(()=>{window.location.reload()},1e3)},w=s=>{switch(s){case"critica":return"destructive";case"alta":return"secondary";case"media":return"outline";default:return"outline"}},b=s=>{switch(s){case"critica":return e.jsx(f,{className:"h-3 w-3"});case"alta":return e.jsx(M,{className:"h-3 w-3"});default:return e.jsx(m,{className:"h-3 w-3"})}},v=s=>s?e.jsxs(c,{variant:"default",className:"bg-green-100 text-green-800",children:[e.jsx(H,{className:"h-3 w-3 mr-1"}),"Activo"]}):e.jsxs(c,{variant:"secondary",className:"bg-red-100 text-red-800",children:[e.jsx(f,{className:"h-3 w-3 mr-1"}),"Inactivo"]});return e.jsxs(S,{children:[e.jsx(_,{title:"Servicios Externos - ArchiveyCloud"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Servicios Externos"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gestión y monitoreo de servicios de notificaciones por email y SMS"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(r,{onClick:y,disabled:N,variant:"outline",children:[e.jsx(P,{className:`h-4 w-4 mr-2 ${N?"animate-spin":""}`}),"Actualizar"]}),e.jsx(t,{href:"/admin/servicios-externos/testing",children:e.jsxs(r,{children:[e.jsx(u,{className:"h-4 w-4 mr-2"}),"Probar Servicios"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(l,{children:[e.jsxs(n,{children:[e.jsxs(d,{className:"flex items-center space-x-2",children:[e.jsx(E,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Servicio de Email"})]}),e.jsx(j,{children:"Notificaciones por correo electrónico"})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Estado:"}),v(i.email_habilitado)]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-gray-600",children:"Enviados hoy"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.email.enviados_hoy})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-gray-600",children:"Esta semana"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.email.enviados_semana})]})]}),e.jsx(p,{}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Usuarios con email:"}),e.jsx("span",{className:"font-medium",children:a.email.usuarios_con_email})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Último envío:"}),e.jsx("span",{className:"font-medium",children:a.email.ultimo_envio})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Throttling:"}),e.jsxs("span",{className:"font-medium",children:[i.throttling_email,"/hora"]})]})]})]})]}),e.jsxs(l,{children:[e.jsxs(n,{children:[e.jsxs(d,{className:"flex items-center space-x-2",children:[e.jsx(A,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{children:"Servicio de SMS"})]}),e.jsx(j,{children:"Mensajes de texto para alertas críticas"})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Estado:"}),v(i.sms_habilitado)]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-gray-600",children:"Enviados hoy"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.sms.enviados_hoy})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-gray-600",children:"Esta semana"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.sms.enviados_semana})]})]}),e.jsx(p,{}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Usuarios con teléfono:"}),e.jsx("span",{className:"font-medium",children:a.sms.usuarios_con_telefono})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Último envío:"}),e.jsx("span",{className:"font-medium",children:a.sms.ultimo_envio})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Throttling:"}),e.jsxs("span",{className:"font-medium",children:[i.throttling_sms,"/día"]})]})]})]})]})]}),e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs(d,{className:"flex items-center space-x-2",children:[e.jsx(m,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{children:"Actividad de Notificaciones"})]})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:a.notificaciones.total_pendientes}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pendientes Total"})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:a.notificaciones.criticas_pendientes}),e.jsx("div",{className:"text-sm text-gray-600",children:"Críticas Pendientes"})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:a.notificaciones.automaticas_hoy}),e.jsx("div",{className:"text-sm text-gray-600",children:"Automáticas Hoy"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs(d,{className:"flex items-center space-x-2",children:[e.jsx(h,{className:"h-5 w-5 text-gray-600"}),e.jsx("span",{children:"Configuración Actual"})]})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Ambiente:"}),e.jsx(c,{variant:"outline",children:i.ambiente})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Mail Driver:"}),e.jsx(c,{variant:"outline",children:i.mail_driver})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Queue:"}),e.jsx(c,{variant:"outline",children:i.queue_connection})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Resumen diario:"}),e.jsxs(c,{variant:"outline",children:[e.jsx(T,{className:"h-3 w-3 mr-1"}),i.resumen_diario_hora]})]})]}),e.jsx(p,{}),e.jsx("div",{className:"flex justify-end space-x-2",children:e.jsx(t,{href:"/admin/servicios-externos/configuracion",children:e.jsxs(r,{variant:"outline",size:"sm",children:[e.jsx(h,{className:"h-4 w-4 mr-1"}),"Configurar"]})})})]})]}),e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs(d,{className:"flex items-center space-x-2",children:[e.jsx(B,{className:"h-5 w-5 text-orange-600"}),e.jsx("span",{children:"Actividad Reciente"})]})}),e.jsxs(x,{children:[e.jsx("div",{className:"space-y-3",children:o.length>0?o.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(c,{variant:w(s.prioridad),className:"text-xs",children:[b(s.prioridad),s.prioridad]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium truncate max-w-40",children:s.titulo}),e.jsx("p",{className:"text-xs text-gray-500",children:s.usuario})]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:s.created_at})]},s.id)):e.jsxs("div",{className:"text-center py-4 text-gray-500",children:[e.jsx(m,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No hay actividad reciente"})]})}),o.length>5&&e.jsx("div",{className:"mt-4 text-center",children:e.jsx(t,{href:"/admin/notificaciones",children:e.jsx(r,{variant:"ghost",size:"sm",children:"Ver todas las notificaciones"})})})]})]})]}),e.jsxs(l,{children:[e.jsxs(n,{children:[e.jsxs(d,{className:"flex items-center space-x-2",children:[e.jsx(k,{className:"h-5 w-5 text-yellow-600"}),e.jsx("span",{children:"Acciones Rápidas"})]}),e.jsx(j,{children:"Ejecutar tareas administrativas de servicios externos"})]}),e.jsx(x,{children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(t,{href:"/admin/servicios-externos/testing",children:e.jsxs(r,{variant:"outline",children:[e.jsx(u,{className:"h-4 w-4 mr-2"}),"Probar Servicios"]})}),e.jsx(t,{href:"/admin/servicios-externos/estadisticas",children:e.jsxs(r,{variant:"outline",children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Ver Estadísticas"]})}),e.jsx(t,{href:"/admin/servicios-externos/configuracion",children:e.jsxs(r,{variant:"outline",children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"Configuración"]})}),e.jsx(t,{href:"/admin/notificaciones",children:e.jsxs(r,{variant:"outline",children:[e.jsx(m,{className:"h-4 w-4 mr-2"}),"Centro de Notificaciones"]})})]})})]})]})]})}export{X as default};
