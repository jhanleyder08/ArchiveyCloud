import{r as i,j as e,H as _e,b as Ce}from"./app-oNxfBRLg.js";import{A as Se}from"./app-layout-W8X124Ob.js";import{C as l,c as d,a as c,b as n,d as o}from"./card-5vWCNqf9.js";import{B as Fe,F as Ae}from"./Combination-BdUefnHI.js";import{P}from"./progress-DB_NDWti.js";import{T as De,a as Ee,b as m,c as h}from"./tabs-Bsw2nPHv.js";import{B as y}from"./button-CK9ZK9IT.js";import{I as G}from"./input-BWl1lGsq.js";import{L}from"./label-DpUIWM1C.js";import{e as Re,C as ke,S as Be,a as Pe,b as Le,c as Ie,d as v}from"./select-B5_eSPQ4.js";import{C as V,i as I}from"./app-sidebar-layout-prEClG2f.js";import{F as Te}from"./filter-DOmUxat_.js";import{R as Ke}from"./refresh-cw-DzxNKr7P.js";import{A as X}from"./activity-BllZDsdG.js";import{C as Me}from"./folder-B5rwVk21.js";import{L as Oe}from"./loader-circle-BFf7Jw0X.js";import{C as Y}from"./circle-check-big-CbOAY81s.js";import{H as W}from"./hard-drive-BhcKC0cW.js";import{a as $e,R as j,T as g}from"./CategoricalChart-COZgpHKb.js";import{A as q,a as J}from"./AreaChart-BLcvy7G1.js";import{a as Ue,C as w,X as _,Y as p}from"./CartesianChart-DS6iWfR0.js";import{L as C}from"./Legend-1FbaqOuO.js";import{P as Q,a as Z}from"./PieChart-Du9sPLdP.js";import{C as ee}from"./tooltipContext-CU_BCRjC.js";import{a as se,B as ze}from"./BarChart-nGzNC99B.js";import{L as He}from"./Line-DtqkgFZp.js";import{T as Ge}from"./users-Ccr-Nlma.js";/* empty css            */import"./index-Ba-H6ma3.js";import"./index-C8M5vqBQ.js";import"./index-CoFjjCqG.js";import"./index-pInFw5Lg.js";import"./check-CcUTePir.js";import"./x-iE_t9Cph.js";import"./app-logo-icon-BRcKCqh7.js";import"./user-8eyzErWJ.js";import"./mail-D0yVgJcQ.js";import"./triangle-alert-DUb_Rlxa.js";import"./search-sPxt0Cs4.js";import"./BrandingProvider-1py7QB7p.js";import"./ActivePoints-BQHPTIk6.js";var Ve=["axis"],Xe=i.forwardRef((F,A)=>i.createElement(Ue,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ve,tooltipPayloadSearcher:$e,categoricalChartProps:F,ref:A}));const S=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"],ae={abierto:"#22C55E",en_tramite:"#3B82F6",tramite:"#3B82F6",revision:"#F59E0B",cerrado:"#6B7280",inactivo:"#6B7280",archivado:"#8B5CF6",historico:"#8B5CF6"};function Ls({metricas:F,expedientesPorEstado:A,documentosPorTipo:te,seriesMasUsadas:re,actividadReciente:ie,cumplimientoTrd:a,estadisticasAlmacenamiento:le,expedientesPorTipo:T,tendenciaExpedientes:de,usuariosMasActivos:u,filtros:D}){const[r,ce]=i.useState(F),[E,ne]=i.useState(A),[K,oe]=i.useState(te),[xe,me]=i.useState(ie),[M,O]=i.useState(!1),[$,U]=i.useState(!1),[R,he]=i.useState(!1),[x,je]=i.useState(!1),[ge,pe]=i.useState(new Date),[b,ue]=i.useState(D?.fecha_inicio||new Date(Date.now()-365*24*60*60*1e3).toISOString().split("T")[0]),[f,be]=i.useState(D?.fecha_fin||new Date().toISOString().split("T")[0]),[z,fe]=i.useState(D?.periodo||"12"),k=i.useCallback(async()=>{U(!0);try{const s=await fetch(`/admin/reportes/dashboard/data?fecha_inicio=${b}&fecha_fin=${f}`);if(s.ok){const t=await s.json();ce(t.metricas),ne(t.expedientesPorEstado),oe(t.documentosPorTipo),me(t.actividadReciente),pe(new Date)}}catch(s){console.error("Error refreshing data:",s)}finally{U(!1)}},[b,f]);i.useEffect(()=>{let s;return x&&(s=setInterval(k,3e4)),()=>{s&&clearInterval(s)}},[x,k]);const Ne=()=>{O(!0),Ce.get("/admin/reportes/dashboard",{fecha_inicio:b,fecha_fin:f,periodo:z},{preserveState:!0,onFinish:()=>O(!1)})},ye=Object.keys(E||{}).reduce((s,t)=>((E[t]||[]).forEach(N=>{const H=s.find(we=>we.mes===N.mes);H?H[t]=N.total:s.push({mes:N.mes,[t]:N.total})}),s),[]).sort((s,t)=>s.mes.localeCompare(t.mes)),ve=(le||[]).map(s=>({mes:s.mes,documentos:s.documentos,tamaño_mb:Math.round(s.tamaño_total/(1024*1024))})),B=a?.total_series>0?Math.round(a.series_documentadas/a.total_series*100):0;return a?.total_subseries>0&&Math.round(a.subseries_documentadas/a.total_subseries*100),e.jsxs(Se,{breadcrumbs:[{title:"Dashboard",href:"/dashboard"},{title:"Administración",href:"#"},{title:"Reportes",href:"/admin/reportes"},{title:"Dashboard Ejecutivo",href:"/admin/reportes/dashboard"}],children:[e.jsx(_e,{title:"Dashboard Ejecutivo - Reportes"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between pt-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-6 w-6 text-[#2a3d83]"}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Dashboard Ejecutivo"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs(y,{variant:"outline",size:"sm",onClick:()=>he(!R),className:"flex items-center gap-1",children:[e.jsx(Te,{className:"h-4 w-4"}),"Filtros",R?e.jsx(Re,{className:"h-4 w-4"}):e.jsx(ke,{className:"h-4 w-4"})]}),e.jsxs(y,{variant:"outline",size:"sm",onClick:k,disabled:$,className:"flex items-center gap-1",children:[e.jsx(Ke,{className:`h-4 w-4 ${$?"animate-spin":""}`}),"Actualizar"]}),e.jsxs(y,{variant:x?"default":"outline",size:"sm",onClick:()=>je(!x),className:`flex items-center gap-1 ${x?"bg-[#2a3d83]":""}`,children:[e.jsx(X,{className:"h-4 w-4"}),x?"Auto ON":"Auto OFF"]}),e.jsxs(Fe,{variant:"outline",className:"flex items-center space-x-1",children:[e.jsx(Me,{className:"h-3 w-3 text-[#2a3d83]"}),e.jsx("span",{className:"text-xs",children:ge.toLocaleTimeString()})]})]})]}),R&&e.jsx(l,{className:"bg-white border border-gray-200 shadow-sm",children:e.jsx(d,{className:"pt-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"fecha_inicio",children:"Fecha Inicio"}),e.jsx(G,{id:"fecha_inicio",type:"date",value:b,onChange:s=>ue(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"fecha_fin",children:"Fecha Fin"}),e.jsx(G,{id:"fecha_fin",type:"date",value:f,onChange:s=>be(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"periodo",children:"Período"}),e.jsxs(Be,{value:z,onValueChange:fe,children:[e.jsx(Pe,{children:e.jsx(Le,{placeholder:"Seleccionar período"})}),e.jsxs(Ie,{children:[e.jsx(v,{value:"3",children:"Últimos 3 meses"}),e.jsx(v,{value:"6",children:"Últimos 6 meses"}),e.jsx(v,{value:"12",children:"Últimos 12 meses"}),e.jsx(v,{value:"24",children:"Últimos 24 meses"})]})]})]}),e.jsx(y,{onClick:Ne,disabled:M,className:"bg-[#2a3d83] hover:bg-[#1e2d5f]",children:M?e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"h-4 w-4 mr-2 animate-spin"}),"Aplicando..."]}):"Aplicar Filtros"})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Expedientes"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.total_expedientes.toLocaleString()}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r.expedientes_abiertos," abiertos"]})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(I,{className:"h-6 w-6 text-[#2a3d83]"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Documentos"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.total_documentos.toLocaleString()}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["+",r.documentos_mes_actual," este mes"]})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(Ae,{className:"h-6 w-6 text-[#2a3d83]"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Expedientes Abiertos"}),e.jsx("p",{className:"text-2xl font-semibold text-[#2a3d83]",children:r.expedientes_abiertos}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r.total_expedientes>0?Math.round(r.expedientes_abiertos/r.total_expedientes*100):0,"% del total"]})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(Y,{className:"h-6 w-6 text-[#2a3d83]"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Expedientes Cerrados"}),e.jsx("p",{className:"text-2xl font-semibold text-[#2a3d83]",children:r.expedientes_cerrados}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r.total_expedientes>0?Math.round(r.expedientes_cerrados/r.total_expedientes*100):0,"% del total"]})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(I,{className:"h-6 w-6 text-[#2a3d83]"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Almacenamiento"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[r.tamaño_total_gb," GB"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r.total_documentos>0?Math.round(r.tamaño_total_gb/r.total_documentos*1024):0," MB promedio"]})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(W,{className:"h-6 w-6 text-[#2a3d83]"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Cumplimiento TRD"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[B,"%"]}),e.jsx(P,{value:B,className:"mt-2"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(V,{className:"h-6 w-6 text-[#2a3d83]"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(l,{className:"bg-white border border-gray-200 shadow-sm",children:[e.jsxs(c,{children:[e.jsx(n,{className:"text-lg font-semibold text-gray-900",children:"Expedientes por Estado (Últimos 12 meses)"}),e.jsx(o,{className:"text-gray-600",children:"Evolución temporal de los expedientes"})]}),e.jsx(d,{children:e.jsx(j,{width:"100%",height:300,children:e.jsxs(q,{data:ye,children:[e.jsx(w,{strokeDasharray:"3 3"}),e.jsx(_,{dataKey:"mes"}),e.jsx(p,{}),e.jsx(g,{}),e.jsx(C,{}),Object.keys(E).map((s,t)=>e.jsx(J,{type:"monotone",dataKey:s,stackId:"1",stroke:ae[s]||"#2a3d83",fill:ae[s]||"#2a3d83",fillOpacity:.6},s))]})})})]}),e.jsxs(l,{className:"bg-white border border-gray-200 shadow-sm",children:[e.jsxs(c,{children:[e.jsx(n,{className:"text-lg font-semibold text-gray-900",children:"Documentos por Tipo"}),e.jsx(o,{className:"text-gray-600",children:"Distribución de tipos documentales"})]}),e.jsx(d,{children:e.jsx(j,{width:"100%",height:300,children:e.jsxs(Q,{children:[e.jsx(Z,{data:(K||[]).slice(0,6).map(s=>({...s,name:s.tipo_documento})),cx:"50%",cy:"50%",labelLine:!1,label:s=>s.name&&s.percent?`${s.name}: ${(s.percent*100).toFixed(0)}%`:"",outerRadius:80,fill:"#2a3d83",dataKey:"total",nameKey:"name",children:(K||[]).slice(0,6).map((s,t)=>e.jsx(ee,{fill:S[t%S.length]},`cell-${t}`))}),e.jsx(g,{}),e.jsx(C,{})]})})})]})]}),e.jsxs(De,{defaultValue:"series",className:"space-y-4",children:[e.jsxs(Ee,{className:"grid w-full grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[e.jsx(m,{value:"series",children:"Series"}),e.jsx(m,{value:"actividad",children:"Actividad"}),e.jsx(m,{value:"cumplimiento",children:"Cumplimiento"}),e.jsx(m,{value:"almacenamiento",children:"Almacenamiento"}),e.jsx(m,{value:"usuarios",children:"Usuarios"}),e.jsx(m,{value:"tendencias",children:"Tendencias"})]}),e.jsx(h,{value:"series",className:"space-y-4",children:e.jsxs(l,{className:"bg-white border border-gray-200 shadow-sm",children:[e.jsxs(c,{children:[e.jsx(n,{className:"text-lg font-semibold text-gray-900",children:"Series Documentales más Utilizadas"}),e.jsx(o,{className:"text-gray-600",children:"Series con mayor número de expedientes"})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:re.slice(0,10).map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-[#2a3d83] text-white rounded-full text-sm font-semibold",children:t+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.codigo}),e.jsx("p",{className:"text-sm text-gray-600",children:s.nombre})]})]}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-[#2a3d83]",children:[s.expedientes_count," expedientes"]})]},s.id))})})]})}),e.jsx(h,{value:"actividad",className:"space-y-4",children:e.jsxs(l,{className:"bg-white border border-gray-200 shadow-sm",children:[e.jsxs(c,{children:[e.jsx(n,{className:"text-lg font-semibold text-gray-900",children:"Actividad Reciente"}),e.jsx(o,{className:"text-gray-600",children:"Últimas 20 acciones en el sistema"})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:xe.slice(0,20).map(s=>e.jsxs("div",{className:"flex items-start space-x-3 pb-3 border-b border-gray-200 last:border-b-0",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(X,{className:"h-4 w-4 text-[#2a3d83] mt-1"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:s.accion}),e.jsx("span",{className:"text-xs text-gray-500",children:s.fecha_relativa})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Por: ",s.usuario," en ",s.tabla_afectada]}),s.descripcion&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.descripcion})]})]},s.id))})})]})}),e.jsx(h,{value:"cumplimiento",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(l,{className:"bg-white border border-gray-200 shadow-sm",children:[e.jsxs(c,{children:[e.jsx(n,{className:"text-lg font-semibold text-gray-900",children:"Cumplimiento de Series"}),e.jsx(o,{className:"text-gray-600",children:"Series documentadas vs. total"})]}),e.jsxs(d,{children:[e.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:[a.series_documentadas," / ",a.total_series]}),e.jsx(P,{value:a.total_series>0?a.series_documentadas/a.total_series*100:0,className:"mb-2"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[a.total_series>0?Math.round(a.series_documentadas/a.total_series*100):0,"% de series tienen expedientes"]})]})]}),e.jsxs(l,{className:"bg-white border border-gray-200 shadow-sm",children:[e.jsxs(c,{children:[e.jsx(n,{className:"text-lg font-semibold text-gray-900",children:"Cumplimiento de Subseries"}),e.jsx(o,{className:"text-gray-600",children:"Subseries documentadas vs. total"})]}),e.jsxs(d,{children:[e.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:[a.subseries_documentadas," / ",a.total_subseries]}),e.jsx(P,{value:a.total_subseries>0?a.subseries_documentadas/a.total_subseries*100:0,className:"mb-2"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[a.total_subseries>0?Math.round(a.subseries_documentadas/a.total_subseries*100):0,"% de subseries tienen expedientes"]})]})]})]})}),e.jsx(h,{value:"almacenamiento",className:"space-y-4",children:e.jsxs(l,{className:"bg-white border border-gray-200 shadow-sm",children:[e.jsxs(c,{children:[e.jsx(n,{className:"text-lg font-semibold text-gray-900",children:"Crecimiento de Almacenamiento"}),e.jsx(o,{className:"text-gray-600",children:"Evolución del almacenamiento por mes"})]}),e.jsx(d,{children:e.jsx(j,{width:"100%",height:300,children:e.jsxs(Xe,{data:ve,children:[e.jsx(w,{strokeDasharray:"3 3"}),e.jsx(_,{dataKey:"mes"}),e.jsx(p,{yAxisId:"left"}),e.jsx(p,{yAxisId:"right",orientation:"right"}),e.jsx(g,{}),e.jsx(C,{}),e.jsx(se,{yAxisId:"left",dataKey:"documentos",fill:"#2a3d83",name:"Documentos"}),e.jsx(He,{yAxisId:"right",type:"monotone",dataKey:"tamaño_mb",stroke:"#00C49F",strokeWidth:2,name:"Tamaño (MB)"})]})})})]})}),e.jsx(h,{value:"usuarios",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(l,{className:"bg-white border border-gray-200 shadow-sm",children:[e.jsxs(c,{children:[e.jsx(n,{className:"text-lg font-semibold text-gray-900",children:"Usuarios Más Activos"}),e.jsx(o,{className:"text-gray-600",children:"Últimos 30 días"})]}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-3",children:[(u||[]).map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-[#2a3d83] text-white rounded-full text-sm font-semibold",children:t+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.usuario}),e.jsx("p",{className:"text-sm text-gray-600",children:s.email})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.total_acciones," acciones"]})})]},t)),(!u||u.length===0)&&e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay datos de usuarios activos"})]})})]}),e.jsxs(l,{className:"bg-white border border-gray-200 shadow-sm",children:[e.jsxs(c,{children:[e.jsx(n,{className:"text-lg font-semibold text-gray-900",children:"Distribución de Actividad"}),e.jsx(o,{className:"text-gray-600",children:"Por usuario"})]}),e.jsx(d,{children:e.jsx(j,{width:"100%",height:300,children:e.jsxs(ze,{data:u||[],layout:"vertical",children:[e.jsx(w,{strokeDasharray:"3 3"}),e.jsx(_,{type:"number"}),e.jsx(p,{dataKey:"usuario",type:"category",width:100,tick:{fontSize:12}}),e.jsx(g,{}),e.jsx(se,{dataKey:"total_acciones",fill:"#2a3d83",name:"Acciones"})]})})})]})]})}),e.jsxs(h,{value:"tendencias",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(l,{className:"bg-white border border-gray-200 shadow-sm",children:[e.jsxs(c,{children:[e.jsx(n,{className:"text-lg font-semibold text-gray-900",children:"Tendencia de Expedientes"}),e.jsx(o,{className:"text-gray-600",children:"Creación de expedientes por mes"})]}),e.jsx(d,{children:e.jsx(j,{width:"100%",height:300,children:e.jsxs(q,{data:de||[],children:[e.jsx(w,{strokeDasharray:"3 3"}),e.jsx(_,{dataKey:"mes"}),e.jsx(p,{}),e.jsx(g,{}),e.jsx(J,{type:"monotone",dataKey:"total",stroke:"#2a3d83",fill:"#2a3d83",fillOpacity:.3,name:"Expedientes"})]})})})]}),e.jsxs(l,{className:"bg-white border border-gray-200 shadow-sm",children:[e.jsxs(c,{children:[e.jsx(n,{className:"text-lg font-semibold text-gray-900",children:"Expedientes por Tipo"}),e.jsx(o,{className:"text-gray-600",children:"Distribución por tipo de expediente"})]}),e.jsx(d,{children:e.jsx(j,{width:"100%",height:300,children:e.jsxs(Q,{children:[e.jsx(Z,{data:(T||[]).map(s=>({...s,name:s.tipo||"Sin tipo"})),cx:"50%",cy:"50%",labelLine:!0,label:s=>s.name&&s.percent?`${s.name}: ${(s.percent*100).toFixed(0)}%`:"",outerRadius:80,fill:"#2a3d83",dataKey:"total",nameKey:"name",children:(T||[]).map((s,t)=>e.jsx(ee,{fill:S[t%S.length]},`cell-${t}`))}),e.jsx(g,{}),e.jsx(C,{})]})})})]})]}),e.jsxs(l,{className:"bg-white border border-gray-200 shadow-sm",children:[e.jsxs(c,{children:[e.jsx(n,{className:"text-lg font-semibold text-gray-900",children:"Resumen de Tendencias"}),e.jsx(o,{className:"text-gray-600",children:"Indicadores clave de rendimiento"})]}),e.jsx(d,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx(Ge,{className:"h-8 w-8 text-[#2a3d83] mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.documentos_mes_actual}),e.jsx("p",{className:"text-sm text-gray-600",children:"Docs. este mes"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx(Y,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[B,"%"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Cumplimiento TRD"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx(I,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.expedientes_abiertos}),e.jsx("p",{className:"text-sm text-gray-600",children:"Exp. en trámite"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx(W,{className:"h-8 w-8 text-orange-600 mx-auto mb-2"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.tamaño_total_gb," GB"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Almacenamiento"})]})]})})]})]})]})]})]})}export{Ls as default};
