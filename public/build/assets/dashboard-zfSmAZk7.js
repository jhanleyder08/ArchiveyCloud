import{j as e,H as S,L as i}from"./app-BwzY5mdP.js";import{A as V}from"./app-layout-9wS50XJ4.js";import{c as z,B as t}from"./button-BuG7hErd.js";import{C as r,a as l,b as d,d as v,c}from"./card-R_fDv6wV.js";import{B as n}from"./badge-Bvq7KAn2.js";import{T as A,a as L,b as m,c as x}from"./tabs-Bp3BVeRy.js";import{A as M,a as k}from"./alert-DnH_NbhW.js";import{S as y}from"./triangle-alert-CwolSKvH.js";import{P as B}from"./plus-BOYqNwH5.js";import{K as o}from"./app-sidebar-layout-V4G_4O_u.js";import{C as E}from"./circle-alert-DUM8TW_W.js";import{T as q,U as H}from"./users-Bd_tJWgh.js";import{P as U}from"./pen-tool-_PV_tKd0.js";import{F as w}from"./Combination-DMdRKDdc.js";/* empty css            */import"./index-C39PKzMR.js";import"./index-BQN2DSxF.js";import"./index-DRfaZ5bA.js";import"./x-yj7I5XB9.js";import"./app-logo-icon-CWh3FBC5.js";import"./input-DBPsNB4E.js";import"./label-COs3lnS9.js";import"./user-CGcDW0oZ.js";import"./mail-DcAASWb1.js";import"./folder-BDmHn7zE.js";import"./search-DYmQja4G.js";import"./BrandingProvider-C7c3UgBn.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],$=z("FileCheck",K);function ge({estadisticas:p,solicitudes_pendientes:C,mis_solicitudes:_,certificados:F,certificados_proximos_vencer:T}){const g=p?.usuario,h=C||[],j=_||[],f=F||[],N=T||[],a=p||{firmas:{total:0,hoy:0,este_mes:0,validas:0,con_certificado:0,porcentaje_validez:0},certificados:{activos:0},solicitudes:{pendientes:0,completadas:0,vencidas:0}},u=s=>new Date(s).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=s=>({urgente:"bg-red-500 text-white",alta:"bg-orange-500 text-white",normal:"bg-blue-500 text-white",baja:"bg-gray-500 text-white"})[s]||"bg-gray-500 text-white",b=s=>({pendiente:"bg-yellow-500 text-white",en_proceso:"bg-blue-500 text-white",completada:"bg-green-500 text-white",cancelada:"bg-red-500 text-white",vencida:"bg-red-600 text-white"})[s]||"bg-gray-500 text-white";return e.jsxs(V,{breadcrumbs:[{title:"Dashboard",href:"/dashboard"},{title:"Administración",href:"#"},{title:"Firmas Digitales",href:"/admin/firmas"},{title:"Dashboard",href:"/admin/firmas/dashboard"}],children:[e.jsx(S,{title:"Dashboard de Firmas Digitales"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-6 w-6 text-[#2a3d83]"}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Dashboard de Firmas Digitales"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(i,{href:"/admin/firmas/solicitudes/crear",children:e.jsxs(t,{className:"flex items-center gap-2 px-4 py-2 bg-[#2a3d83] text-white rounded-lg hover:bg-[#1e2b5f] transition-colors",children:[e.jsx(B,{className:"w-4 h-4"}),"Nueva Solicitud"]})}),e.jsx(i,{href:"/admin/firmas/certificados",children:e.jsxs(t,{variant:"outline",children:[e.jsx(o,{className:"w-4 h-4 mr-2 text-[#2a3d83]"}),"Certificados"]})})]})]}),N.length>0&&e.jsxs(M,{className:"border-orange-200 bg-orange-50",children:[e.jsx(E,{className:"h-4 w-4 text-[#2a3d83]"}),e.jsxs(k,{className:"text-orange-800",children:["Tienes ",N.length," certificado(s) próximo(s) a vencer.",e.jsx(i,{href:"/admin/firmas/certificados",className:"ml-2 underline font-medium",children:"Ver certificados"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Firmas Totales"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:a.firmas.total}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.firmas.hoy," hoy"]})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx($,{className:"h-6 w-6 text-[#2a3d83]"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Este Mes"}),e.jsx("p",{className:"text-2xl font-semibold text-[#2a3d83]",children:a.firmas.este_mes}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[g?.firmas_realizadas_mes||0," tuyas"]})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(q,{className:"h-6 w-6 text-[#2a3d83]"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Firmas Válidas"}),e.jsx("p",{className:"text-2xl font-semibold text-[#2a3d83]",children:a.firmas.validas}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.firmas.porcentaje_validez.toFixed(1),"% validez"]})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(y,{className:"h-6 w-6 text-[#2a3d83]"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Certificados"}),e.jsx("p",{className:"text-2xl font-semibold text-[#2a3d83]",children:a.certificados.activos}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[g?.certificados_activos||0," tuyos"]})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(o,{className:"h-6 w-6 text-[#2a3d83]"})})]})})]}),e.jsxs(A,{defaultValue:"pendientes",className:"space-y-6",children:[e.jsxs(L,{children:[e.jsxs(m,{value:"pendientes",children:["Pendientes de Firma (",h.length,")"]}),e.jsxs(m,{value:"mis-solicitudes",children:["Mis Solicitudes (",j.length,")"]}),e.jsxs(m,{value:"certificados",children:["Mis Certificados (",f.length,")"]}),e.jsx(m,{value:"stats",children:"Estadísticas"})]}),e.jsx(x,{value:"pendientes",className:"space-y-4",children:e.jsxs(r,{children:[e.jsxs(l,{children:[e.jsxs(d,{className:"flex items-center",children:[e.jsx(H,{className:"w-5 h-5 mr-2"}),"Solicitudes Pendientes de Tu Firma"]}),e.jsx(v,{children:"Documentos que requieren tu firma digital"})]}),e.jsx(c,{children:h.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(U,{className:"w-12 h-12 mx-auto mb-4 text-[#2a3d83]"}),e.jsx("p",{children:"No tienes solicitudes pendientes de firma"})]}):e.jsx("div",{className:"space-y-4",children:h.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:s.titulo}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.documento.nombre}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Solicitado por: ",s.solicitante.name]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(n,{className:D(s.prioridad),children:s.prioridad}),e.jsx(n,{className:b(s.estado),children:s.estado})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:["Límite: ",u(s.fecha_limite)]}),e.jsx(i,{href:`/admin/firmas/solicitudes/${s.id}`,children:e.jsx(t,{size:"sm",className:"bg-[#2a3d83] hover:bg-[#1e2b5f]",children:"Ver Solicitud"})})]})]},s.id))})})]})}),e.jsx(x,{value:"mis-solicitudes",className:"space-y-4",children:e.jsxs(r,{children:[e.jsxs(l,{children:[e.jsxs(d,{className:"flex items-center",children:[e.jsx(w,{className:"w-5 h-5 mr-2"}),"Mis Solicitudes de Firma"]}),e.jsx(v,{children:"Solicitudes que has creado"})]}),e.jsx(c,{children:j.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(w,{className:"w-12 h-12 mx-auto mb-4 text-[#2a3d83]"}),e.jsx("p",{children:"No has creado solicitudes de firma"}),e.jsx(i,{href:"/admin/firmas/solicitudes/crear",className:"mt-4",children:e.jsx(t,{className:"bg-[#2a3d83] hover:bg-[#1e2b5f]",children:"Crear Primera Solicitud"})})]}):e.jsx("div",{className:"space-y-4",children:j.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:s.titulo}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.documento.nombre}),s.progreso&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Progreso: ",s.progreso.completadas,"/",s.progreso.total," firmantes"]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${s.progreso.porcentaje}%`}})})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(n,{className:b(s.estado),children:s.estado})})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:[s.firmantes.length," firmante(s)"]}),e.jsx(i,{href:`/admin/firmas/solicitudes/${s.id}`,children:e.jsx(t,{size:"sm",variant:"outline",className:"text-[#2a3d83] hover:text-[#1e2b5f]",children:"Ver Detalles"})})]})]},s.id))})})]})}),e.jsx(x,{value:"certificados",className:"space-y-4",children:e.jsxs(r,{children:[e.jsx(l,{children:e.jsxs(d,{className:"flex items-center",children:[e.jsx(o,{className:"w-5 h-5 mr-2"}),"Mis Certificados Digitales"]})}),e.jsx(c,{children:f.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(o,{className:"w-12 h-12 mx-auto mb-4 text-[#2a3d83]"}),e.jsx("p",{children:"No tienes certificados digitales"}),e.jsx(i,{href:"/admin/firmas/certificados",className:"mt-4",children:e.jsx(t,{className:"bg-[#2a3d83] hover:bg-[#1e2b5f]",children:"Ver Certificados"})})]}):e.jsx("div",{className:"space-y-4",children:f.map(s=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:s.nombre_certificado}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Tipo: ",s.tipo_certificado]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Vence: ",u(s.fecha_vencimiento)]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(n,{variant:s.vigente?"default":"destructive",children:s.vigente?"Vigente":"Vencido"})})]})},s.id))})})]})}),e.jsx(x,{value:"stats",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(r,{children:[e.jsx(l,{children:e.jsx(d,{children:"Estadísticas Generales"})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total de firmas:"}),e.jsx("span",{className:"font-medium",children:a.firmas.total})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Con certificado PKI:"}),e.jsx("span",{className:"font-medium",children:a.firmas.con_certificado})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Porcentaje de validez:"}),e.jsxs("span",{className:"font-medium",children:[a.firmas.porcentaje_validez.toFixed(1),"%"]})]})]})]}),e.jsxs(r,{children:[e.jsx(l,{children:e.jsx(d,{children:"Solicitudes"})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Pendientes:"}),e.jsx("span",{className:"font-medium",children:a.solicitudes.pendientes})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Completadas:"}),e.jsx("span",{className:"font-medium",children:a.solicitudes.completadas})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Vencidas:"}),e.jsx("span",{className:"font-medium text-red-600",children:a.solicitudes.vencidas})]})]})]})]})})]})]})]})}export{ge as default};
