import{u as I,j as e,H as D,L as y}from"./app-B0qTBAke.js";import{A as E}from"./app-layout-DHqjcPJw.js";import{c as z,B as g}from"./app-logo-icon-BPz3oRny.js";import{C as l,a as c,b as i,d as r,c as v}from"./card-D4UBhCKF.js";import{B as o}from"./badge-BfEjTxB-.js";import{T as F,a as T,b as d,c as h}from"./tabs-CT2fp8nO.js";import{A as b,a as _}from"./alert-D_YNC9Mv.js";import{A as L}from"./arrow-left-DojSOgLu.js";import{F as w}from"./folder-open-Dk8jCDCP.js";import{F as C,p as H,a as A,u as q,d as k,s as B,S as V}from"./app-sidebar-layout-DFKjANJB.js";import{R as M}from"./refresh-cw-DHss8S0F.js";import{C as $}from"./circle-check-big-CLyWiRXH.js";import{S as U}from"./star-Cn0M5mJR.js";import{I as P}from"./info-LDuxxin2.js";import{C as O}from"./calendar-BhhYq1qO.js";import{M as G}from"./map-pin-CJ7ygl5a.js";import{H as J}from"./hard-drive-C8ghhwvi.js";/* empty css            */import"./index-DDzTzhRc.js";import"./label-CjHZv5e4.js";import"./index-D-todNvr.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Q=z("ExternalLink",K);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],X=z("Hash",W);function Ne({indice:s,entidadRelacionada:t}){const{post:j,processing:u}=I(),S=()=>{j(`/admin/indices/${s.id}/actualizar`,{preserveScroll:!0})},N=(n,m)=>{const p={publico:"bg-green-100 text-green-800",restringido:"bg-yellow-100 text-yellow-800",confidencial:"bg-orange-100 text-orange-800",secreto:"bg-red-100 text-red-800"};return e.jsx(o,{className:p[n]||"bg-gray-100 text-gray-800",children:m})},f=(n,m)=>{const p={excelente:"bg-green-100 text-green-800",bueno:"bg-blue-100 text-blue-800",regular:"bg-yellow-100 text-yellow-800",malo:"bg-orange-100 text-orange-800",critico:"bg-red-100 text-red-800"};return e.jsx(o,{className:p[n]||"bg-gray-100 text-gray-800",children:m})},x=n=>n?new Date(n).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return e.jsxs(E,{children:[e.jsx(D,{title:`Índice - ${s.titulo}`}),e.jsxs("div",{className:"container mx-auto py-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(y,{href:"/admin/indices",children:e.jsxs(g,{variant:"outline",size:"sm",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Volver"]})}),s.tipo_entidad==="expediente"?e.jsx(w,{className:"w-8 h-8 text-blue-600"}):e.jsx(C,{className:"w-8 h-8 text-green-600"})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s.titulo}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Índice electrónico #",s.id," - ",s.codigo_completo]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(g,{onClick:S,disabled:u,variant:"outline",children:[e.jsx(M,{className:`w-4 h-4 mr-2 ${u?"animate-spin":""}`}),"Actualizar"]}),e.jsxs(g,{variant:"outline",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Exportar"]})]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[s.es_reciente&&e.jsxs(b,{className:"border-green-200 bg-green-50",children:[e.jsx($,{className:"h-4 w-4 text-green-600"}),e.jsx(_,{className:"text-green-800",children:"Este índice fue creado recientemente (menos de 30 días)."})]}),s.necesita_actualizacion&&e.jsxs(b,{className:"border-yellow-200 bg-yellow-50",children:[e.jsx(A,{className:"h-4 w-4 text-yellow-600"}),e.jsx(_,{className:"text-yellow-800",children:"Este índice necesita actualización (más de 6 meses sin actualizar)."})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-6",children:[e.jsx(o,{variant:"outline",className:"capitalize text-base px-3 py-1",children:s.tipo_entidad}),N(s.nivel_acceso,s.etiqueta_nivel_acceso),f(s.estado_conservacion,s.etiqueta_estado_conservacion),s.es_vital&&e.jsxs(o,{className:"bg-yellow-100 text-yellow-800",children:[e.jsx(U,{className:"w-4 h-4 mr-1"}),"Información Vital"]}),s.es_historico&&e.jsxs(o,{className:"bg-purple-100 text-purple-800",children:[e.jsx(q,{className:"w-4 h-4 mr-1"}),"Valor Histórico"]})]}),e.jsxs(F,{defaultValue:"general",className:"space-y-6",children:[e.jsxs(T,{className:"grid w-full grid-cols-4",children:[e.jsx(d,{value:"general",children:"Información General"}),e.jsx(d,{value:"clasificacion",children:"Clasificación"}),e.jsx(d,{value:"metadatos",children:"Metadatos Técnicos"}),e.jsx(d,{value:"relacionado",children:"Entidad Relacionada"})]}),e.jsx(h,{value:"general",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(l,{children:[e.jsx(c,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5"}),"Información Básica"]})}),e.jsxs(r,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Título"}),e.jsx("p",{className:"font-medium",children:s.titulo})]}),s.descripcion&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Descripción"}),e.jsx("p",{className:"text-gray-700",children:s.descripcion})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Código Completo"}),e.jsx("p",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:s.codigo_completo})]}),s.responsable&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Responsable"}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),s.responsable]})]})]})]}),e.jsxs(l,{children:[e.jsx(c,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-5 h-5"}),"Fechas y Cronología"]})}),e.jsxs(r,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Fecha de Indexación"}),e.jsx("p",{children:x(s.fecha_indexacion)})]}),s.fecha_ultima_actualizacion&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Última Actualización"}),e.jsx("p",{children:x(s.fecha_ultima_actualizacion)})]}),s.fecha_inicio&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Fecha Inicio"}),e.jsx("p",{children:x(s.fecha_inicio)})]}),s.fecha_fin&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Fecha Fin"}),e.jsx("p",{children:x(s.fecha_fin)})]}),s.periodo_conservacion&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Período de Conservación"}),e.jsx("p",{children:s.periodo_conservacion})]})]})]}),e.jsxs(l,{children:[e.jsx(c,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5"}),"Ubicación"]})}),e.jsxs(r,{className:"space-y-4",children:[s.ubicacion_fisica&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Ubicación Física"}),e.jsx("p",{children:s.ubicacion_fisica})]}),s.ubicacion_digital&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Ubicación Digital"}),e.jsx("p",{className:"font-mono text-sm break-all",children:s.ubicacion_digital})]})]})]}),e.jsxs(l,{children:[e.jsx(c,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5"}),"Auditoría"]})}),e.jsxs(r,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Indexado por"}),e.jsx("p",{children:s.usuario_indexacion.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.usuario_indexacion.email})]}),s.usuario_actualizacion&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Actualizado por"}),e.jsx("p",{children:s.usuario_actualizacion.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.usuario_actualizacion.email})]})]})]})]})}),e.jsx(h,{value:"clasificacion",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(l,{children:[e.jsx(c,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5"}),"Clasificación Archivística"]})}),e.jsxs(r,{className:"space-y-4",children:[s.serie_documental&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Serie Documental"}),e.jsx("p",{className:"font-medium",children:s.serie_documental})]}),s.subserie_documental&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Subserie Documental"}),e.jsx("p",{className:"font-medium",children:s.subserie_documental})]}),s.codigo_clasificacion&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Código de Clasificación"}),e.jsx("p",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:s.codigo_clasificacion})]})]})]}),e.jsxs(l,{children:[e.jsx(c,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-5 h-5"}),"Seguridad y Acceso"]})}),e.jsxs(r,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Nivel de Acceso"}),e.jsx("div",{className:"mt-1",children:N(s.nivel_acceso,s.etiqueta_nivel_acceso)})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Estado de Conservación"}),e.jsx("div",{className:"mt-1",children:f(s.estado_conservacion,s.etiqueta_estado_conservacion)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Información Vital"}),e.jsx("p",{className:s.es_vital?"text-yellow-600 font-medium":"text-gray-500",children:s.es_vital?"Sí":"No"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Valor Histórico"}),e.jsx("p",{className:s.es_historico?"text-purple-600 font-medium":"text-gray-500",children:s.es_historico?"Sí":"No"})]})]})]})]}),s.palabras_clave&&s.palabras_clave.length>0&&e.jsxs(l,{className:"lg:col-span-2",children:[e.jsxs(c,{children:[e.jsx(i,{children:"Palabras Clave"}),e.jsx(v,{children:"Keywords generadas automáticamente para facilitar la búsqueda"})]}),e.jsx(r,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.palabras_clave.map((n,m)=>e.jsx(o,{variant:"outline",className:"text-sm",children:n},m))})})]})]})}),e.jsx(h,{value:"metadatos",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(l,{children:[e.jsx(c,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5"}),"Información de Archivo"]})}),e.jsxs(r,{className:"space-y-4",children:[s.cantidad_folios&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Cantidad de Folios"}),e.jsx("p",{className:"font-medium",children:s.cantidad_folios.toLocaleString()})]}),s.formato_archivo&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Formato de Archivo"}),e.jsx("p",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded inline-block",children:s.formato_archivo.toUpperCase()})]}),s.tamaño_bytes&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Tamaño"}),e.jsx("p",{className:"font-medium",children:s.tamaño_formateado}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.tamaño_bytes.toLocaleString()," bytes"]})]}),s.hash_integridad&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Hash de Integridad"}),e.jsx("p",{className:"font-mono text-xs bg-gray-100 px-2 py-1 rounded break-all",children:s.hash_integridad})]})]})]}),s.metadatos&&e.jsxs(l,{children:[e.jsx(c,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5"}),"Metadatos Específicos"]})}),e.jsx(r,{children:e.jsx("pre",{className:"text-sm bg-gray-100 p-3 rounded overflow-auto max-h-64",children:JSON.stringify(s.metadatos,null,2)})})]})]})}),e.jsx(h,{value:"relacionado",className:"space-y-6",children:t?e.jsxs(l,{children:[e.jsxs(c,{children:[e.jsxs(i,{className:"flex items-center gap-2",children:[s.tipo_entidad==="expediente"?e.jsx(w,{className:"w-5 h-5 text-blue-600"}):e.jsx(C,{className:"w-5 h-5 text-green-600"}),s.tipo_entidad==="expediente"?"Expediente":"Documento"," Relacionado"]}),e.jsx(v,{children:"Información de la entidad original indexada"})]}),e.jsxs(r,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:s.tipo_entidad==="expediente"?"Número de Expediente":"Título del Documento"}),e.jsx("p",{className:"font-medium",children:t.numero_expediente||t.titulo})]}),t.estado&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Estado"}),e.jsx(o,{variant:"outline",className:"ml-2 capitalize",children:t.estado})]}),t.responsable&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Responsable"}),e.jsx("p",{children:t.responsable.name})]}),t.documentos&&e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-gray-600",children:"Total Documentos"}),e.jsx("p",{className:"font-medium",children:t.documentos.length})]}),e.jsx("div",{className:"pt-4",children:e.jsxs(y,{href:`/admin/${s.tipo_entidad==="expediente"?"expedientes":"documentos"}/${t.id}`,className:"inline-flex items-center gap-2 text-indigo-600 hover:text-indigo-800",children:[e.jsx(Q,{className:"w-4 h-4"}),"Ver ",s.tipo_entidad," completo"]})})]})]}):e.jsx(l,{children:e.jsxs(r,{className:"text-center py-8",children:[e.jsx(A,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No se pudo cargar la información de la entidad relacionada."}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"La entidad original puede haber sido eliminada o no tener acceso."})]})})})]})]})]})}function a({className:s,children:t,...j}){return e.jsx("label",{className:`block text-sm font-medium text-gray-700 ${s||""}`,...j,children:t})}export{Ne as default};
