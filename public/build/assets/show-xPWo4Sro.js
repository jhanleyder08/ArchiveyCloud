import{j as s,H as C,L as m}from"./app-B-PXR1Ni.js";import{A}from"./app-layout-DJutQZnN.js";import{C as t,a as i,b as c,d as l,c as o}from"./card-Dmlm_cpt.js";import{B as d}from"./badge-CNo-IL5x.js";import{B as h}from"./app-logo-icon-BLsuM4IN.js";import{T as D,a as S,b as j,c as p}from"./tabs-Dnq90kir.js";import{S as r}from"./separator-Dj1fNbOj.js";import{A as T}from"./arrow-left-DbMIHj5m.js";import{C as B}from"./circle-check-big-vwlwSDoT.js";import{a as N,F as f,C as E,v as u,U as F,e as L,b as R}from"./app-sidebar-layout-D9ulO2li.js";import{S as k}from"./square-pen-gP4PZLVJ.js";import{C as I}from"./calendar-CQqh5lbn.js";import{R as v,T as g}from"./CategoricalChart-CH0D5Ee9.js";import{A as K,a as b}from"./AreaChart-CFwtnipi.js";import{C as P,X as U,Y as $}from"./CartesianChart-NCe_zQZc.js";import{L as z}from"./Legend-DV09n7Cz.js";import{P as G,a as H}from"./PieChart-B11HO8ai.js";import{C as O}from"./tooltipContext-A_zzaiNE.js";/* empty css            */import"./index-DsJw0RIA.js";import"./label-CcIhawib.js";import"./index-DARluDlH.js";import"./ActivePoints-guwd7fUl.js";const x=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6"];function js({serie:e}){const y=a=>{switch(a){case"tramite":return"bg-blue-100 text-blue-800";case"gestion":return"bg-yellow-100 text-yellow-800";case"central":return"bg-green-100 text-green-800";case"historico":return"bg-purple-100 text-purple-800";case"eliminado":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=a=>{switch(a){case"conservacion_permanente":return"text-blue-600";case"eliminacion":return"text-red-600";case"transferencia":return"text-green-600";default:return"text-gray-600"}},_=a=>{switch(a){case"conservacion_permanente":return s.jsx(u,{className:"h-4 w-4"});case"eliminacion":return s.jsx(N,{className:"h-4 w-4"});case"transferencia":return s.jsx(R,{className:"h-4 w-4"});default:return s.jsx(f,{className:"h-4 w-4"})}};return s.jsxs(A,{children:[s.jsx(C,{title:`Serie: ${e.nombre} - ArchiveyCloud`}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(m,{href:"/admin/series",children:s.jsxs(h,{variant:"ghost",size:"sm",children:[s.jsx(T,{className:"h-4 w-4 mr-2"}),"Volver"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e.nombre}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Código: ",e.codigo," • TRD: ",e.trd.nombre]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(d,{variant:e.activa?"default":"secondary",children:e.activa?s.jsxs(s.Fragment,{children:[s.jsx(B,{className:"h-3 w-3 mr-1"}),"Activa"]}):s.jsxs(s.Fragment,{children:[s.jsx(N,{className:"h-3 w-3 mr-1"}),"Inactiva"]})}),s.jsx(m,{href:`/admin/series/${e.id}/edit`,children:s.jsxs(h,{children:[s.jsx(k,{className:"h-4 w-4 mr-2"}),"Editar"]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(t,{children:[s.jsx(i,{children:s.jsxs(c,{className:"flex items-center space-x-2",children:[s.jsx(f,{className:"h-5 w-5"}),s.jsx("span",{children:"Información General"})]})}),s.jsxs(l,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Descripción"}),s.jsx("p",{className:"text-gray-700",children:e.descripcion})]}),s.jsx(r,{}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[s.jsx(E,{className:"h-4 w-4 mr-2"}),"Archivo de Gestión"]}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[e.tiempo_archivo_gestion," años"]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[s.jsx(u,{className:"h-4 w-4 mr-2"}),"Archivo Central"]}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[e.tiempo_archivo_central," años"]})]})]}),s.jsx(r,{}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[_(e.disposicion_final),s.jsx("span",{className:"ml-2",children:"Disposición Final"})]}),s.jsx(d,{className:w(e.disposicion_final),children:e.disposicion_final.replace("_"," ").toUpperCase()})]}),s.jsx(r,{}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[s.jsx(F,{className:"h-4 w-4 mr-2"}),"Área Responsable"]}),s.jsx("p",{className:"text-gray-700",children:e.area_responsable})]}),e.observaciones&&s.jsxs(s.Fragment,{children:[s.jsx(r,{}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Observaciones"}),s.jsx("p",{className:"text-gray-600 text-sm",children:e.observaciones})]})]})]})]}),s.jsxs(D,{defaultValue:"expedientes",className:"space-y-4",children:[s.jsxs(S,{className:"grid w-full grid-cols-3",children:[s.jsx(j,{value:"expedientes",children:"Expedientes"}),s.jsx(j,{value:"subseries",children:"Subseries"}),s.jsx(j,{value:"actividad",children:"Actividad"})]}),s.jsx(p,{value:"expedientes",className:"space-y-4",children:s.jsxs(t,{children:[s.jsxs(i,{children:[s.jsx(c,{children:"Expedientes Recientes"}),s.jsx(o,{children:"Últimos expedientes vinculados a esta serie"})]}),s.jsx(l,{children:s.jsx("div",{className:"space-y-4",children:e.expedientes_recientes.map(a=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"font-semibold",children:a.numero_expediente}),s.jsx(d,{className:y(a.estado_ciclo_vida),children:a.estado_ciclo_vida})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.titulo}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(I,{className:"h-3 w-3 mr-1"}),new Date(a.fecha_apertura).toLocaleDateString()]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(f,{className:"h-3 w-3 mr-1"}),a.documentos_count," documentos"]}),s.jsx("span",{children:a.tamaño_total})]})]}),s.jsx(m,{href:`/admin/expedientes/${a.id}`,children:s.jsx(h,{variant:"ghost",size:"sm",children:"Ver"})})]},a.id))})})]})}),s.jsx(p,{value:"subseries",className:"space-y-4",children:s.jsxs(t,{children:[s.jsxs(i,{children:[s.jsx(c,{children:"Subseries Documentales"}),s.jsx(o,{children:"Subseries vinculadas a esta serie"})]}),s.jsx(l,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.subseries.map(a=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold",children:a.codigo}),s.jsx(d,{variant:a.activa?"default":"secondary",children:a.activa?"Activa":"Inactiva"})]}),s.jsx("p",{className:"text-sm font-medium mb-1",children:a.nombre}),s.jsx("p",{className:"text-xs text-gray-600 mb-3",children:a.descripcion}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[s.jsxs("span",{children:[a.expedientes_count," expedientes"]}),s.jsxs("span",{children:[a.documentos_count," documentos"]})]})]},a.id))})})]})}),s.jsx(p,{value:"actividad",className:"space-y-4",children:s.jsxs(t,{children:[s.jsxs(i,{children:[s.jsx(c,{children:"Actividad Mensual"}),s.jsx(o,{children:"Creación de expedientes y documentos"})]}),s.jsx(l,{children:s.jsx(v,{width:"100%",height:300,children:s.jsxs(K,{data:e.estadisticas.actividad_mensual,children:[s.jsx(P,{strokeDasharray:"3 3"}),s.jsx(U,{dataKey:"mes"}),s.jsx($,{}),s.jsx(g,{}),s.jsx(z,{}),s.jsx(b,{type:"monotone",dataKey:"expedientes",stackId:"1",stroke:"#3B82F6",fill:"#3B82F6",name:"Expedientes"}),s.jsx(b,{type:"monotone",dataKey:"documentos",stackId:"1",stroke:"#10B981",fill:"#10B981",name:"Documentos"})]})})})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(t,{children:[s.jsx(i,{children:s.jsxs(c,{className:"flex items-center space-x-2",children:[s.jsx(L,{className:"h-5 w-5"}),s.jsx("span",{children:"Estadísticas"})]})}),s.jsxs(l,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.estadisticas.total_expedientes}),s.jsx("div",{className:"text-sm text-gray-600",children:"Expedientes"})]}),s.jsx(r,{}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.estadisticas.total_documentos}),s.jsx("div",{className:"text-sm text-gray-600",children:"Documentos"})]}),s.jsx(r,{}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.estadisticas.total_subseries}),s.jsx("div",{className:"text-sm text-gray-600",children:"Subseries"})]}),s.jsx(r,{}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl font-bold text-orange-600",children:e.estadisticas.tamaño_total}),s.jsx("div",{className:"text-sm text-gray-600",children:"Almacenamiento"})]})]})]}),s.jsxs(t,{children:[s.jsx(i,{children:s.jsx(c,{children:"Estados Expedientes"})}),s.jsxs(l,{children:[s.jsx(v,{width:"100%",height:200,children:s.jsxs(G,{children:[s.jsx(H,{data:e.estadisticas.expedientes_por_estado,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"cantidad",children:e.estadisticas.expedientes_por_estado.map((a,n)=>s.jsx(O,{fill:a.color||x[n%x.length]},`cell-${n}`))}),s.jsx(g,{})]})}),s.jsx("div",{className:"space-y-2 mt-4",children:e.estadisticas.expedientes_por_estado.map((a,n)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.color||x[n%x.length]}}),s.jsx("span",{className:"text-sm",children:a.estado})]}),s.jsx("span",{className:"text-sm font-medium",children:a.cantidad})]},n))})]})]}),s.jsxs(t,{children:[s.jsx(i,{children:s.jsx(c,{children:"Información Técnica"})}),s.jsxs(l,{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Creada:"}),s.jsx("span",{children:new Date(e.created_at).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Actualizada:"}),s.jsx("span",{children:new Date(e.updated_at).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"ID:"}),s.jsx("span",{children:e.id})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"TRD ID:"}),s.jsx("span",{children:e.trd.id})]})]})]})]})]})]})]})}export{js as default};
