import{r as _,j as e,H as B}from"./app-B-PXR1Ni.js";import{A as T}from"./app-layout-DJutQZnN.js";import{C as i,a as t,b as l,d as n,c}from"./card-Dmlm_cpt.js";import{B as D}from"./badge-CNo-IL5x.js";import{B as A}from"./app-logo-icon-BLsuM4IN.js";import{T as R,a as k,b as d,c as x}from"./tabs-Dnq90kir.js";import{R as F}from"./refresh-cw-3XorCIzG.js";import{F as p,u as S,v as u,b as E,a as K}from"./app-sidebar-layout-D9ulO2li.js";import{C as L}from"./circle-check-big-vwlwSDoT.js";import{R as o,T as m}from"./CategoricalChart-CH0D5Ee9.js";import{P as $,a as H}from"./PieChart-B11HO8ai.js";import{C as I}from"./tooltipContext-A_zzaiNE.js";import{A as M,a as f}from"./AreaChart-CFwtnipi.js";import{C as b,X as g,Y as N}from"./CartesianChart-NCe_zQZc.js";import{L as P}from"./Legend-DV09n7Cz.js";import{B as z}from"./BarChart-BF04k3Nq.js";import{B as O}from"./barSelectors-DPP-5Sbk.js";/* empty css            */import"./index-DsJw0RIA.js";import"./label-CcIhawib.js";import"./index-DARluDlH.js";import"./ActivePoints-guwd7fUl.js";const y=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#06B6D4","#84CC16"];function me({estadisticas:r}){const[h,j]=_.useState(!1),v=async()=>{j(!0);try{window.location.reload()}catch(s){console.error("Error refreshing:",s)}finally{setTimeout(()=>j(!1),1e3)}},w=s=>{switch(s){case"conservacion_permanente":return e.jsx(u,{className:"h-4 w-4"});case"eliminacion":return e.jsx(K,{className:"h-4 w-4"});case"transferencia":return e.jsx(E,{className:"h-4 w-4"});default:return e.jsx(p,{className:"h-4 w-4"})}},C=s=>{switch(s){case"conservacion_permanente":return"bg-blue-100 text-blue-800";case"eliminacion":return"bg-red-100 text-red-800";case"transferencia":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs(T,{children:[e.jsx(B,{title:"Dashboard Series Documentales - ArchiveyCloud"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard Series Documentales"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Análisis y métricas del sistema de series documentales"})]}),e.jsxs(A,{onClick:v,disabled:h,variant:"outline",children:[e.jsx(F,{className:`h-4 w-4 mr-2 ${h?"animate-spin":""}`}),"Actualizar"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(i,{children:[e.jsxs(t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Total Series"}),e.jsx(p,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.total_series}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.series_activas," activas"]})]})]}),e.jsxs(i,{children:[e.jsxs(t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Subseries"}),e.jsx(S,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.total_subseries}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total en el sistema"})]})]}),e.jsxs(i,{children:[e.jsxs(t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Expedientes"}),e.jsx(u,{className:"h-4 w-4 text-purple-600"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.total_expedientes}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Vinculados a series"})]})]}),e.jsxs(i,{children:[e.jsxs(t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Estado Sistema"}),e.jsx(L,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(n,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(r.series_activas/r.total_series*100),"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Series activas"})]})]})]}),e.jsxs(R,{defaultValue:"distribucion",className:"space-y-4",children:[e.jsxs(k,{className:"grid w-full grid-cols-4",children:[e.jsx(d,{value:"distribucion",children:"Distribución"}),e.jsx(d,{value:"actividad",children:"Actividad"}),e.jsx(d,{value:"ranking",children:"Rankings"}),e.jsx(d,{value:"retencion",children:"Retención"})]}),e.jsx(x,{value:"distribucion",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(i,{children:[e.jsxs(t,{children:[e.jsx(l,{children:"Series por TRD"}),e.jsx(c,{children:"Distribución de series por tabla de retención"})]}),e.jsx(n,{children:e.jsx(o,{width:"100%",height:300,children:e.jsxs($,{children:[e.jsx(H,{data:r.series_por_trd,cx:"50%",cy:"50%",labelLine:!1,label:({trd:s,percent:a})=>`${s}: ${(a*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"cantidad",children:r.series_por_trd.map((s,a)=>e.jsx(I,{fill:s.color||y[a%y.length]},`cell-${a}`))}),e.jsx(m,{})]})})})]}),e.jsxs(i,{children:[e.jsxs(t,{children:[e.jsx(l,{children:"Tipos de Disposición Final"}),e.jsx(c,{children:"Distribución por tipo de disposición"})]}),e.jsx(n,{children:e.jsx("div",{className:"space-y-4",children:r.distribucion_disposicion.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[w(s.tipo),e.jsx("span",{className:"font-medium",children:s.tipo.replace("_"," ")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{className:C(s.tipo),children:s.cantidad}),e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${s.cantidad/r.total_series*100}%`}})})]})]},a))})})]})]})}),e.jsx(x,{value:"actividad",className:"space-y-6",children:e.jsxs(i,{children:[e.jsxs(t,{children:[e.jsx(l,{children:"Actividad Mensual"}),e.jsx(c,{children:"Creación de series y expedientes por mes"})]}),e.jsx(n,{children:e.jsx(o,{width:"100%",height:400,children:e.jsxs(M,{data:r.actividad_mensual,children:[e.jsx(b,{strokeDasharray:"3 3"}),e.jsx(g,{dataKey:"mes"}),e.jsx(N,{}),e.jsx(m,{}),e.jsx(P,{}),e.jsx(f,{type:"monotone",dataKey:"series_creadas",stackId:"1",stroke:"#3B82F6",fill:"#3B82F6",name:"Series Creadas"}),e.jsx(f,{type:"monotone",dataKey:"expedientes_creados",stackId:"1",stroke:"#10B981",fill:"#10B981",name:"Expedientes Creados"})]})})})]})}),e.jsx(x,{value:"ranking",className:"space-y-6",children:e.jsxs(i,{children:[e.jsxs(t,{children:[e.jsx(l,{children:"Series Más Utilizadas"}),e.jsx(c,{children:"Ranking por número de expedientes y subseries"})]}),e.jsx(n,{children:e.jsx("div",{className:"space-y-4",children:r.series_mas_usadas.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold ${a===0?"bg-yellow-500":a===1?"bg-gray-400":a===2?"bg-amber-600":"bg-blue-500"}`,children:a+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:s.serie}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.subseries," subseries"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.expedientes}),e.jsx("div",{className:"text-sm text-gray-600",children:"expedientes"})]})]},a))})})]})}),e.jsx(x,{value:"retencion",className:"space-y-6",children:e.jsxs(i,{children:[e.jsxs(t,{children:[e.jsx(l,{children:"Análisis de Tiempos de Retención"}),e.jsx(c,{children:"Distribución de series por rangos de retención"})]}),e.jsx(n,{children:e.jsx(o,{width:"100%",height:400,children:e.jsxs(z,{data:r.tiempos_retencion,children:[e.jsx(b,{strokeDasharray:"3 3"}),e.jsx(g,{dataKey:"rango"}),e.jsx(N,{}),e.jsx(m,{}),e.jsx(O,{dataKey:"cantidad",fill:"#3B82F6"})]})})})]})})]})]})]})}export{me as default};
