import{r as x,b as h,j as e,H as oe}from"./app-D9ITnC4R.js";import{t as m,D as q,g as de,a as I,b as z,c as $,d as M,T as V,e as L,k as E,l as T,m as F,n as k}from"./app-sidebar-layout-gRrSD5YA.js";import{A as me}from"./app-layout-CxnFkzDa.js";import{B as l}from"./button-CWflhP9D.js";import{I as p}from"./input-C6rIXJQq.js";import{L as r}from"./label-Cmeh_um-.js";import{S as v,a as b,b as f,c as N,d as u}from"./select-CeVzXy-a.js";import{F as P}from"./Combination-_iW52Z_h.js";import{P as xe}from"./plus-C5ywX8TP.js";import{T as K,a as W}from"./toggle-right-EkP1TuwU.js";import{S as he}from"./search-C5Ovj2LQ.js";import{D as pe}from"./users-DTbvNCQh.js";import{E as ue}from"./eye-40_BROde.js";import{S as je}from"./square-pen-Bnu2sql3.js";import{C as ge}from"./copy-CnzvME_b.js";import{T as ve}from"./trash-2-DhpJ0p2V.js";/* empty css            */import"./index-Dae7BiwW.js";import"./index-D4ETnYEq.js";import"./index-BUHUwZ11.js";import"./x-BnKM6KL5.js";import"./index-BYPhSTSm.js";import"./app-logo-icon-C1EJBQs2.js";import"./user-4NQW7odk.js";import"./triangle-alert-BQotcmUa.js";import"./folder-CXwcyQUZ.js";import"./index-C_GXg_Oc.js";import"./check-jrHUR9iG.js";function Ue({data:t,trds:B,areas:X,flash:_}){const[w,Y]=x.useState(""),[C,Z]=x.useState("all"),[S,ee]=x.useState("all"),[D,se]=x.useState("all"),[A,R]=x.useState(null),[ae,G]=x.useState(!1),[o,O]=x.useState(null),[d,H]=x.useState(null);x.useEffect(()=>{_?.message&&m.success(_.message),_?.error&&m.error(_.error)},[_]);const[a,j]=x.useState({codigo:"",nombre:"",descripcion:"",trd_id:"",tiempo_archivo_gestion:0,tiempo_archivo_central:0,disposicion_final:"conservacion_permanente",area_responsable:"",observaciones:"",activa:!0}),[c,g]=x.useState({codigo:"",nombre:"",descripcion:"",trd_id:"",tiempo_archivo_gestion:0,tiempo_archivo_central:0,disposicion_final:"conservacion_permanente",area_responsable:"",observaciones:"",activa:!0});x.useEffect(()=>{o&&g({codigo:o.codigo||"",nombre:o.nombre||"",descripcion:o.descripcion||"",trd_id:o.trd_id?.toString()||"",tiempo_archivo_gestion:o.tiempo_archivo_gestion||0,tiempo_archivo_central:o.tiempo_archivo_central||0,disposicion_final:o.disposicion_final||"conservacion_permanente",area_responsable:o.area_responsable||"",observaciones:o.observaciones||"",activa:o.activa??!0})},[o]);const ie=[{title:"Dashboard",href:"/admin"},{title:"Series Documentales",href:"/admin/series"}],Q={conservacion_permanente:"Conservación Permanente",eliminacion:"Eliminación",seleccion:"Selección",microfilmacion:"Microfilmación"};x.useEffect(()=>{const s=setTimeout(()=>{if(w!==""||C!==""||S!==""||D!==""){const i=new URLSearchParams;w&&i.append("search",w),C&&i.append("trd",C),S&&i.append("estado",S),D&&i.append("area",D),h.visit(`/admin/series?${i.toString()}`,{preserveState:!0,preserveScroll:!0,replace:!0})}},500);return()=>clearTimeout(s)},[w,C,S,D]);const re=s=>{h.delete(`/admin/series/${s.id}`,{onSuccess:()=>{R(null),m.success("Serie documental eliminada exitosamente")},onError:i=>{const n=typeof i=="object"?Object.values(i)[0]:"Error al eliminar la serie";m.error(n)}})},te=s=>{h.post(`/admin/series/${s.id}/duplicate`,{},{onSuccess:()=>{m.success("Serie documental duplicada exitosamente")},onError:i=>{const n=typeof i=="object"?Object.values(i)[0]:"Error al duplicar la serie";m.error(n)}})},le=s=>{h.patch(`/admin/series/${s.id}/toggle-active`,{},{onSuccess:()=>{const i=s.activa?"desactivada":"activada";m.success(`Serie documental ${i} exitosamente`)},onError:i=>{const n=typeof i=="object"?Object.values(i)[0]:"Error al cambiar el estado";m.error(n)}})},U=s=>new Date(s).toLocaleDateString("es-CO",{year:"numeric",month:"short",day:"numeric"}),J=s=>s?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Activa"}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inactiva"}),ce=s=>{const i={conservacion_permanente:"bg-blue-100 text-[#2a3d83]",eliminacion:"bg-red-100 text-red-800",seleccion:"bg-yellow-100 text-yellow-800",microfilmacion:"bg-purple-100 text-purple-800"};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i[s]||"bg-gray-100 text-gray-800"}`,children:Q[s]||s})};return e.jsxs(me,{breadcrumbs:ie,children:[e.jsx(oe,{title:"Series Documentales"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(P,{className:"h-6 w-6 text-[#2a3d83]"}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Gestión de Series Documentales"})]}),e.jsxs(q,{open:ae,onOpenChange:G,children:[e.jsx(de,{asChild:!0,children:e.jsxs(l,{className:"flex items-center gap-2 px-4 py-2 bg-[#2a3d83] text-white rounded-lg hover:bg-[#1e2b5f] transition-colors",children:[e.jsx(xe,{className:"h-4 w-4"}),"Nueva Serie Documental"]})}),e.jsxs(I,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-scroll [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:[e.jsxs(z,{children:[e.jsx($,{className:"text-xl font-semibold text-gray-900",children:"Crear Nueva Serie Documental"}),e.jsx(M,{className:"text-sm text-gray-600",children:"Complete los siguientes datos para crear una nueva Serie Documental."})]}),e.jsxs("form",{onSubmit:s=>{if(s.preventDefault(),!a.trd_id){m.error("Debe seleccionar una TRD asociada");return}if(!a.nombre.trim()){m.error("El nombre es requerido");return}if(!a.descripcion.trim()){m.error("La descripción es requerida");return}const i={codigo:a.codigo.trim()||null,nombre:a.nombre.trim(),descripcion:a.descripcion.trim(),trd_id:a.trd_id?parseInt(a.trd_id):null,dependencia:a.dependencia?.trim()||null,orden:a.orden||null,observaciones:a.observaciones?.trim()||null,activa:a.activa!==void 0?a.activa:!0};h.post("/admin/series",i,{onSuccess:()=>{G(!1),j({codigo:"",nombre:"",descripcion:"",trd_id:"",tiempo_archivo_gestion:0,tiempo_archivo_central:0,disposicion_final:"conservacion_permanente",area_responsable:"",observaciones:"",activa:!0})},onError:n=>{console.error("Error al crear serie:",n),n?Object.keys(n).forEach(y=>{const ne=Array.isArray(n[y])?n[y][0]:n[y];m.error(`Error en ${y}: ${ne}`)}):m.error("Error al crear la serie documental")}})},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"create-codigo",children:"Código"}),e.jsx(p,{id:"create-codigo",type:"text",value:a.codigo,onChange:s=>j({...a,codigo:s.target.value}),placeholder:"Ej: SER-001 (opcional, se genera automático)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"create-trd",children:"TRD Asociada *"}),e.jsxs(v,{value:a.trd_id,onValueChange:s=>j({...a,trd_id:s}),children:[e.jsx(b,{children:e.jsx(f,{placeholder:"Seleccionar TRD"})}),e.jsx(N,{children:B.map(s=>e.jsxs(u,{value:s.id.toString(),children:[s.codigo," - ",s.nombre]},s.id))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"create-nombre",children:"Nombre *"}),e.jsx(p,{id:"create-nombre",type:"text",value:a.nombre,onChange:s=>j({...a,nombre:s.target.value}),placeholder:"Nombre de la serie documental",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"create-descripcion",children:"Descripción *"}),e.jsx(V,{id:"create-descripcion",value:a.descripcion,onChange:s=>j({...a,descripcion:s.target.value}),placeholder:"Descripción de la serie documental",rows:3,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"create-tiempo-gestion",children:"Tiempo Archivo Gestión (años) *"}),e.jsx(p,{id:"create-tiempo-gestion",type:"number",min:"0",value:a.tiempo_archivo_gestion,onChange:s=>j({...a,tiempo_archivo_gestion:parseInt(s.target.value)||0}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"create-tiempo-central",children:"Tiempo Archivo Central (años) *"}),e.jsx(p,{id:"create-tiempo-central",type:"number",min:"0",value:a.tiempo_archivo_central,onChange:s=>j({...a,tiempo_archivo_central:parseInt(s.target.value)||0}),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"create-disposicion",children:"Disposición Final *"}),e.jsxs(v,{value:a.disposicion_final,onValueChange:s=>j({...a,disposicion_final:s}),children:[e.jsx(b,{children:e.jsx(f,{placeholder:"Seleccionar disposición"})}),e.jsx(N,{children:Object.entries(Q).map(([s,i])=>e.jsx(u,{value:s,children:i},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"create-area",children:"Área Responsable"}),e.jsx(p,{id:"create-area",type:"text",value:a.area_responsable,onChange:s=>j({...a,area_responsable:s.target.value}),placeholder:"Área responsable de la serie"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"create-observaciones",children:"Observaciones"}),e.jsx(V,{id:"create-observaciones",value:a.observaciones,onChange:s=>j({...a,observaciones:s.target.value}),placeholder:"Observaciones adicionales",rows:2})]}),e.jsxs(L,{children:[e.jsx(l,{type:"button",variant:"outline",onClick:()=>G(!1),children:"Cancelar"}),e.jsx(l,{type:"submit",className:"bg-[#2a3d83] hover:bg-[#1e2b5f]",children:"Crear Serie Documental"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Series"}),e.jsx("p",{className:"text-2xl font-bold text-[#2a3d83]",children:t.total})]}),e.jsx(P,{className:"h-8 w-8 text-[#2a3d83]"})]})}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Activas"}),e.jsx("p",{className:"text-2xl font-bold text-[#2a3d83]",children:t.stats?.activas||0})]}),e.jsx(K,{className:"h-8 w-8 text-[#2a3d83]"})]})}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Inactivas"}),e.jsx("p",{className:"text-2xl font-bold text-[#2a3d83]",children:t.stats?.inactivas||0})]}),e.jsx(W,{className:"h-8 w-8 text-[#2a3d83]"})]})}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Subseries Totales"}),e.jsx("p",{className:"text-2xl font-bold text-[#2a3d83]",children:t.stats?.total_subseries||0})]}),e.jsx(P,{className:"h-8 w-8 text-[#2a3d83]"})]})})]}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(he,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(p,{type:"text",placeholder:"Buscar por código, nombre o descripción...",value:w,onChange:s=>Y(s.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(v,{value:C,onValueChange:Z,children:[e.jsx(b,{className:"w-full sm:w-48",children:e.jsx(f,{placeholder:"Filtrar por TRD"})}),e.jsxs(N,{children:[e.jsx(u,{value:"all",children:"Todas las TRDs"}),B.map(s=>e.jsxs(u,{value:s.id.toString(),children:[s.codigo," - ",s.nombre]},s.id))]})]}),e.jsxs(v,{value:S,onValueChange:ee,children:[e.jsx(b,{className:"w-full sm:w-40",children:e.jsx(f,{placeholder:"Estado"})}),e.jsxs(N,{children:[e.jsx(u,{value:"all",children:"Todos los estados"}),e.jsx(u,{value:"activa",children:"Activa"}),e.jsx(u,{value:"inactiva",children:"Inactiva"})]})]}),e.jsxs(v,{value:D,onValueChange:se,children:[e.jsx(b,{className:"w-full sm:w-48",children:e.jsx(f,{placeholder:"Área Responsable"})}),e.jsxs(N,{children:[e.jsx(u,{value:"all",children:"Todas las áreas"}),X.map(s=>e.jsx(u,{value:s,children:s},s))]})]}),e.jsxs(l,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-4 w-4"}),"Exportar"]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Serie Documental"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"TRD Asociada"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Retención"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Disposición Final"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subseries"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Creación"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(P,{className:"h-8 w-8 text-gray-300"}),e.jsx("p",{children:"No se encontraron series documentales"})]})})}):t.data.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.codigo}),e.jsx("div",{className:"text-sm text-gray-600 line-clamp-2",children:s.nombre}),s.descripcion&&e.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:s.descripcion})]})}),e.jsx("td",{className:"px-6 py-4",children:s.tabla_retencion?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm text-gray-900",children:s.tabla_retencion.codigo}),e.jsx("div",{className:"text-xs text-gray-500 line-clamp-1",children:s.tabla_retencion.nombre})]}):e.jsx("span",{className:"text-sm text-gray-400",children:"Sin TRD asociada"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-500",children:"No disponible"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm text-gray-400",children:"—"})}),e.jsx("td",{className:"px-6 py-4",children:J(s.activa)}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[s.subseries_count||0," subseries"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900",children:U(s.created_at)})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(E,{children:e.jsxs(T,{children:[e.jsx(F,{asChild:!0,children:e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>H(s),className:"text-[#2a3d83] hover:text-[#1e2b5f] hover:bg-blue-50",children:e.jsx(ue,{className:"h-4 w-4"})})}),e.jsx(k,{children:"Ver detalles"})]})}),e.jsx(E,{children:e.jsxs(T,{children:[e.jsx(F,{asChild:!0,children:e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>O(s),className:"text-[#2a3d83] hover:text-[#1e2b5f] hover:bg-blue-50",children:e.jsx(je,{className:"h-4 w-4"})})}),e.jsx(k,{children:"Editar"})]})}),e.jsx(E,{children:e.jsxs(T,{children:[e.jsx(F,{asChild:!0,children:e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>te(s),className:"text-[#2a3d83] hover:text-[#1e2b5f] hover:bg-blue-50",children:e.jsx(ge,{className:"h-4 w-4"})})}),e.jsx(k,{children:"Duplicar"})]})}),e.jsx(E,{children:e.jsxs(T,{children:[e.jsx(F,{asChild:!0,children:e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>le(s),className:`${s.activa?"text-orange-600 hover:text-orange-800 hover:bg-orange-50":"text-green-600 hover:text-green-800 hover:bg-green-50"}`,children:s.activa?e.jsx(W,{className:"h-4 w-4"}):e.jsx(K,{className:"h-4 w-4"})})}),e.jsx(k,{children:s.activa?"Desactivar":"Activar"})]})}),e.jsx(E,{children:e.jsxs(T,{children:[e.jsx(F,{asChild:!0,children:e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>R(s),className:"text-red-600 hover:text-red-700",children:e.jsx(ve,{className:"h-4 w-4"})})}),e.jsx(k,{children:"Eliminar"})]})})]})})]},s.id))})]})}),t.last_page>1&&e.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex justify-between flex-1 sm:hidden",children:[e.jsx(l,{variant:"outline",disabled:!t.prev_page_url,onClick:()=>t.prev_page_url&&h.visit(t.prev_page_url),children:"Anterior"}),e.jsx(l,{variant:"outline",disabled:!t.next_page_url,onClick:()=>t.next_page_url&&h.visit(t.next_page_url),children:"Siguiente"})]}),e.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Mostrando"," ",e.jsx("span",{className:"font-medium",children:t.from})," a"," ",e.jsx("span",{className:"font-medium",children:t.to})," de"," ",e.jsx("span",{className:"font-medium",children:t.total})," resultados"]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(l,{variant:"outline",size:"sm",disabled:t.current_page===1,onClick:()=>h.visit(t.first_page_url),children:"Primera"}),e.jsx(l,{variant:"outline",size:"sm",disabled:!t.prev_page_url,onClick:()=>t.prev_page_url&&h.visit(t.prev_page_url),children:"Anterior"}),e.jsx(l,{variant:"outline",size:"sm",disabled:!t.next_page_url,onClick:()=>t.next_page_url&&h.visit(t.next_page_url),children:"Siguiente"}),e.jsx(l,{variant:"outline",size:"sm",disabled:t.current_page===t.last_page,onClick:()=>h.visit(t.last_page_url),children:"Última"})]})]})]})})]}),o&&e.jsx(q,{open:!!o,onOpenChange:()=>O(null),children:e.jsxs(I,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-scroll [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:[e.jsxs(z,{children:[e.jsx($,{children:"Editar Serie Documental"}),e.jsx(M,{children:"Modifique los datos de la serie documental."})]}),e.jsxs("form",{onSubmit:s=>{s.preventDefault(),h.patch(`/admin/series/${o.id}`,c,{onSuccess:()=>{O(null),m.success("Serie documental actualizada exitosamente")},onError:i=>{Object.keys(i).forEach(n=>{const y=Array.isArray(i[n])?i[n][0]:i[n];m.error(`Error en ${n}: ${y}`)})}})},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"edit-codigo",children:"Código"}),e.jsx(p,{id:"edit-codigo",type:"text",value:c.codigo,onChange:s=>g({...c,codigo:s.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"edit-trd",children:"TRD Asociada *"}),e.jsxs(v,{value:c.trd_id,onValueChange:s=>g({...c,trd_id:s}),children:[e.jsx(b,{children:e.jsx(f,{placeholder:"Seleccionar TRD"})}),e.jsx(N,{children:B.map(s=>e.jsxs(u,{value:s.id.toString(),children:[s.codigo," - ",s.nombre]},s.id))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"edit-nombre",children:"Nombre *"}),e.jsx(p,{id:"edit-nombre",type:"text",value:c.nombre,onChange:s=>g({...c,nombre:s.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"edit-descripcion",children:"Descripción *"}),e.jsx(V,{id:"edit-descripcion",value:c.descripcion,onChange:s=>g({...c,descripcion:s.target.value}),rows:3,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"edit-tiempo-gestion",children:"Tiempo Archivo Gestión (años) *"}),e.jsx(p,{id:"edit-tiempo-gestion",type:"number",min:"0",value:c.tiempo_archivo_gestion,onChange:s=>g({...c,tiempo_archivo_gestion:parseInt(s.target.value)||0}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"edit-tiempo-central",children:"Tiempo Archivo Central (años) *"}),e.jsx(p,{id:"edit-tiempo-central",type:"number",min:"0",value:c.tiempo_archivo_central,onChange:s=>g({...c,tiempo_archivo_central:parseInt(s.target.value)||0}),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"edit-disposicion",children:"Disposición Final *"}),e.jsxs(v,{value:c.disposicion_final,onValueChange:s=>g({...c,disposicion_final:s}),children:[e.jsx(b,{children:e.jsx(f,{placeholder:"Seleccionar disposición final"})}),e.jsx(N,{children:Object.entries(Q).map(([s,i])=>e.jsx(u,{value:s,children:i},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"edit-area-responsable",children:"Área Responsable"}),e.jsx(p,{id:"edit-area-responsable",type:"text",value:c.area_responsable,onChange:s=>g({...c,area_responsable:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"edit-observaciones",children:"Observaciones"}),e.jsx(V,{id:"edit-observaciones",value:c.observaciones,onChange:s=>g({...c,observaciones:s.target.value}),rows:3})]}),e.jsxs(L,{children:[e.jsx(l,{type:"button",variant:"outline",onClick:()=>O(null),children:"Cancelar"}),e.jsx(l,{type:"submit",className:"bg-[#2a3d83] hover:bg-[#1e2b5f]",children:"Actualizar Serie"})]})]})]})}),d&&e.jsx(q,{open:!!d,onOpenChange:()=>H(null),children:e.jsxs(I,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-scroll [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:[e.jsxs(z,{children:[e.jsx($,{children:"Detalles de la Serie Documental"}),e.jsx(M,{children:"Información completa de la serie documental."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-gray-500",children:"Código"}),e.jsx("p",{className:"text-sm text-gray-900",children:d.codigo})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-gray-500",children:"Estado"}),e.jsx("div",{className:"mt-1",children:J(d.activa)})]})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-gray-500",children:"Nombre"}),e.jsx("p",{className:"text-sm text-gray-900",children:d.nombre})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-gray-500",children:"Descripción"}),e.jsx("p",{className:"text-sm text-gray-900",children:d.descripcion})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-gray-500",children:"TRD Asociada"}),e.jsxs("p",{className:"text-sm text-gray-900",children:[d.trd?.codigo," - ",d.trd?.nombre]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-gray-500",children:"Tiempo Archivo Gestión"}),e.jsxs("p",{className:"text-sm text-gray-900",children:[d.tiempo_archivo_gestion," años"]})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-gray-500",children:"Tiempo Archivo Central"}),e.jsxs("p",{className:"text-sm text-gray-900",children:[d.tiempo_archivo_central," años"]})]})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-gray-500",children:"Disposición Final"}),e.jsx("div",{className:"mt-1",children:ce(d.disposicion_final)})]}),d.area_responsable&&e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-gray-500",children:"Área Responsable"}),e.jsx("p",{className:"text-sm text-gray-900",children:d.area_responsable})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-gray-500",children:"Subseries"}),e.jsxs("p",{className:"text-sm text-gray-900",children:[d.subseries_count||0," subseries"]})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-gray-500",children:"Fecha de Creación"}),e.jsx("p",{className:"text-sm text-gray-900",children:U(d.created_at)})]})]})]}),e.jsx(L,{children:e.jsx(l,{onClick:()=>H(null),children:"Cerrar"})})]})}),A&&e.jsx(q,{open:!!A,onOpenChange:()=>R(null),children:e.jsxs(I,{className:"sm:max-w-[400px]",children:[e.jsxs(z,{children:[e.jsx($,{className:"text-red-600",children:"Confirmar Eliminación"}),e.jsxs(M,{children:['¿Está seguro de que desea eliminar la serie documental "',A.nombre,'"? Esta acción no se puede deshacer.']})]}),e.jsxs(L,{children:[e.jsx(l,{variant:"outline",onClick:()=>R(null),children:"Cancelar"}),e.jsx(l,{variant:"destructive",onClick:()=>re(A),children:"Eliminar"})]})]})})]})]})}export{Ue as default};
