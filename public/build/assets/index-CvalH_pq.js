import{j as e,H as j,L as t}from"./app-BcZLevcf.js";import{A as f}from"./app-layout-DasvXX5m.js";import{B as r}from"./button-BsM685ds.js";import{P as g}from"./progress-noSIwNJk.js";import{G as u}from"./app-sidebar-layout-7SHWFfjl.js";import{P as c}from"./plus-DHEPmPkG.js";import{C as d}from"./folder-DShUzZue.js";import{T as N,U as b}from"./users-Bv3mV0mG.js";import{C as m}from"./circle-check-big-_dCpeuxN.js";import{C as o}from"./calendar-CaxTyayN.js";import{F as x}from"./Combination-CLJ78jdy.js";/* empty css            */import"./index-BVTixdOX.js";import"./index-CNi2YxxG.js";import"./index-CIYEUQm3.js";import"./x-BL4iRsR5.js";import"./index-5AsEmbjk.js";import"./app-logo-icon-Bh6iRABb.js";import"./input-CjLt5s7n.js";import"./label-C1ipmG6c.js";import"./user-BKj-bQyT.js";import"./mail-J2AKm0cb.js";import"./triangle-alert-CQqqJdBk.js";import"./search-D5mRg5FV.js";const v=[{title:"Dashboard",href:"/dashboard"},{title:"Administración",href:"#"},{title:"Workflow de Aprobaciones",href:"/admin/workflow"}];function K({tareas_pendientes:l=[],instancias_usuario:i=[],estadisticas:h,workflows_disponibles:w=[]}){const p=s=>({en_proceso:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"En Proceso"}),pendiente:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Pendiente"}),completado:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Completado"}),cancelado:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Cancelado"}),pausado:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Pausado"})})[s]||e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:s}),n=s=>{if(!s)return"N/A";try{return new Date(s).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})}catch{return s}},a=h||{tareas_pendientes:0,instancias_activas:0,completadas_mes:0,promedio_duracion:0};return e.jsxs(f,{breadcrumbs:v,children:[e.jsx(j,{title:"Workflow de Aprobaciones"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-6 w-6 text-[#2a3d83]"}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Workflow de Aprobaciones"})]}),e.jsx(t,{href:"/admin/workflow/create",children:e.jsxs(r,{className:"flex items-center gap-2 px-4 py-2 bg-[#2a3d83] text-white rounded-lg hover:bg-[#1e2b5f] transition-colors",children:[e.jsx(c,{className:"h-4 w-4"}),"Nuevo Workflow"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Tareas Pendientes"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:a.tareas_pendientes})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(d,{className:"h-6 w-6 text-[#2a3d83]"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Instancias Activas"}),e.jsx("p",{className:"text-2xl font-semibold text-[#2a3d83]",children:a.instancias_activas})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(N,{className:"h-6 w-6 text-[#2a3d83]"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Completadas este Mes"}),e.jsx("p",{className:"text-2xl font-semibold text-[#2a3d83]",children:a.completadas_mes})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(m,{className:"h-6 w-6 text-[#2a3d83]"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Promedio Duración"}),e.jsxs("p",{className:"text-2xl font-semibold text-[#2a3d83]",children:[a.promedio_duracion,"h"]})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(d,{className:"h-6 w-6 text-[#2a3d83]"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden",children:[e.jsxs("div",{className:"border-b bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(d,{className:"w-5 h-5 text-[#2a3d83]"}),"Tareas Pendientes"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Tareas que requieren tu atención"})]}),e.jsx("div",{className:"p-6",children:l&&l.length>0?e.jsx("div",{className:"space-y-4",children:l.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.nombre}),s.descripcion&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.descripcion})]}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:s.estado})]}),s.fecha_vencimiento&&e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[e.jsx(o,{className:"w-4 h-4 inline mr-1"}),"Vence: ",n(s.fecha_vencimiento)]}),e.jsx("div",{className:"mt-3 flex gap-2",children:e.jsx(t,{href:`/admin/workflow/${s.instancia_id}`,children:e.jsx(r,{variant:"outline",size:"sm",className:"text-[#2a3d83] hover:text-[#1e2b5f]",children:"Ver Detalles"})})})]},s.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(m,{className:"w-12 h-12 mx-auto mb-4 text-[#2a3d83]"}),e.jsx("p",{children:"No hay tareas pendientes"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden",children:[e.jsxs("div",{className:"border-b bg-gray-50 px-6 py-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(x,{className:"w-5 h-5 text-[#2a3d83]"}),"Mis Instancias"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Workflows que has iniciado"})]}),e.jsx("div",{className:"p-6",children:i&&i.length>0?e.jsx("div",{className:"space-y-4",children:i.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx(t,{href:`/admin/workflow/${s.id}`,children:e.jsx("h4",{className:"font-medium text-[#2a3d83] hover:text-[#1e2b5f] hover:underline",children:s.workflow_nombre})}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.entidad_tipo," #",s.entidad_id]})]}),p(s.estado)]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Progreso"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.progreso,"%"]})]}),e.jsx(g,{value:s.progreso,className:"h-2"})]}),s.tarea_actual&&e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[e.jsx(b,{className:"w-4 h-4 inline mr-1"}),"Tarea actual: ",s.tarea_actual.nombre," - ",s.tarea_actual.asignado_a]}),s.fecha_inicio&&e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[e.jsx(o,{className:"w-4 h-4 inline mr-1"}),"Iniciado: ",n(s.fecha_inicio)]}),e.jsx("div",{className:"mt-3",children:e.jsx(t,{href:`/admin/workflow/${s.id}`,children:e.jsx(r,{variant:"outline",size:"sm",className:"text-[#2a3d83] hover:text-[#1e2b5f]",children:"Ver Estado"})})})]},s.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(x,{className:"w-12 h-12 mx-auto mb-4 text-[#2a3d83]"}),e.jsx("p",{children:"No has iniciado workflows"}),e.jsx(t,{href:"/admin/workflow/create",className:"mt-4 inline-block",children:e.jsxs(r,{className:"bg-[#2a3d83] hover:bg-[#1e2b5f]",children:[e.jsx(c,{className:"w-4 h-4 mr-2"}),"Nuevo Workflow"]})})]})})]})]})]})]})}export{K as default};
