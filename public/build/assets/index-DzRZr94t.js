import{j as e,H as _,L as t}from"./app-DwD03BlW.js";import{A as B,Y as P,C as j,a as u,q as N,g}from"./app-layout-Cm-3T7Vh.js";import{B as n}from"./app-logo-icon-DeP7MEdd.js";import{C as r,a as i,b as c,c as d,d as p}from"./card-qnUuQUQN.js";import{B as a}from"./badge-CPav5hDV.js";import{P as v}from"./progress-HiaohEUA.js";import{P as b}from"./plus-0ZffkSDI.js";import{T as z}from"./trending-up-CzkhAEyN.js";import{C as x}from"./circle-check-big-CWWtWrX_.js";import{C as R}from"./circle-x-DCgoMSkq.js";import{C as f}from"./calendar-DSlzs4NF.js";/* empty css            */import"./index-BafM60r2.js";import"./label-Daxx3HVK.js";import"./index-BjhMtKzi.js";function U({workflowsPendientes:m,workflowsSolicitados:o,estadisticas:l}){const y=s=>({borrador:e.jsx(a,{variant:"outline",className:"text-gray-600",children:"Borrador"}),pendiente:e.jsx(a,{variant:"outline",className:"text-yellow-600",children:"Pendiente"}),en_revision:e.jsx(a,{className:"bg-blue-100 text-blue-800",children:"En Revisión"}),aprobado:e.jsx(a,{className:"bg-green-100 text-green-800",children:"Aprobado"}),rechazado:e.jsx(a,{variant:"destructive",children:"Rechazado"})})[s]||e.jsx(a,{variant:"outline",children:s}),C=s=>({Crítica:e.jsx(a,{variant:"destructive",children:"Crítica"}),Alta:e.jsx(a,{className:"bg-orange-100 text-orange-800",children:"Alta"}),Media:e.jsx(a,{variant:"outline",className:"text-blue-600",children:"Media"}),Baja:e.jsx(a,{variant:"outline",className:"text-gray-600",children:"Baja"})})[s]||e.jsx(a,{variant:"outline",children:s}),h=s=>new Date(s).toLocaleDateString();return e.jsxs(B,{children:[e.jsx(_,{title:"Workflow de Aprobaciones"}),e.jsxs("div",{className:"container mx-auto py-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(P,{className:"w-8 h-8 text-blue-600"}),"Workflow de Aprobaciones"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona los procesos de aprobación de documentos"})]}),e.jsx(t,{href:"/admin/workflow/create",children:e.jsxs(n,{children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Nuevo Workflow"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Pendientes de Aprobación"}),e.jsx(j,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:l.pendientes_aprobacion}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Requieren tu atención"})]})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Solicitados Activos"}),e.jsx(z,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.solicitados_activos}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"En proceso de aprobación"})]})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Aprobados este Mes"}),e.jsx(x,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.aprobados_mes}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Completados exitosamente"})]})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Rechazados este Mes"}),e.jsx(R,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.rechazados_mes}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"No aprobados"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(r,{children:[e.jsxs(i,{children:[e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(j,{className:"w-5 h-5 text-orange-600"}),"Pendientes de Aprobación"]}),e.jsx(p,{children:"Documentos que requieren tu aprobación"})]}),e.jsx(d,{children:m.length>0?e.jsx("div",{className:"space-y-4",children:m.map(s=>e.jsxs("div",{className:"p-4 border rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx(t,{href:`/admin/workflow/${s.id}/aprobar`,children:e.jsx("h4",{className:"font-medium text-blue-600 hover:underline",children:s.documento.nombre})}),e.jsx("p",{className:"text-sm text-gray-600",children:s.documento.codigo})]}),e.jsxs("div",{className:"text-right",children:[C(s.prioridad),s.esta_vencido&&e.jsx("div",{className:"mt-1",children:e.jsxs(a,{variant:"destructive",className:"text-xs",children:[e.jsx(u,{className:"w-3 h-3 mr-1"}),"Vencido"]})})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-sm font-medium",children:"Progreso"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.progreso,"%"]})]}),e.jsx(v,{value:s.progreso,className:"h-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(N,{className:"w-4 h-4"}),"Solicitante"]}),e.jsx("div",{className:"font-medium",children:s.solicitante})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(f,{className:"w-4 h-4"}),"Vencimiento"]}),e.jsx("div",{className:"font-medium",children:h(s.fecha_vencimiento)})]})]}),s.descripcion&&e.jsx("div",{className:"mt-3 p-2 bg-gray-50 rounded text-sm",children:s.descripcion}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx(t,{href:`/admin/workflow/${s.id}/aprobar`,children:e.jsxs(n,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:[e.jsx(x,{className:"w-4 h-4 mr-1"}),"Revisar"]})}),e.jsx(t,{href:`/admin/workflow/${s.id}`,children:e.jsx(n,{variant:"outline",size:"sm",children:"Ver Detalles"})})]})]},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(x,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay aprobaciones pendientes"}),e.jsx("p",{className:"text-gray-600",children:"Excelente! No tienes documentos pendientes de aprobar."})]})})]}),e.jsxs(r,{children:[e.jsxs(i,{children:[e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-5 h-5 text-blue-600"}),"Mis Solicitudes"]}),e.jsx(p,{children:"Workflows que has solicitado"})]}),e.jsx(d,{children:o.length>0?e.jsx("div",{className:"space-y-4",children:o.map(s=>e.jsxs("div",{className:"p-4 border rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx(t,{href:`/admin/workflow/${s.id}`,children:e.jsx("h4",{className:"font-medium text-blue-600 hover:underline",children:s.documento.nombre})}),e.jsx("p",{className:"text-sm text-gray-600",children:s.documento.codigo})]}),e.jsxs("div",{className:"text-right",children:[y(s.estado),s.esta_vencido&&e.jsx("div",{className:"mt-1",children:e.jsxs(a,{variant:"destructive",className:"text-xs",children:[e.jsx(u,{className:"w-3 h-3 mr-1"}),"Vencido"]})})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-sm font-medium",children:"Progreso"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.progreso,"%"]})]}),e.jsx(v,{value:s.progreso,className:"h-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(N,{className:"w-4 h-4"}),"Revisor Actual"]}),e.jsx("div",{className:"font-medium",children:s.revisor_actual||"Completado"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(f,{className:"w-4 h-4"}),"Solicitud"]}),e.jsx("div",{className:"font-medium",children:h(s.fecha_solicitud)})]})]}),e.jsx("div",{className:"mt-3",children:e.jsx(t,{href:`/admin/workflow/${s.id}`,children:e.jsx(n,{variant:"outline",size:"sm",children:"Ver Estado"})})})]},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(g,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No has solicitado workflows"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Inicia tu primer proceso de aprobación de documentos."}),e.jsx(t,{href:"/admin/workflow/create",children:e.jsxs(n,{children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Nuevo Workflow"]})})]})})]})]})]})]})}export{U as default};
