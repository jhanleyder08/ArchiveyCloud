import{r as x,u as S,j as e,H as E,L as u}from"./app-DmFTQNHU.js";import{A as F}from"./app-layout-CF5PBVMg.js";import{A as $}from"./app-sidebar-layout-B4-tSBlc.js";import{U as m}from"./user-2vHAz8tr.js";import{M as I}from"./mail-i7usF0Qz.js";import{L as p}from"./lock-CxbCObVm.js";import{E as h}from"./eye-off-BLqiWOlh.js";import{E as g}from"./eye-CevU9AUM.js";import{S as f}from"./triangle-alert-Qv0vinvY.js";import{U as j}from"./user-check-Bp6guvgR.js";import{U as b}from"./user-x-BXDCZPdV.js";/* empty css            */import"./button-B9uqYTIR.js";import"./index-6lxVY5DU.js";import"./Combination-DB4vhy5A.js";import"./index-BBDU3XkM.js";import"./index-D6-3VAHV.js";import"./x-D4OXCe6m.js";import"./app-logo-icon-B1r3bsQj.js";import"./input-CXpCTHGE.js";import"./label-CYYsus1F.js";import"./users-CA6jkooN.js";import"./folder-CyqBlkrb.js";import"./search-BECONtiU.js";import"./BrandingProvider-BKZadETt.js";const N=r=>{if(!r)return"";try{const d=new Date(r);return isNaN(d.getTime())?"":d.toISOString().split("T")[0]}catch{return""}},U=[{title:"Dashboard",href:"/dashboard"},{title:"Administración",href:"#"},{title:"Gestión de usuarios",href:"/admin/users"},{title:"Editar usuario",href:"#"}];function te({user:r,roles:d}){const[l,v]=x.useState(!1),[i,y]=x.useState(!1),{data:t,setData:o,put:_,processing:n,errors:a}=S({name:r.name,email:r.email,password:"",password_confirmation:"",role_id:r.role?.id?.toString()||"",active:r.active,documento_identidad:r.documento_identidad||"",tipo_documento:r.tipo_documento||"cedula_ciudadania",telefono:r.telefono||"",cargo:r.cargo||"",dependencia:r.dependencia||"",fecha_ingreso:N(r.fecha_ingreso),fecha_vencimiento_cuenta:N(r.fecha_vencimiento_cuenta)}),w=s=>{s.preventDefault(),_(`/admin/users/${r.id}`,{preserveScroll:!0})},c=r.active?r.email_verified_at?{text:"Activo",color:"bg-green-100 text-green-800",icon:j}:{text:"Pendiente",color:"bg-yellow-100 text-yellow-800",icon:m}:{text:"Inactivo",color:"bg-red-100 text-red-800",icon:b},C=c.icon;return e.jsxs(F,{breadcrumbs:U,children:[e.jsx(E,{title:`Editar Usuario - ${r.name}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(u,{href:"/admin/users",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx($,{className:"h-4 w-4"}),"Volver a usuarios"]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-6 w-6 text-[#2a3d83]"}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Editar Usuario"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${c.color}`,children:c.text})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 bg-[#2a3d83] rounded-full flex items-center justify-center text-white text-lg font-medium",children:r.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:r.name}),e.jsx("p",{className:"text-sm text-gray-600",children:r.email}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Registrado: ",new Date(r.created_at).toLocaleDateString("es-ES")]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border shadow-sm",children:e.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:"Nombre completo"}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{id:"name",type:"text",value:t.name,onChange:s=>o("name",s.target.value),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2a3d83] focus:border-[#2a3d83] ${a.name?"border-red-300":"border-gray-300"}`,placeholder:"Ingresa el nombre completo",required:!0})]}),a.name&&e.jsx("p",{className:"text-sm text-red-600",children:a.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Correo electrónico"}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{id:"email",type:"email",value:t.email,onChange:s=>o("email",s.target.value),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2a3d83] focus:border-[#2a3d83] ${a.email?"border-red-300":"border-gray-300"}`,placeholder:"usuario@archiveycloud.com",required:!0})]}),a.email&&e.jsx("p",{className:"text-sm text-red-600",children:a.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:["Nueva contraseña",e.jsx("span",{className:"text-gray-500 font-normal",children:" (opcional)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{id:"password",type:l?"text":"password",value:t.password,onChange:s=>o("password",s.target.value),className:`w-full pl-10 pr-10 py-2 border rounded-lg focus:ring-2 focus:ring-[#2a3d83] focus:border-[#2a3d83] ${a.password?"border-red-300":"border-gray-300"}`,placeholder:"Dejar vacío para mantener actual"}),e.jsx("button",{type:"button",onClick:()=>v(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?e.jsx(h,{className:"h-4 w-4"}):e.jsx(g,{className:"h-4 w-4"})})]}),a.password&&e.jsx("p",{className:"text-sm text-red-600",children:a.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password_confirmation",className:"text-sm font-medium text-gray-700",children:"Confirmar nueva contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{id:"password_confirmation",type:i?"text":"password",value:t.password_confirmation,onChange:s=>o("password_confirmation",s.target.value),className:`w-full pl-10 pr-10 py-2 border rounded-lg focus:ring-2 focus:ring-[#2a3d83] focus:border-[#2a3d83] ${a.password_confirmation?"border-red-300":"border-gray-300"}`,placeholder:"Confirma la nueva contraseña"}),e.jsx("button",{type:"button",onClick:()=>y(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?e.jsx(h,{className:"h-4 w-4"}):e.jsx(g,{className:"h-4 w-4"})})]}),a.password_confirmation&&e.jsx("p",{className:"text-sm text-red-600",children:a.password_confirmation})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Información Personal y Laboral"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"documento_identidad",className:"text-sm font-medium text-gray-700",children:"Documento de Identidad"}),e.jsx("input",{id:"documento_identidad",type:"text",value:t.documento_identidad,onChange:s=>o("documento_identidad",s.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2a3d83] focus:border-[#2a3d83] ${a.documento_identidad?"border-red-300":"border-gray-300"}`,placeholder:"Ej: 1234567890"}),a.documento_identidad&&e.jsx("p",{className:"text-sm text-red-600",children:a.documento_identidad})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"tipo_documento",className:"text-sm font-medium text-gray-700",children:"Tipo de Documento"}),e.jsxs("select",{id:"tipo_documento",value:t.tipo_documento,onChange:s=>o("tipo_documento",s.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2a3d83] focus:border-[#2a3d83] border-gray-300",children:[e.jsx("option",{value:"cedula_ciudadania",children:"Cédula de Ciudadanía"}),e.jsx("option",{value:"cedula_extranjeria",children:"Cédula de Extranjería"}),e.jsx("option",{value:"pasaporte",children:"Pasaporte"}),e.jsx("option",{value:"tarjeta_identidad",children:"Tarjeta de Identidad"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"telefono",className:"text-sm font-medium text-gray-700",children:"Teléfono"}),e.jsx("input",{id:"telefono",type:"text",value:t.telefono,onChange:s=>o("telefono",s.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2a3d83] focus:border-[#2a3d83] ${a.telefono?"border-red-300":"border-gray-300"}`,placeholder:"Ej: 3001234567"}),a.telefono&&e.jsx("p",{className:"text-sm text-red-600",children:a.telefono})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"cargo",className:"text-sm font-medium text-gray-700",children:"Cargo"}),e.jsx("input",{id:"cargo",type:"text",value:t.cargo,onChange:s=>o("cargo",s.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2a3d83] focus:border-[#2a3d83] ${a.cargo?"border-red-300":"border-gray-300"}`,placeholder:"Ej: Analista"}),a.cargo&&e.jsx("p",{className:"text-sm text-red-600",children:a.cargo})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx("label",{htmlFor:"dependencia",className:"text-sm font-medium text-gray-700",children:"Dependencia"}),e.jsx("input",{id:"dependencia",type:"text",value:t.dependencia,onChange:s=>o("dependencia",s.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2a3d83] focus:border-[#2a3d83] ${a.dependencia?"border-red-300":"border-gray-300"}`,placeholder:"Ej: Recursos Humanos"}),a.dependencia&&e.jsx("p",{className:"text-sm text-red-600",children:a.dependencia})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"fecha_ingreso",className:"text-sm font-medium text-gray-700",children:"Fecha de Ingreso"}),e.jsx("input",{id:"fecha_ingreso",type:"date",value:t.fecha_ingreso,onChange:s=>o("fecha_ingreso",s.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2a3d83] focus:border-[#2a3d83] ${a.fecha_ingreso?"border-red-300":"border-gray-300"}`}),a.fecha_ingreso&&e.jsx("p",{className:"text-sm text-red-600",children:a.fecha_ingreso})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"fecha_vencimiento_cuenta",className:"text-sm font-medium text-gray-700",children:["Fecha de Vencimiento de Cuenta",e.jsx("span",{className:"text-gray-500 font-normal",children:" (opcional)"})]}),e.jsx("input",{id:"fecha_vencimiento_cuenta",type:"date",value:t.fecha_vencimiento_cuenta,onChange:s=>o("fecha_vencimiento_cuenta",s.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2a3d83] focus:border-[#2a3d83] ${a.fecha_vencimiento_cuenta?"border-red-300":"border-gray-300"}`}),a.fecha_vencimiento_cuenta&&e.jsx("p",{className:"text-sm text-red-600",children:a.fecha_vencimiento_cuenta})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 border-t pt-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"role_id",className:"text-sm font-medium text-gray-700",children:"Rol"}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsxs("select",{id:"role_id",value:t.role_id,onChange:s=>o("role_id",s.target.value),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2a3d83] focus:border-[#2a3d83] ${a.role_id?"border-red-300":"border-gray-300"}`,required:!0,children:[e.jsx("option",{value:"",children:"Seleccionar rol..."}),d.map(s=>e.jsx("option",{value:s.id.toString(),children:s.name},s.id))]})]}),a.role_id&&e.jsx("p",{className:"text-sm text-red-600",children:a.role_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"active",className:"text-sm font-medium text-gray-700",children:"Estado"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"active",checked:t.active===!0,onChange:()=>o("active",!0),className:"text-[#2a3d83] focus:ring-[#2a3d83]"}),e.jsx(j,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Activo"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"active",checked:t.active===!1,onChange:()=>o("active",!1),className:"text-red-600 focus:ring-red-600"}),e.jsx(b,{className:"h-4 w-4 text-red-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Inactivo"})]})]}),a.active&&e.jsx("p",{className:"text-sm text-red-600",children:a.active})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-1 bg-amber-100 rounded-full",children:e.jsx(f,{className:"h-4 w-4 text-amber-600"})}),e.jsxs("div",{className:"text-sm text-amber-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Importante:"}),e.jsxs("ul",{className:"space-y-1 text-amber-700",children:[e.jsx("li",{children:"• Solo completa los campos que deseas cambiar"}),e.jsx("li",{children:"• La contraseña actual se mantendrá si no especificas una nueva"}),e.jsx("li",{children:'• Cambiar el estado a "Inactivo" impedirá al usuario iniciar sesión'}),e.jsx("li",{children:"• Los cambios de rol se aplicarán en el próximo login"})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-3 justify-end pt-6 border-t",children:[e.jsx(u,{href:"/admin/users",className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:n,className:`px-6 py-2 bg-[#2a3d83] text-white rounded-lg font-medium transition-colors ${n?"opacity-50 cursor-not-allowed":"hover:bg-[#1e2b5f]"}`,children:n?"Guardando...":"Guardar Cambios"})]})]})})]})]})}export{te as default};
