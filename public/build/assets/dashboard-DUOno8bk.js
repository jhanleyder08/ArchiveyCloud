import{r as S,j as e,H as F,L as c}from"./app-DPEjwQT9.js";import{A as P}from"./app-layout-DJGC0aA3.js";import{c as b,B as d}from"./app-logo-icon-H_IL7Yv2.js";import{C as r,a as t,b as i,c as l,d as u}from"./card-wRfpXQ5K.js";import{B as n}from"./badge-q1UJX4yT.js";import{T,a as D,b as m,c as x}from"./tabs-CCQZ9Yu6.js";import{A as _,a as k}from"./alert-NgRWBvCT.js";import{P as V}from"./plus-BrNHFBfg.js";import{C as z}from"./circle-alert-CXvO1lqo.js";import{o as E,S as L,U as M,g as v}from"./app-sidebar-layout-IbwrykLk.js";import{P as q}from"./pen-tool-DIcolMWv.js";/* empty css            */import"./index-hKtuufHU.js";import"./label-D3CTh0Ka.js";import"./index-BV2fi4LF.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],B=b("FileCheck",A);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],o=b("Key",K);function re({estadisticas:a,solicitudes_pendientes:h,mis_solicitudes:j,certificados:f,certificados_proximos_vencer:p}){const[N,U]=S.useState(a.usuario),g=s=>new Date(s).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),w=s=>({urgente:"bg-red-500 text-white",alta:"bg-orange-500 text-white",normal:"bg-blue-500 text-white",baja:"bg-gray-500 text-white"})[s]||"bg-gray-500 text-white",y=s=>({pendiente:"bg-yellow-500 text-white",en_proceso:"bg-blue-500 text-white",completada:"bg-green-500 text-white",cancelada:"bg-red-500 text-white",vencida:"bg-red-600 text-white"})[s]||"bg-gray-500 text-white";return e.jsxs(P,{children:[e.jsx(F,{title:"Dashboard de Firmas Digitales"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"md:flex md:items-center md:justify-between mb-6",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Dashboard de Firmas Digitales 游댏"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Sistema PKI avanzado para firma electr칩nica empresarial"})]}),e.jsxs("div",{className:"mt-4 flex md:mt-0 md:ml-4 space-x-3",children:[e.jsx(c,{href:route("admin.firmas.solicitudes.crear"),children:e.jsxs(d,{children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"Nueva Solicitud"]})}),e.jsx(c,{href:route("admin.firmas.certificados"),children:e.jsxs(d,{variant:"outline",children:[e.jsx(o,{className:"w-4 h-4 mr-2"}),"Certificados"]})})]})]}),p.length>0&&e.jsxs(_,{className:"mb-6 border-orange-200 bg-orange-50",children:[e.jsx(z,{className:"h-4 w-4 text-orange-600"}),e.jsxs(k,{className:"text-orange-800",children:["Tienes ",p.length," certificado(s) pr칩ximo(s) a vencer.",e.jsx(c,{href:route("admin.firmas.certificados"),className:"ml-2 underline font-medium",children:"Ver certificados"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(r,{children:[e.jsxs(t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Firmas Totales"}),e.jsx(B,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.firmas.total}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.firmas.hoy," hoy"]})]})]}),e.jsxs(r,{children:[e.jsxs(t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Este Mes"}),e.jsx(E,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.firmas.este_mes}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[N?.firmas_realizadas_mes||0," tuyas"]})]})]}),e.jsxs(r,{children:[e.jsxs(t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Firmas V치lidas"}),e.jsx(L,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.firmas.validas}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.firmas.porcentaje_validez.toFixed(1),"% validez"]})]})]}),e.jsxs(r,{children:[e.jsxs(t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Certificados"}),e.jsx(o,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.certificados.activos}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[N?.certificados_activos||0," tuyos"]})]})]})]}),e.jsxs(T,{defaultValue:"pendientes",className:"space-y-6",children:[e.jsxs(D,{children:[e.jsxs(m,{value:"pendientes",children:["Pendientes de Firma (",h.length,")"]}),e.jsxs(m,{value:"mis-solicitudes",children:["Mis Solicitudes (",j.length,")"]}),e.jsxs(m,{value:"certificados",children:["Mis Certificados (",f.length,")"]}),e.jsx(m,{value:"estadisticas",children:"Estad칤sticas"})]}),e.jsx(x,{value:"pendientes",className:"space-y-4",children:e.jsxs(r,{children:[e.jsxs(t,{children:[e.jsxs(i,{className:"flex items-center",children:[e.jsx(M,{className:"w-5 h-5 mr-2"}),"Solicitudes Pendientes de Tu Firma"]}),e.jsx(u,{children:"Documentos que requieren tu firma digital"})]}),e.jsx(l,{children:h.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(q,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No tienes solicitudes pendientes de firma"})]}):e.jsx("div",{className:"space-y-4",children:h.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:s.titulo}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.documento.nombre}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Solicitado por: ",s.solicitante.name]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(n,{className:w(s.prioridad),children:s.prioridad}),e.jsx(n,{className:y(s.estado),children:s.estado})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:["L칤mite: ",g(s.fecha_limite)]}),e.jsx(c,{href:route("admin.firmas.solicitud",s.id),children:e.jsx(d,{size:"sm",children:"Ver Solicitud"})})]})]},s.id))})})]})}),e.jsx(x,{value:"mis-solicitudes",className:"space-y-4",children:e.jsxs(r,{children:[e.jsxs(t,{children:[e.jsxs(i,{className:"flex items-center",children:[e.jsx(v,{className:"w-5 h-5 mr-2"}),"Mis Solicitudes de Firma"]}),e.jsx(u,{children:"Solicitudes que has creado"})]}),e.jsx(l,{children:j.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(v,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No has creado solicitudes de firma"}),e.jsx(c,{href:route("admin.firmas.solicitudes.crear"),className:"mt-4",children:e.jsx(d,{children:"Crear Primera Solicitud"})})]}):e.jsx("div",{className:"space-y-4",children:j.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:s.titulo}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.documento.nombre}),s.progreso&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Progreso: ",s.progreso.completadas,"/",s.progreso.total," firmantes"]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${s.progreso.porcentaje}%`}})})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(n,{className:y(s.estado),children:s.estado})})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:[s.firmantes.length," firmante(s)"]}),e.jsx(c,{href:route("admin.firmas.solicitud",s.id),children:e.jsx(d,{size:"sm",variant:"outline",children:"Ver Detalles"})})]})]},s.id))})})]})}),e.jsx(x,{value:"certificados",className:"space-y-4",children:e.jsxs(r,{children:[e.jsxs(t,{children:[e.jsxs(i,{className:"flex items-center",children:[e.jsx(o,{className:"w-5 h-5 mr-2"}),"Mis Certificados Digitales"]}),e.jsx(u,{children:"Certificados PKI para firma electr칩nica"})]}),e.jsx(l,{children:f.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(o,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No tienes certificados digitales"}),e.jsx(c,{href:route("admin.firmas.certificados"),className:"mt-4",children:e.jsx(d,{children:"Gestionar Certificados"})})]}):e.jsx("div",{className:"space-y-4",children:f.map(s=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:s.nombre_certificado}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Serie: ",s.numero_serie]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Vence: ",g(s.fecha_vencimiento)]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(n,{variant:s.vigente?"default":"destructive",children:s.vigente?"Vigente":"Vencido"})})]})},s.id))})})]})}),e.jsx(x,{value:"estadisticas",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(r,{children:[e.jsx(t,{children:e.jsx(i,{children:"Estad칤sticas Generales"})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total de firmas:"}),e.jsx("span",{className:"font-medium",children:a.firmas.total})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Con certificado PKI:"}),e.jsx("span",{className:"font-medium",children:a.firmas.con_certificado})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Porcentaje de validez:"}),e.jsxs("span",{className:"font-medium",children:[a.firmas.porcentaje_validez.toFixed(1),"%"]})]})]})]}),e.jsxs(r,{children:[e.jsx(t,{children:e.jsx(i,{children:"Solicitudes"})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Pendientes:"}),e.jsx("span",{className:"font-medium",children:a.solicitudes.pendientes})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Completadas:"}),e.jsx("span",{className:"font-medium",children:a.solicitudes.completadas})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Vencidas:"}),e.jsx("span",{className:"font-medium text-red-600",children:a.solicitudes.vencidas})]})]})]})]})})]})]})})]})}export{re as default};
