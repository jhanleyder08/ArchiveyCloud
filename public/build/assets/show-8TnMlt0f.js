import{j as s,H as C,L as o}from"./app-B_OG_Vza.js";import{A}from"./app-layout-DOCwYxKT.js";import{C as t,a as i,b as c,c as r,d as m}from"./card-cumjxZex.js";import{B as d}from"./badge-DeNNKN-1.js";import{B as h}from"./button-BSbSEU_p.js";import{T as D,a as T,b as j,c as p}from"./tabs-Dd8K_W82.js";import{S as n}from"./separator-Cl55b8xC.js";import{A as S,i as N,C as B}from"./app-sidebar-layout-fWJRkDcF.js";import{C as E}from"./circle-check-big-BhMkSw6G.js";import{T as u}from"./triangle-alert-3stdfBS0.js";import{S as F}from"./square-pen-Dmnd7JER.js";import{F as f}from"./Combination-C0EFkMHe.js";import{C as L}from"./folder-B9vwnN7g.js";import{U as R,T as k}from"./users-B-Ei4AUw.js";import{C as I}from"./calendar-DpurnjK4.js";import{R as v,T as g}from"./CategoricalChart-DJixag_r.js";import{A as K,a as b}from"./AreaChart-NbZQhJqg.js";import{C as P,X as U,Y as $}from"./CartesianChart-DeOtmXWm.js";import{L as z}from"./Legend-Bwuze116.js";import{P as G,a as H}from"./PieChart-DRnnKVN2.js";import{C as O}from"./tooltipContext-BzSlnlMS.js";/* empty css            */import"./index-CmTcU35r.js";import"./index-CeYb-gwX.js";import"./index-COOtV0Sn.js";import"./x-Di-LOll0.js";import"./app-logo-icon-A0O4A2TN.js";import"./input-Dh6-5mRd.js";import"./label-rVSvqjBQ.js";import"./user-Bso3zvdg.js";import"./mail-DIqKJEVK.js";import"./search-CCssNLWg.js";import"./BrandingProvider-BDq7LIZa.js";import"./ActivePoints-CHBMg1oe.js";const x=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6"];function Cs({serie:e}){const y=a=>{switch(a){case"tramite":return"bg-blue-100 text-blue-800";case"gestion":return"bg-yellow-100 text-yellow-800";case"central":return"bg-green-100 text-green-800";case"historico":return"bg-purple-100 text-purple-800";case"eliminado":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=a=>{switch(a){case"conservacion_permanente":return"text-blue-600";case"eliminacion":return"text-red-600";case"transferencia":return"text-green-600";default:return"text-gray-600"}},_=a=>{switch(a){case"conservacion_permanente":return s.jsx(N,{className:"h-4 w-4"});case"eliminacion":return s.jsx(u,{className:"h-4 w-4"});case"transferencia":return s.jsx(k,{className:"h-4 w-4"});default:return s.jsx(f,{className:"h-4 w-4"})}};return s.jsxs(A,{children:[s.jsx(C,{title:`Serie: ${e.nombre} - ArchiveyCloud`}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(o,{href:"/admin/series",children:s.jsxs(h,{variant:"ghost",size:"sm",children:[s.jsx(S,{className:"h-4 w-4 mr-2"}),"Volver"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e.nombre}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Código: ",e.codigo," • TRD: ",e.trd.nombre]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(d,{variant:e.activa?"default":"secondary",children:e.activa?s.jsxs(s.Fragment,{children:[s.jsx(E,{className:"h-3 w-3 mr-1"}),"Activa"]}):s.jsxs(s.Fragment,{children:[s.jsx(u,{className:"h-3 w-3 mr-1"}),"Inactiva"]})}),s.jsx(o,{href:`/admin/series/${e.id}/edit`,children:s.jsxs(h,{children:[s.jsx(F,{className:"h-4 w-4 mr-2"}),"Editar"]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(t,{children:[s.jsx(i,{children:s.jsxs(c,{className:"flex items-center space-x-2",children:[s.jsx(f,{className:"h-5 w-5"}),s.jsx("span",{children:"Información General"})]})}),s.jsxs(r,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Descripción"}),s.jsx("p",{className:"text-gray-700",children:e.descripcion})]}),s.jsx(n,{}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[s.jsx(L,{className:"h-4 w-4 mr-2"}),"Archivo de Gestión"]}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[e.retencion?.retencion_archivo_gestion||"N/A"," años"]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[s.jsx(N,{className:"h-4 w-4 mr-2"}),"Archivo Central"]}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[e.retencion?.retencion_archivo_central||"N/A"," años"]})]})]}),s.jsx(n,{}),e.retencion?.disposicion_final&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[_(e.retencion.disposicion_final),s.jsx("span",{className:"ml-2",children:"Disposición Final"})]}),s.jsx(d,{className:w(e.retencion.disposicion_final),children:e.retencion.disposicion_final.replace(/_/g," ").toUpperCase()})]}),s.jsx(n,{}),e.area_responsable&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[s.jsx(R,{className:"h-4 w-4 mr-2"}),"Área Responsable"]}),s.jsx("p",{className:"text-gray-700",children:e.area_responsable})]}),e.observaciones&&s.jsxs(s.Fragment,{children:[s.jsx(n,{}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Observaciones"}),s.jsx("p",{className:"text-gray-600 text-sm",children:e.observaciones})]})]})]})]}),s.jsxs(D,{defaultValue:"expedientes",className:"space-y-4",children:[s.jsxs(T,{className:"grid w-full grid-cols-3",children:[s.jsx(j,{value:"expedientes",children:"Expedientes"}),s.jsx(j,{value:"subseries",children:"Subseries"}),s.jsx(j,{value:"actividad",children:"Actividad"})]}),s.jsx(p,{value:"expedientes",className:"space-y-4",children:s.jsxs(t,{children:[s.jsxs(i,{children:[s.jsx(c,{children:"Expedientes Recientes"}),s.jsx(m,{children:"Últimos expedientes vinculados a esta serie"})]}),s.jsx(r,{children:s.jsx("div",{className:"space-y-4",children:e.expedientes_recientes.map(a=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"font-semibold",children:a.codigo}),s.jsx(d,{className:y(a.estado_ciclo_vida),children:a.estado_ciclo_vida})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.titulo}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(I,{className:"h-3 w-3 mr-1"}),new Date(a.fecha_apertura).toLocaleDateString()]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(f,{className:"h-3 w-3 mr-1"}),a.documentos_count," documentos"]}),s.jsx("span",{children:a.tamaño_total})]})]}),s.jsx(o,{href:`/admin/expedientes/${a.id}`,children:s.jsx(h,{variant:"ghost",size:"sm",children:"Ver"})})]},a.id))})})]})}),s.jsx(p,{value:"subseries",className:"space-y-4",children:s.jsxs(t,{children:[s.jsxs(i,{children:[s.jsx(c,{children:"Subseries Documentales"}),s.jsx(m,{children:"Subseries vinculadas a esta serie"})]}),s.jsx(r,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.subseries.map(a=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold",children:a.codigo}),s.jsx(d,{variant:a.activa?"default":"secondary",children:a.activa?"Activa":"Inactiva"})]}),s.jsx("p",{className:"text-sm font-medium mb-1",children:a.nombre}),s.jsx("p",{className:"text-xs text-gray-600 mb-3",children:a.descripcion}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[s.jsxs("span",{children:[a.expedientes_count," expedientes"]}),s.jsxs("span",{children:[a.documentos_count," documentos"]})]})]},a.id))})})]})}),s.jsx(p,{value:"actividad",className:"space-y-4",children:s.jsxs(t,{children:[s.jsxs(i,{children:[s.jsx(c,{children:"Actividad Mensual"}),s.jsx(m,{children:"Creación de expedientes y documentos"})]}),s.jsx(r,{children:s.jsx(v,{width:"100%",height:300,children:s.jsxs(K,{data:e.estadisticas.actividad_mensual,children:[s.jsx(P,{strokeDasharray:"3 3"}),s.jsx(U,{dataKey:"mes"}),s.jsx($,{}),s.jsx(g,{}),s.jsx(z,{}),s.jsx(b,{type:"monotone",dataKey:"expedientes",stackId:"1",stroke:"#3B82F6",fill:"#3B82F6",name:"Expedientes"}),s.jsx(b,{type:"monotone",dataKey:"documentos",stackId:"1",stroke:"#10B981",fill:"#10B981",name:"Documentos"})]})})})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(t,{children:[s.jsx(i,{children:s.jsxs(c,{className:"flex items-center space-x-2",children:[s.jsx(B,{className:"h-5 w-5"}),s.jsx("span",{children:"Estadísticas"})]})}),s.jsxs(r,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.estadisticas.total_expedientes}),s.jsx("div",{className:"text-sm text-gray-600",children:"Expedientes"})]}),s.jsx(n,{}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.estadisticas.total_documentos}),s.jsx("div",{className:"text-sm text-gray-600",children:"Documentos"})]}),s.jsx(n,{}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.estadisticas.total_subseries}),s.jsx("div",{className:"text-sm text-gray-600",children:"Subseries"})]}),s.jsx(n,{}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl font-bold text-orange-600",children:e.estadisticas.tamaño_total}),s.jsx("div",{className:"text-sm text-gray-600",children:"Almacenamiento"})]})]})]}),s.jsxs(t,{children:[s.jsx(i,{children:s.jsx(c,{children:"Estados Expedientes"})}),s.jsxs(r,{children:[s.jsx(v,{width:"100%",height:200,children:s.jsxs(G,{children:[s.jsx(H,{data:e.estadisticas.expedientes_por_estado,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"cantidad",children:e.estadisticas.expedientes_por_estado.map((a,l)=>s.jsx(O,{fill:a.color||x[l%x.length]},`cell-${l}`))}),s.jsx(g,{})]})}),s.jsx("div",{className:"space-y-2 mt-4",children:e.estadisticas.expedientes_por_estado.map((a,l)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.color||x[l%x.length]}}),s.jsx("span",{className:"text-sm",children:a.estado})]}),s.jsx("span",{className:"text-sm font-medium",children:a.cantidad})]},l))})]})]}),s.jsxs(t,{children:[s.jsx(i,{children:s.jsx(c,{children:"Información Técnica"})}),s.jsxs(r,{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Creada:"}),s.jsx("span",{children:new Date(e.created_at).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Actualizada:"}),s.jsx("span",{children:new Date(e.updated_at).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"ID:"}),s.jsx("span",{children:e.id})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"TRD ID:"}),s.jsx("span",{children:e.trd.id})]})]})]})]})]})]})]})}export{Cs as default};
