import{r as p,j as e,H as S,b as h,t as j}from"./app-tMaUuF3G.js";import{f as g,A as w}from"./app-sidebar-layout-DrvTFVRU.js";import{B as o}from"./button-b2NvRhsY.js";import{C as u,c as v,a as k,b as $,d as L}from"./card-B1dP6K0M.js";import{I as z}from"./input-BUbi3POq.js";import{L as c}from"./label-Bqu3HQD6.js";import{S as f}from"./switch-gbmVKDZH.js";import{B as A}from"./Combination-CgNv0oAU.js";import{S as E}from"./separator-Bhu8eejL.js";import{S as B}from"./triangle-alert-JjU49oaO.js";import{R as I}from"./refresh-cw-B8mtnCVy.js";import{S as R}from"./save-B3j5Lj3Y.js";/* empty css            */import"./index-gcMQB5yO.js";import"./index-DReOSayN.js";import"./index-BqccPZiJ.js";import"./x-B3QVzJhq.js";import"./app-logo-icon-DkUm7hxR.js";import"./user-BK5OEaM4.js";import"./mail-CwCHIGE1.js";import"./users-0BijOv_M.js";import"./folder-CyeXS8Xg.js";import"./search-a-c68EbR.js";import"./BrandingProvider-DUeywemA.js";import"./index-CWm8oeKh.js";function le({configuraciones:n,categoria:N="seguridad",titulo:i="Seguridad"}){const[t,m]=p.useState(n),[C,x]=p.useState(!1),b=[{title:"Administración",href:"/admin"},{title:"Configuración",href:"/admin/configuracion"},{title:i,href:`/admin/configuracion/${N}`}],l=(a,s,r)=>{m(t.map(d=>d.id===a?{...d,[s]:r}:d))},y=async a=>{x(!0);try{await h.put(`/admin/configuracion/${a.id}`,{valor:a.valor,activo:a.activo},{preserveScroll:!0,onSuccess:()=>{j.success("Configuración actualizada correctamente")},onError:()=>{j.error("Error al actualizar la configuración")}})}finally{x(!1)}};return e.jsxs(g,{breadcrumbs:b,children:[e.jsx(S,{title:i}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col gap-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(B,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:i}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Configuración de ",i.toLowerCase()]})]})]})}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>h.visit("/admin/configuracion"),children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Volver"]})})}),e.jsx("div",{className:"grid gap-6",children:t.length===0?e.jsx(u,{children:e.jsx(v,{className:"p-6",children:e.jsx("p",{className:"text-center text-muted-foreground",children:"No hay configuraciones disponibles para esta categoría"})})}):t.map(a=>e.jsxs(u,{children:[e.jsx(k,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx($,{className:"text-lg font-medium",children:a.clave}),a.descripcion&&e.jsx(L,{children:a.descripcion})]}),e.jsx(A,{variant:a.activo?"default":"secondary",children:a.activo?"Activo":"Inactivo"})]})}),e.jsxs(v,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4",children:[a.tipo==="boolean"?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(c,{htmlFor:`valor-${a.id}`,children:"Valor"}),e.jsx(f,{id:`valor-${a.id}`,checked:a.valor==="true"||a.valor==="1",onCheckedChange:s=>l(a.id,"valor",s?"true":"false")})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:`valor-${a.id}`,children:"Valor"}),e.jsx(z,{id:`valor-${a.id}`,type:a.tipo==="number"?"number":"text",value:a.valor,onChange:s=>l(a.id,"valor",s.target.value),placeholder:"Ingrese el valor"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(c,{htmlFor:`activo-${a.id}`,children:"Estado"}),e.jsx(f,{id:`activo-${a.id}`,checked:a.activo,onCheckedChange:s=>l(a.id,"activo",s)})]})]}),e.jsx(E,{}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>{const s=n.find(r=>r.id===a.id);s&&m(t.map(r=>r.id===a.id?s:r))},children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Restablecer"]}),e.jsxs(o,{size:"sm",onClick:()=>y(a),disabled:C,children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Guardar"]})]})]})]},a.id))})]})]})}export{le as default};
