import{r as f,j as e,H as b,L as h,b as j}from"./app-BKLP_nPM.js";import{A as y}from"./app-layout-CiVTELBK.js";import{B as r}from"./button-DU7PaMm0.js";import{I as C}from"./input-BTbuUEqz.js";import{B as l}from"./badge-a3Y1gQLB.js";import{C as i,a as n,b as c,c as d}from"./card-B11AeXvY.js";import{S as w,a as S,b as _,c as B,d as o}from"./select-CsfL33EX.js";import{P as E}from"./plus-CQ_dineg.js";import{F as T}from"./app-sidebar-layout-DsWF9-9F.js";import{C as D}from"./circle-check-big-CrHg4bpb.js";import{C as A}from"./circle-alert-BJnH6dHf.js";import{T as k}from"./users-C9iR8xZm.js";import{S as F}from"./search-B0VvmoDg.js";import{F as I}from"./Combination-CNcOVb4l.js";import{E as H}from"./eye-C_j80A9d.js";import{S as L}from"./square-pen-DxBAMcL9.js";/* empty css            */import"./index-6IngiEe4.js";import"./index-CWKfeADP.js";import"./index-BLVq2Y3k.js";import"./check-Cb-yspTG.js";import"./index-Bx1pAsJy.js";import"./x-BBZgfGw_.js";import"./index-BxZ-HuCv.js";import"./app-logo-icon-O--pXRoV.js";import"./label-CanIalWQ.js";import"./user-DLX_sEn8.js";import"./triangle-alert-4kmfAJf8.js";import"./folder-CfbQaoFn.js";function he({ccds:a,estadisticas:x,filters:p}){const[m,g]=f.useState(p?.search||""),[t,N]=f.useState(p?.estado||"all"),u=()=>{j.get("/admin/ccd",{search:m,estado:t!=="all"?t:void 0},{preserveState:!0,replace:!0})},v=s=>({borrador:e.jsx(l,{variant:"secondary",className:"bg-gray-100 text-gray-800",children:"Borrador"}),activo:e.jsx(l,{variant:"default",className:"bg-green-100 text-green-800",children:"Activo"}),inactivo:e.jsx(l,{variant:"destructive",className:"bg-red-100 text-red-800",children:"Inactivo"}),historico:e.jsx(l,{variant:"outline",className:"bg-blue-100 text-blue-800",children:"Histórico"})})[s]||e.jsx(l,{children:s});return e.jsxs(y,{children:[e.jsx(b,{title:"Cuadros de Clasificación Documental"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Cuadros de Clasificación Documental"}),e.jsx("p",{className:"text-muted-foreground",children:"Gestión de cuadros de clasificación documental del sistema"})]}),e.jsx(h,{href:"/admin/ccd/create",children:e.jsxs(r,{children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Nuevo CCD"]})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(i,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Total CCDs"}),e.jsx(T,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(d,{children:e.jsx("div",{className:"text-2xl font-bold",children:x?.total||0})})]}),e.jsxs(i,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Activos"}),e.jsx(D,{className:"h-4 w-4 text-green-600"})]}),e.jsx(d,{children:e.jsx("div",{className:"text-2xl font-bold",children:x?.activos||0})})]}),e.jsxs(i,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Borradores"}),e.jsx(A,{className:"h-4 w-4 text-yellow-600"})]}),e.jsx(d,{children:e.jsx("div",{className:"text-2xl font-bold",children:x?.borradores||0})})]}),e.jsxs(i,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Vigentes"}),e.jsx(k,{className:"h-4 w-4 text-blue-600"})]}),e.jsx(d,{children:e.jsx("div",{className:"text-2xl font-bold",children:x?.vigentes||0})})]})]}),e.jsxs(i,{children:[e.jsx(n,{children:e.jsx(c,{children:"Filtros"})}),e.jsx(d,{children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(C,{placeholder:"Buscar por código o nombre...",value:m,onChange:s=>g(s.target.value),onKeyPress:s=>s.key==="Enter"&&u()})}),e.jsxs(w,{value:t,onValueChange:N,children:[e.jsx(S,{className:"w-48",children:e.jsx(_,{placeholder:"Estado"})}),e.jsxs(B,{children:[e.jsx(o,{value:"all",children:"Todos los estados"}),e.jsx(o,{value:"borrador",children:"Borrador"}),e.jsx(o,{value:"activo",children:"Activo"}),e.jsx(o,{value:"inactivo",children:"Inactivo"}),e.jsx(o,{value:"historico",children:"Histórico"})]})]}),e.jsxs(r,{onClick:u,children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),"Buscar"]})]})})]}),e.jsxs(i,{children:[e.jsx(n,{children:e.jsx(c,{children:"Lista de CCDs"})}),e.jsx(d,{children:a.data.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{className:"mx-auto h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No hay CCDs"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No se encontraron cuadros de clasificación documental."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Código"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Nombre"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Estado"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Niveles"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Creado"}),e.jsx("th",{className:"text-right py-3 px-4",children:"Acciones"})]})}),e.jsx("tbody",{children:a.data.map(s=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 font-medium",children:s.codigo}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.nombre}),s.descripcion&&e.jsx("div",{className:"text-sm text-gray-500",children:s.descripcion})]})}),e.jsx("td",{className:"py-3 px-4",children:v(s.estado)}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs(l,{variant:"outline",children:[s.niveles_count||0," niveles"]})}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString()}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(h,{href:`/admin/ccd/${s.id}`,children:e.jsx(r,{variant:"outline",size:"sm",children:e.jsx(H,{className:"h-4 w-4"})})}),e.jsx(h,{href:`/admin/ccd/${s.id}/edit`,children:e.jsx(r,{variant:"outline",size:"sm",children:e.jsx(L,{className:"h-4 w-4"})})})]})})]},s.id))})]})})})]}),a.last_page>1&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Mostrando ",(a.current_page-1)*a.per_page+1," a"," ",Math.min(a.current_page*a.per_page,a.total)," de ",a.total," resultados"]}),e.jsxs("div",{className:"flex gap-2",children:[a.current_page>1&&e.jsx(r,{variant:"outline",onClick:()=>j.get(`/admin/ccd?page=${a.current_page-1}`,{search:m,estado:t!=="all"?t:void 0}),children:"Anterior"}),a.current_page<a.last_page&&e.jsx(r,{variant:"outline",onClick:()=>j.get(`/admin/ccd?page=${a.current_page+1}`,{search:m,estado:t!=="all"?t:void 0}),children:"Siguiente"})]})]})]})]})}export{he as default};
