import{r,j as e,u as bt,a as de,H as Nt,L as Ne}from"./app-C_MbOUyy.js";import{c as Ge,u as Ct,R as Tt,a as We,b as It,A as _t,P as Et,V as Pt,d as Rt,h as Mt,e as Dt,f as At,F as Ot,D as kt,C as Lt,g as Ut,i as Vt,U as ze,j as Ce,k as Bt,l as Te,m as Ie,n as _e,o as Ee,p as Pe,T as Ht,q as Re,r as Me,s as De}from"./app-layout-XgvsWDBj.js";import{c as le,u as V,a as Ft,b as ae,B as te}from"./app-logo-icon-D8Qn3Fwn.js";import{P as D,r as Ye,L as q,I as se}from"./label-D0yZbNKR.js";import{u as Ke,c as Wt,a as E,b as Y}from"./index-iYgF2vMC.js";import{u as $t,C as zt}from"./index-BRcNQW3B.js";import{U as Kt,a as qt}from"./user-x-B5IvQGEK.js";/* empty css            */import"./index-5qcPgzEE.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Xe=le("ChevronDown",Gt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Xt=le("ChevronUp",Yt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qt=le("Plus",Zt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],es=le("Search",Jt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ss=le("SquarePen",ts);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],rs=le("Trash2",os);function qe(s,[n,t]){return Math.min(t,Math.max(n,s))}var ns=[" ","Enter","ArrowUp","ArrowDown"],as=[" ","Enter"],oe="Select",[xe,fe,ls]=It(oe),[ie,Qs]=Wt(oe,[ls,Ge]),ge=Ge(),[is,X]=ie(oe),[cs,ds]=ie(oe),Ze=s=>{const{__scopeSelect:n,children:t,open:i,defaultOpen:c,onOpenChange:p,value:a,defaultValue:l,onValueChange:d,dir:m,name:g,autoComplete:S,disabled:y,required:w,form:j}=s,u=ge(n),[f,b]=r.useState(null),[h,v]=r.useState(null),[k,R]=r.useState(!1),Q=Ct(m),[o,T]=Ke({prop:i,defaultProp:c??!1,onChange:p,caller:oe}),[L,B]=Ke({prop:a,defaultProp:l,onChange:d,caller:oe}),A=r.useRef(null),H=f?j||!!f.closest("form"):!0,[z,F]=r.useState(new Set),W=Array.from(z).map(P=>P.props.value).join(";");return e.jsx(Tt,{...u,children:e.jsxs(is,{required:w,scope:n,trigger:f,onTriggerChange:b,valueNode:h,onValueNodeChange:v,valueNodeHasChildren:k,onValueNodeHasChildrenChange:R,contentId:We(),value:L,onValueChange:B,open:o,onOpenChange:T,dir:Q,triggerPointerDownPosRef:A,disabled:y,children:[e.jsx(xe.Provider,{scope:n,children:e.jsx(cs,{scope:s.__scopeSelect,onNativeOptionAdd:r.useCallback(P=>{F(U=>new Set(U).add(P))},[]),onNativeOptionRemove:r.useCallback(P=>{F(U=>{const $=new Set(U);return $.delete(P),$})},[]),children:t})}),H?e.jsxs(yt,{"aria-hidden":!0,required:w,tabIndex:-1,name:g,autoComplete:S,value:L,onChange:P=>B(P.target.value),disabled:y,form:j,children:[L===void 0?e.jsx("option",{value:""}):null,Array.from(z)]},W):null]})})};Ze.displayName=oe;var Qe="SelectTrigger",Je=r.forwardRef((s,n)=>{const{__scopeSelect:t,disabled:i=!1,...c}=s,p=ge(t),a=X(Qe,t),l=a.disabled||i,d=V(n,a.onTriggerChange),m=fe(t),g=r.useRef("touch"),[S,y,w]=St(u=>{const f=m().filter(v=>!v.disabled),b=f.find(v=>v.value===a.value),h=wt(f,u,b);h!==void 0&&a.onValueChange(h.value)}),j=u=>{l||(a.onOpenChange(!0),w()),u&&(a.triggerPointerDownPosRef.current={x:Math.round(u.pageX),y:Math.round(u.pageY)})};return e.jsx(_t,{asChild:!0,...p,children:e.jsx(D.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":jt(a.value)?"":void 0,...c,ref:d,onClick:E(c.onClick,u=>{u.currentTarget.focus(),g.current!=="mouse"&&j(u)}),onPointerDown:E(c.onPointerDown,u=>{g.current=u.pointerType;const f=u.target;f.hasPointerCapture(u.pointerId)&&f.releasePointerCapture(u.pointerId),u.button===0&&u.ctrlKey===!1&&u.pointerType==="mouse"&&(j(u),u.preventDefault())}),onKeyDown:E(c.onKeyDown,u=>{const f=S.current!=="";!(u.ctrlKey||u.altKey||u.metaKey)&&u.key.length===1&&y(u.key),!(f&&u.key===" ")&&ns.includes(u.key)&&(j(),u.preventDefault())})})})});Je.displayName=Qe;var et="SelectValue",tt=r.forwardRef((s,n)=>{const{__scopeSelect:t,className:i,style:c,children:p,placeholder:a="",...l}=s,d=X(et,t),{onValueNodeHasChildrenChange:m}=d,g=p!==void 0,S=V(n,d.onValueNodeChange);return Y(()=>{m(g)},[m,g]),e.jsx(D.span,{...l,ref:S,style:{pointerEvents:"none"},children:jt(d.value)?e.jsx(e.Fragment,{children:a}):p})});tt.displayName=et;var us="SelectIcon",st=r.forwardRef((s,n)=>{const{__scopeSelect:t,children:i,...c}=s;return e.jsx(D.span,{"aria-hidden":!0,...c,ref:n,children:i||"▼"})});st.displayName=us;var ps="SelectPortal",ot=s=>e.jsx(Et,{asChild:!0,...s});ot.displayName=ps;var re="SelectContent",rt=r.forwardRef((s,n)=>{const t=X(re,s.__scopeSelect),[i,c]=r.useState();if(Y(()=>{c(new DocumentFragment)},[]),!t.open){const p=i;return p?Ye.createPortal(e.jsx(nt,{scope:s.__scopeSelect,children:e.jsx(xe.Slot,{scope:s.__scopeSelect,children:e.jsx("div",{children:s.children})})}),p):null}return e.jsx(at,{...s,ref:n})});rt.displayName=re;var O=10,[nt,Z]=ie(re),ms="SelectContentImpl",hs=Ft("SelectContent.RemoveScroll"),at=r.forwardRef((s,n)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:p,onPointerDownOutside:a,side:l,sideOffset:d,align:m,alignOffset:g,arrowPadding:S,collisionBoundary:y,collisionPadding:w,sticky:j,hideWhenDetached:u,avoidCollisions:f,...b}=s,h=X(re,t),[v,k]=r.useState(null),[R,Q]=r.useState(null),o=V(n,x=>k(x)),[T,L]=r.useState(null),[B,A]=r.useState(null),H=fe(t),[z,F]=r.useState(!1),W=r.useRef(!1);r.useEffect(()=>{if(v)return Mt(v)},[v]),Dt();const P=r.useCallback(x=>{const[I,...M]=H().map(_=>_.ref.current),[N]=M.slice(-1),C=document.activeElement;for(const _ of x)if(_===C||(_?.scrollIntoView({block:"nearest"}),_===I&&R&&(R.scrollTop=0),_===N&&R&&(R.scrollTop=R.scrollHeight),_?.focus(),document.activeElement!==C))return},[H,R]),U=r.useCallback(()=>P([T,v]),[P,T,v]);r.useEffect(()=>{z&&U()},[z,U]);const{onOpenChange:$,triggerPointerDownPosRef:K}=h;r.useEffect(()=>{if(v){let x={x:0,y:0};const I=N=>{x={x:Math.abs(Math.round(N.pageX)-(K.current?.x??0)),y:Math.abs(Math.round(N.pageY)-(K.current?.y??0))}},M=N=>{x.x<=10&&x.y<=10?N.preventDefault():v.contains(N.target)||$(!1),document.removeEventListener("pointermove",I),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",M,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",M,{capture:!0})}}},[v,$,K]),r.useEffect(()=>{const x=()=>$(!1);return window.addEventListener("blur",x),window.addEventListener("resize",x),()=>{window.removeEventListener("blur",x),window.removeEventListener("resize",x)}},[$]);const[ve,pe]=St(x=>{const I=H().filter(C=>!C.disabled),M=I.find(C=>C.ref.current===document.activeElement),N=wt(I,x,M);N&&setTimeout(()=>N.ref.current.focus())}),ye=r.useCallback((x,I,M)=>{const N=!W.current&&!M;(h.value!==void 0&&h.value===I||N)&&(L(x),N&&(W.current=!0))},[h.value]),je=r.useCallback(()=>v?.focus(),[v]),ne=r.useCallback((x,I,M)=>{const N=!W.current&&!M;(h.value!==void 0&&h.value===I||N)&&A(x)},[h.value]),me=i==="popper"?Ue:lt,ce=me===Ue?{side:l,sideOffset:d,align:m,alignOffset:g,arrowPadding:S,collisionBoundary:y,collisionPadding:w,sticky:j,hideWhenDetached:u,avoidCollisions:f}:{};return e.jsx(nt,{scope:t,content:v,viewport:R,onViewportChange:Q,itemRefCallback:ye,selectedItem:T,onItemLeave:je,itemTextRefCallback:ne,focusSelectedItem:U,selectedItemText:B,position:i,isPositioned:z,searchRef:ve,children:e.jsx(At,{as:hs,allowPinchZoom:!0,children:e.jsx(Ot,{asChild:!0,trapped:h.open,onMountAutoFocus:x=>{x.preventDefault()},onUnmountAutoFocus:E(c,x=>{h.trigger?.focus({preventScroll:!0}),x.preventDefault()}),children:e.jsx(kt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:p,onPointerDownOutside:a,onFocusOutside:x=>x.preventDefault(),onDismiss:()=>h.onOpenChange(!1),children:e.jsx(me,{role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:x=>x.preventDefault(),...b,...ce,onPlaced:()=>F(!0),ref:o,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:E(b.onKeyDown,x=>{const I=x.ctrlKey||x.altKey||x.metaKey;if(x.key==="Tab"&&x.preventDefault(),!I&&x.key.length===1&&pe(x.key),["ArrowUp","ArrowDown","Home","End"].includes(x.key)){let N=H().filter(C=>!C.disabled).map(C=>C.ref.current);if(["ArrowUp","End"].includes(x.key)&&(N=N.slice().reverse()),["ArrowUp","ArrowDown"].includes(x.key)){const C=x.target,_=N.indexOf(C);N=N.slice(_+1)}setTimeout(()=>P(N)),x.preventDefault()}})})})})})})});at.displayName=ms;var xs="SelectItemAlignedPosition",lt=r.forwardRef((s,n)=>{const{__scopeSelect:t,onPlaced:i,...c}=s,p=X(re,t),a=Z(re,t),[l,d]=r.useState(null),[m,g]=r.useState(null),S=V(n,o=>g(o)),y=fe(t),w=r.useRef(!1),j=r.useRef(!0),{viewport:u,selectedItem:f,selectedItemText:b,focusSelectedItem:h}=a,v=r.useCallback(()=>{if(p.trigger&&p.valueNode&&l&&m&&u&&f&&b){const o=p.trigger.getBoundingClientRect(),T=m.getBoundingClientRect(),L=p.valueNode.getBoundingClientRect(),B=b.getBoundingClientRect();if(p.dir!=="rtl"){const C=B.left-T.left,_=L.left-C,J=o.left-_,ee=o.width+J,Se=Math.max(ee,T.width),we=window.innerWidth-O,be=qe(_,[O,Math.max(O,we-Se)]);l.style.minWidth=ee+"px",l.style.left=be+"px"}else{const C=T.right-B.right,_=window.innerWidth-L.right-C,J=window.innerWidth-o.right-_,ee=o.width+J,Se=Math.max(ee,T.width),we=window.innerWidth-O,be=qe(_,[O,Math.max(O,we-Se)]);l.style.minWidth=ee+"px",l.style.right=be+"px"}const A=y(),H=window.innerHeight-O*2,z=u.scrollHeight,F=window.getComputedStyle(m),W=parseInt(F.borderTopWidth,10),P=parseInt(F.paddingTop,10),U=parseInt(F.borderBottomWidth,10),$=parseInt(F.paddingBottom,10),K=W+P+z+$+U,ve=Math.min(f.offsetHeight*5,K),pe=window.getComputedStyle(u),ye=parseInt(pe.paddingTop,10),je=parseInt(pe.paddingBottom,10),ne=o.top+o.height/2-O,me=H-ne,ce=f.offsetHeight/2,x=f.offsetTop+ce,I=W+P+x,M=K-I;if(I<=ne){const C=A.length>0&&f===A[A.length-1].ref.current;l.style.bottom="0px";const _=m.clientHeight-u.offsetTop-u.offsetHeight,J=Math.max(me,ce+(C?je:0)+_+U),ee=I+J;l.style.height=ee+"px"}else{const C=A.length>0&&f===A[0].ref.current;l.style.top="0px";const J=Math.max(ne,W+u.offsetTop+(C?ye:0)+ce)+M;l.style.height=J+"px",u.scrollTop=I-ne+u.offsetTop}l.style.margin=`${O}px 0`,l.style.minHeight=ve+"px",l.style.maxHeight=H+"px",i?.(),requestAnimationFrame(()=>w.current=!0)}},[y,p.trigger,p.valueNode,l,m,u,f,b,p.dir,i]);Y(()=>v(),[v]);const[k,R]=r.useState();Y(()=>{m&&R(window.getComputedStyle(m).zIndex)},[m]);const Q=r.useCallback(o=>{o&&j.current===!0&&(v(),h?.(),j.current=!1)},[v,h]);return e.jsx(gs,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:w,onScrollButtonChange:Q,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:e.jsx(D.div,{...c,ref:S,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});lt.displayName=xs;var fs="SelectPopperPosition",Ue=r.forwardRef((s,n)=>{const{__scopeSelect:t,align:i="start",collisionPadding:c=O,...p}=s,a=ge(t);return e.jsx(Lt,{...a,...p,ref:n,align:i,collisionPadding:c,style:{boxSizing:"border-box",...p.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ue.displayName=fs;var[gs,$e]=ie(re,{}),Ve="SelectViewport",it=r.forwardRef((s,n)=>{const{__scopeSelect:t,nonce:i,...c}=s,p=Z(Ve,t),a=$e(Ve,t),l=V(n,p.onViewportChange),d=r.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),e.jsx(xe.Slot,{scope:t,children:e.jsx(D.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:E(c.onScroll,m=>{const g=m.currentTarget,{contentWrapper:S,shouldExpandOnScrollRef:y}=a;if(y?.current&&S){const w=Math.abs(d.current-g.scrollTop);if(w>0){const j=window.innerHeight-O*2,u=parseFloat(S.style.minHeight),f=parseFloat(S.style.height),b=Math.max(u,f);if(b<j){const h=b+w,v=Math.min(j,h),k=h-v;S.style.height=v+"px",S.style.bottom==="0px"&&(g.scrollTop=k>0?k:0,S.style.justifyContent="flex-end")}}}d.current=g.scrollTop})})})]})});it.displayName=Ve;var ct="SelectGroup",[vs,ys]=ie(ct),js=r.forwardRef((s,n)=>{const{__scopeSelect:t,...i}=s,c=We();return e.jsx(vs,{scope:t,id:c,children:e.jsx(D.div,{role:"group","aria-labelledby":c,...i,ref:n})})});js.displayName=ct;var dt="SelectLabel",Ss=r.forwardRef((s,n)=>{const{__scopeSelect:t,...i}=s,c=ys(dt,t);return e.jsx(D.div,{id:c.id,...i,ref:n})});Ss.displayName=dt;var he="SelectItem",[ws,ut]=ie(he),pt=r.forwardRef((s,n)=>{const{__scopeSelect:t,value:i,disabled:c=!1,textValue:p,...a}=s,l=X(he,t),d=Z(he,t),m=l.value===i,[g,S]=r.useState(p??""),[y,w]=r.useState(!1),j=V(n,h=>d.itemRefCallback?.(h,i,c)),u=We(),f=r.useRef("touch"),b=()=>{c||(l.onValueChange(i),l.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(ws,{scope:t,value:i,disabled:c,textId:u,isSelected:m,onItemTextChange:r.useCallback(h=>{S(v=>v||(h?.textContent??"").trim())},[]),children:e.jsx(xe.ItemSlot,{scope:t,value:i,disabled:c,textValue:g,children:e.jsx(D.div,{role:"option","aria-labelledby":u,"data-highlighted":y?"":void 0,"aria-selected":m&&y,"data-state":m?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...a,ref:j,onFocus:E(a.onFocus,()=>w(!0)),onBlur:E(a.onBlur,()=>w(!1)),onClick:E(a.onClick,()=>{f.current!=="mouse"&&b()}),onPointerUp:E(a.onPointerUp,()=>{f.current==="mouse"&&b()}),onPointerDown:E(a.onPointerDown,h=>{f.current=h.pointerType}),onPointerMove:E(a.onPointerMove,h=>{f.current=h.pointerType,c?d.onItemLeave?.():f.current==="mouse"&&h.currentTarget.focus({preventScroll:!0})}),onPointerLeave:E(a.onPointerLeave,h=>{h.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:E(a.onKeyDown,h=>{d.searchRef?.current!==""&&h.key===" "||(as.includes(h.key)&&b(),h.key===" "&&h.preventDefault())})})})})});pt.displayName=he;var ue="SelectItemText",mt=r.forwardRef((s,n)=>{const{__scopeSelect:t,className:i,style:c,...p}=s,a=X(ue,t),l=Z(ue,t),d=ut(ue,t),m=ds(ue,t),[g,S]=r.useState(null),y=V(n,b=>S(b),d.onItemTextChange,b=>l.itemTextRefCallback?.(b,d.value,d.disabled)),w=g?.textContent,j=r.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:w},d.value),[d.disabled,d.value,w]),{onNativeOptionAdd:u,onNativeOptionRemove:f}=m;return Y(()=>(u(j),()=>f(j)),[u,f,j]),e.jsxs(e.Fragment,{children:[e.jsx(D.span,{id:d.textId,...p,ref:y}),d.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ye.createPortal(p.children,a.valueNode):null]})});mt.displayName=ue;var ht="SelectItemIndicator",xt=r.forwardRef((s,n)=>{const{__scopeSelect:t,...i}=s;return ut(ht,t).isSelected?e.jsx(D.span,{"aria-hidden":!0,...i,ref:n}):null});xt.displayName=ht;var Be="SelectScrollUpButton",ft=r.forwardRef((s,n)=>{const t=Z(Be,s.__scopeSelect),i=$e(Be,s.__scopeSelect),[c,p]=r.useState(!1),a=V(n,i.onScrollButtonChange);return Y(()=>{if(t.viewport&&t.isPositioned){let l=function(){const m=d.scrollTop>0;p(m)};const d=t.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),c?e.jsx(vt,{...s,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=t;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});ft.displayName=Be;var He="SelectScrollDownButton",gt=r.forwardRef((s,n)=>{const t=Z(He,s.__scopeSelect),i=$e(He,s.__scopeSelect),[c,p]=r.useState(!1),a=V(n,i.onScrollButtonChange);return Y(()=>{if(t.viewport&&t.isPositioned){let l=function(){const m=d.scrollHeight-d.clientHeight,g=Math.ceil(d.scrollTop)<m;p(g)};const d=t.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),c?e.jsx(vt,{...s,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=t;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});gt.displayName=He;var vt=r.forwardRef((s,n)=>{const{__scopeSelect:t,onAutoScroll:i,...c}=s,p=Z("SelectScrollButton",t),a=r.useRef(null),l=fe(t),d=r.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return r.useEffect(()=>()=>d(),[d]),Y(()=>{l().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),e.jsx(D.div,{"aria-hidden":!0,...c,ref:n,style:{flexShrink:0,...c.style},onPointerDown:E(c.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(i,50))}),onPointerMove:E(c.onPointerMove,()=>{p.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(i,50))}),onPointerLeave:E(c.onPointerLeave,()=>{d()})})}),bs="SelectSeparator",Ns=r.forwardRef((s,n)=>{const{__scopeSelect:t,...i}=s;return e.jsx(D.div,{"aria-hidden":!0,...i,ref:n})});Ns.displayName=bs;var Fe="SelectArrow",Cs=r.forwardRef((s,n)=>{const{__scopeSelect:t,...i}=s,c=ge(t),p=X(Fe,t),a=Z(Fe,t);return p.open&&a.position==="popper"?e.jsx(Ut,{...c,...i,ref:n}):null});Cs.displayName=Fe;var Ts="SelectBubbleInput",yt=r.forwardRef(({__scopeSelect:s,value:n,...t},i)=>{const c=r.useRef(null),p=V(i,c),a=$t(n);return r.useEffect(()=>{const l=c.current;if(!l)return;const d=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==n&&g){const S=new Event("change",{bubbles:!0});g.call(l,n),l.dispatchEvent(S)}},[a,n]),e.jsx(D.select,{...t,style:{...Pt,...t.style},ref:p,defaultValue:n})});yt.displayName=Ts;function jt(s){return s===""||s===void 0}function St(s){const n=Rt(s),t=r.useRef(""),i=r.useRef(0),c=r.useCallback(a=>{const l=t.current+a;n(l),(function d(m){t.current=m,window.clearTimeout(i.current),m!==""&&(i.current=window.setTimeout(()=>d(""),1e3))})(l)},[n]),p=r.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,c,p]}function wt(s,n,t){const c=n.length>1&&Array.from(n).every(m=>m===n[0])?n[0]:n,p=t?s.indexOf(t):-1;let a=Is(s,Math.max(p,0));c.length===1&&(a=a.filter(m=>m!==t));const d=a.find(m=>m.textValue.toLowerCase().startsWith(c.toLowerCase()));return d!==t?d:void 0}function Is(s,n){return s.map((t,i)=>s[(n+i)%s.length])}var _s=Ze,Es=Je,Ps=tt,Rs=st,Ms=ot,Ds=rt,As=it,Os=pt,ks=mt,Ls=xt,Us=ft,Vs=gt;function Ae({...s}){return e.jsx(_s,{"data-slot":"select",...s})}function Oe({...s}){return e.jsx(Ps,{"data-slot":"select-value",...s})}function ke({className:s,children:n,...t}){return e.jsxs(Es,{"data-slot":"select-trigger",className:ae("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex h-9 w-full items-center justify-between rounded-md border bg-transparent px-3 py-2 text-sm shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 [&>span]:line-clamp-1",s),...t,children:[n,e.jsx(Rs,{asChild:!0,children:e.jsx(Xe,{className:"size-4 opacity-50"})})]})}function Le({className:s,children:n,position:t="popper",...i}){return e.jsx(Ms,{children:e.jsxs(Ds,{"data-slot":"select-content",className:ae("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...i,children:[e.jsx(Bs,{}),e.jsx(As,{className:ae("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),e.jsx(Hs,{})]})})}function G({className:s,children:n,...t}){return e.jsxs(Os,{"data-slot":"select-item",className:ae("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...t,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Ls,{children:e.jsx(zt,{className:"size-4"})})}),e.jsx(ks,{children:n})]})}function Bs({className:s,...n}){return e.jsx(Us,{"data-slot":"select-scroll-up-button",className:ae("flex cursor-default items-center justify-center py-1",s),...n,children:e.jsx(Xt,{className:"size-4"})})}function Hs({className:s,...n}){return e.jsx(Vs,{"data-slot":"select-scroll-down-button",className:ae("flex cursor-default items-center justify-center py-1",s),...n,children:e.jsx(Xe,{className:"size-4"})})}const Fs=[{title:"Dashboard",href:"/dashboard"},{title:"Administración",href:"#"},{title:"Gestión de usuarios",href:"/admin/users"}];function Js({users:s,stats:n,filters:t}){const{flash:i}=bt().props,[c,p]=r.useState(t.search||""),[a,l]=r.useState(null),[d,m]=r.useState(!1),[g,S]=r.useState(null),[y,w]=r.useState({name:"",email:"",role:"user",password:"",password_confirmation:""}),[j,u]=r.useState({name:"",email:"",role:"user"}),[f,b]=r.useState(t.search||""),[h,v]=r.useState(t.status||"");r.useEffect(()=>{const o=setTimeout(()=>{de.get("/admin/users",{search:f||void 0,status:h||void 0},{preserveState:!0,replace:!0})},500);return()=>clearTimeout(o)},[f,h]);const k=o=>{de.patch(`/admin/users/${o.id}/toggle-status`,{},{preserveState:!0})},R=o=>new Date(o).toLocaleDateString("es-ES"),Q=o=>o.active?o.email_verified_at?{text:"Activo",color:"bg-green-100 text-green-800"}:{text:"Pendiente",color:"bg-yellow-100 text-yellow-800"}:{text:"Inactivo",color:"bg-red-100 text-red-800"};return e.jsxs(Vt,{breadcrumbs:Fs,children:[e.jsx(Nt,{title:"Gestión de Usuarios"}),e.jsxs("div",{className:"space-y-6",children:[i?.success&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:i.success}),i?.error&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:i.error}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-6 w-6 text-[#2a3d83]"}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Gestión de Usuarios"})]}),e.jsxs(Ce,{open:d,onOpenChange:m,children:[e.jsx(Bt,{asChild:!0,children:e.jsxs(te,{className:"flex items-center gap-2 px-4 py-2 bg-[#2a3d83] text-white rounded-lg hover:bg-[#1e2b5f] transition-colors",children:[e.jsx(Qt,{className:"h-4 w-4"}),"Nuevo Usuario"]})}),e.jsxs(Te,{className:"sm:max-w-[425px]",children:[e.jsxs(Ie,{children:[e.jsx(_e,{className:"text-xl font-semibold text-gray-900",children:"Crear Nuevo Usuario"}),e.jsx(Ee,{className:"text-sm text-gray-600",children:"Complete los siguientes datos para crear un nuevo usuario en el sistema."})]}),e.jsxs("form",{onSubmit:o=>{o.preventDefault();const{role:T,...L}=y,B={...L,role_id:T==="admin"?1:2};de.post("/admin/users",B,{onSuccess:()=>{m(!1),w({name:"",email:"",role:"user",password:"",password_confirmation:""})},onError:A=>{console.error("Error al crear usuario:",A)}})},className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"create-name",children:"Nombre Completo"}),e.jsx(se,{id:"create-name",type:"text",value:y.name,onChange:o=>w({...y,name:o.target.value}),placeholder:"Nombre completo del usuario",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"create-email",children:"Email"}),e.jsx(se,{id:"create-email",type:"email",value:y.email,onChange:o=>w({...y,email:o.target.value}),placeholder:"usuario@ejemplo.com",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"create-password",children:"Contraseña"}),e.jsx(se,{id:"create-password",type:"password",value:y.password,onChange:o=>w({...y,password:o.target.value}),placeholder:"Contraseña temporal",required:!0,minLength:8})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"create-password-confirmation",children:"Confirmar Contraseña"}),e.jsx(se,{id:"create-password-confirmation",type:"password",value:y.password_confirmation,onChange:o=>w({...y,password_confirmation:o.target.value}),placeholder:"Confirmar contraseña",required:!0,minLength:8})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"create-role",children:"Rol"}),e.jsxs(Ae,{value:y.role,onValueChange:o=>w({...y,role:o}),children:[e.jsx(ke,{children:e.jsx(Oe,{placeholder:"Selecciona un rol"})}),e.jsxs(Le,{children:[e.jsx(G,{value:"user",children:"Usuario"}),e.jsx(G,{value:"admin",children:"Administrador"})]})]})]}),e.jsxs(Pe,{children:[e.jsx(te,{type:"button",variant:"outline",onClick:()=>{m(!1),w({name:"",email:"",role:"user",password:"",password_confirmation:""})},children:"Cancelar"}),e.jsx(te,{type:"submit",className:"bg-[#2a3d83] hover:bg-[#1e2b5f]",children:"Crear Usuario"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Usuarios"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.total})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(ze,{className:"h-6 w-6 text-[#2a3d83]"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Usuarios Activos"}),e.jsx("p",{className:"text-2xl font-semibold text-[#2a3d83]",children:n.active})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx("div",{className:"h-6 w-6 bg-[#2a3d83] rounded-full flex items-center justify-center",children:e.jsx("div",{className:"h-2 w-2 bg-white rounded-full"})})})]})}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pendientes"}),e.jsx("p",{className:"text-2xl font-semibold text-[#2a3d83]",children:n.pending})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx("div",{className:"h-6 w-6 bg-[#2a3d83] rounded-full flex items-center justify-center",children:e.jsx("div",{className:"h-2 w-2 bg-white rounded-full"})})})]})})]}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:e.jsxs("div",{className:"relative flex-1 sm:w-80",children:[e.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(se,{type:"text",value:f,onChange:o=>b(o.target.value),placeholder:"Buscar usuarios...",className:"pl-10"})]})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(Ae,{value:h||"all",onValueChange:o=>v(o==="all"?"":o),children:[e.jsx(ke,{className:"w-[180px]",children:e.jsx(Oe,{placeholder:"Todos los estados"})}),e.jsxs(Le,{children:[e.jsx(G,{value:"all",children:"Todos los estados"}),e.jsx(G,{value:"active",children:"Activos"}),e.jsx(G,{value:"inactive",children:"Inactivos"}),e.jsx(G,{value:"pending",children:"Pendientes"})]})]})})]})}),e.jsx("div",{className:"bg-white rounded-lg border overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Usuario"}),e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Email"}),e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Rol"}),e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Estado"}),e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Registro"}),e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:s.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-8 px-6 text-center text-gray-500",children:"No se encontraron usuarios."})}):s.data.map(o=>{const T=Q(o);return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 bg-[#2a3d83] rounded-full flex items-center justify-center text-white text-sm font-medium",children:o.name.charAt(0).toUpperCase()}),e.jsx("span",{className:"font-medium text-gray-900",children:o.name})]})}),e.jsx("td",{className:"py-4 px-6 text-gray-600",children:o.email}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-[#2a3d83]",children:o.role.name})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.color}`,children:T.text})}),e.jsx("td",{className:"py-4 px-6 text-gray-600",children:R(o.created_at)}),e.jsx("td",{className:"py-4 px-6",children:e.jsx(Ht,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Re,{children:[e.jsx(Me,{asChild:!0,children:e.jsx("button",{onClick:()=>{u({name:o.name,email:o.email,role:typeof o.role=="object"?o.role.name==="Administrador"?"admin":"user":o.role}),S(o)},className:"p-2 rounded-md text-[#2a3d83] hover:text-[#1e2b5f] hover:bg-blue-50 transition-colors",children:e.jsx(ss,{className:"h-4 w-4"})})}),e.jsx(De,{children:e.jsx("p",{children:"Editar usuario"})})]}),e.jsxs(Re,{children:[e.jsx(Me,{asChild:!0,children:e.jsx("button",{onClick:()=>k(o),className:`p-2 rounded-md transition-colors ${o.active?"text-orange-600 hover:text-orange-800 hover:bg-orange-50":"text-green-600 hover:text-green-800 hover:bg-green-50"}`,children:o.active?e.jsx(Kt,{className:"h-4 w-4"}):e.jsx(qt,{className:"h-4 w-4"})})}),e.jsx(De,{children:e.jsx("p",{children:o.active?"Desactivar usuario":"Activar usuario"})})]}),e.jsxs(Re,{children:[e.jsx(Me,{asChild:!0,children:e.jsx("button",{onClick:()=>l(o),className:"p-2 rounded-md text-red-600 hover:text-red-800 hover:bg-red-50 transition-colors",children:e.jsx(rs,{className:"h-4 w-4"})})}),e.jsx(De,{children:e.jsx("p",{children:"Eliminar usuario"})})]})]})})})]},o.id)})})]})})}),s.data.length>0&&e.jsxs("div",{className:"flex items-center justify-between bg-white border rounded-lg px-6 py-3",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Mostrando ",e.jsx("span",{className:"font-medium",children:s.meta?.from||s.from||0})," a"," ",e.jsx("span",{className:"font-medium",children:s.meta?.to||s.to||0})," de"," ",e.jsx("span",{className:"font-medium",children:s.meta?.total||s.total||0})," usuarios"]}),e.jsx("div",{className:"flex items-center gap-2",children:s.links.map((o,T)=>o.label.includes("Previous")?e.jsx(Ne,{href:o.url||"#",preserveState:!0,className:`px-3 py-2 border border-gray-300 rounded-md text-sm font-medium ${o.url?"text-gray-700 hover:bg-gray-50":"text-gray-300 cursor-not-allowed"}`,children:"Anterior"},T):o.label.includes("Next")?e.jsx(Ne,{href:o.url||"#",preserveState:!0,className:`px-3 py-2 border border-gray-300 rounded-md text-sm font-medium ${o.url?"text-gray-700 hover:bg-gray-50":"text-gray-300 cursor-not-allowed"}`,children:"Siguiente"},T):isNaN(Number(o.label))?null:e.jsx(Ne,{href:o.url||"#",preserveState:!0,className:`px-3 py-2 rounded-md text-sm font-medium ${o.active?"bg-[#2a3d83] text-white":"border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:o.label},T))})]}),e.jsx(Ce,{open:!!g,onOpenChange:o=>{o||(S(null),u({name:"",email:"",role:"user"}))},children:e.jsxs(Te,{className:"sm:max-w-[425px]",children:[e.jsxs(Ie,{children:[e.jsx(_e,{className:"text-xl font-semibold text-gray-900",children:"Editar Usuario"}),e.jsx(Ee,{className:"text-sm text-gray-600",children:"Modifique los datos del usuario según sea necesario."})]}),e.jsxs("form",{onSubmit:o=>{o.preventDefault(),g&&de.put(`/admin/users/${g.id}`,j,{onSuccess:()=>{S(null)}})},className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"edit-name",children:"Nombre Completo"}),e.jsx(se,{id:"edit-name",type:"text",value:j.name,onChange:o=>u({...j,name:o.target.value}),placeholder:"Nombre completo del usuario",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"edit-email",children:"Email"}),e.jsx(se,{id:"edit-email",type:"email",value:j.email,onChange:o=>u({...j,email:o.target.value}),placeholder:"usuario@ejemplo.com",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"edit-role",children:"Rol"}),e.jsxs(Ae,{value:j.role,onValueChange:o=>u({...j,role:o}),children:[e.jsx(ke,{children:e.jsx(Oe,{placeholder:"Selecciona un rol"})}),e.jsxs(Le,{children:[e.jsx(G,{value:"user",children:"Usuario"}),e.jsx(G,{value:"admin",children:"Administrador"})]})]})]}),e.jsxs(Pe,{children:[e.jsx(te,{type:"button",variant:"outline",onClick:()=>S(null),children:"Cancelar"}),e.jsx(te,{type:"submit",className:"bg-[#2a3d83] hover:bg-[#1e2b5f]",children:"Guardar Cambios"})]})]})]})}),e.jsx(Ce,{open:!!a,onOpenChange:o=>{o||l(null)},children:e.jsxs(Te,{className:"sm:max-w-[425px]",children:[e.jsxs(Ie,{children:[e.jsx(_e,{className:"text-xl font-semibold text-gray-900",children:"Eliminar Usuario"}),e.jsx(Ee,{className:"text-sm text-gray-600",children:"Esta acción no se puede deshacer. El usuario será eliminado permanentemente del sistema."})]}),e.jsxs("div",{className:"py-4",children:[e.jsxs("p",{className:"text-gray-700",children:["¿Estás seguro de que deseas eliminar al usuario ",e.jsx("strong",{children:a?.name}),"?"]}),e.jsxs("p",{className:"text-gray-600 mt-2",children:["Email: ",e.jsx("strong",{children:a?.email})]})]}),e.jsxs(Pe,{children:[e.jsx(te,{type:"button",variant:"outline",onClick:()=>l(null),children:"Cancelar"}),e.jsx(te,{type:"button",variant:"destructive",onClick:()=>{a&&de.delete(`/admin/users/${a.id}`,{onSuccess:()=>{l(null)}})},children:"Eliminar Usuario"})]})]})})]})]})}export{Js as default};
