import{r as o,j as e,u as pt,H as mt,a as ae,L as Se}from"./app-C7RlX8B8.js";import{c as Le,u as xt,R as ht,a as _e,b as ft,A as gt,P as vt,V as yt,d as wt,h as St,e as bt,f as jt,F as Nt,D as Ct,C as It,g as Tt,i as Pt,U as Re}from"./app-layout-C-zkMQlE.js";import{c as oe,u as B,a as _t,b as se,B as be}from"./app-logo-icon-CjS32Ebz.js";import{L as de,I as je}from"./label-DYyIU8zP.js";import{P as M,r as Be}from"./index-BBDZIpZD.js";import{u as Me,c as Et,a as P,b as q}from"./index-Cotp-7KT.js";import{u as Rt,C as Mt}from"./index-Dp0daEMR.js";import{D as Dt,a as At,b as kt,c as Ot,d as Lt,e as Bt}from"./dialog-DFBqahvx.js";import{U as Vt,a as Ut}from"./user-x-DDMzobi4.js";/* empty css            */import"./index-Be4yp1__.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ve=oe("ChevronDown",Ht);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Wt=oe("ChevronUp",Ft);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$t=oe("Plus",zt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],De=oe("Search",Kt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Gt=oe("SquarePen",qt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ae=oe("Trash2",Yt);function ke(s,[r,t]){return Math.min(t,Math.max(r,s))}var Xt=[" ","Enter","ArrowUp","ArrowDown"],Zt=[" ","Enter"],Q="Select",[pe,me,Jt]=ft(Q),[re,Ys]=Et(Q,[Jt,Le]),xe=Le(),[Qt,G]=re(Q),[es,ts]=re(Q),Ue=s=>{const{__scopeSelect:r,children:t,open:c,defaultOpen:i,onOpenChange:p,value:n,defaultValue:a,onValueChange:d,dir:m,name:v,autoComplete:b,disabled:y,required:w,form:C}=s,u=xe(r),[f,S]=o.useState(null),[x,g]=o.useState(null),[k,l]=o.useState(!1),D=xt(m),[_,O]=Me({prop:c,defaultProp:i??!1,onChange:p,caller:Q}),[z,X]=Me({prop:n,defaultProp:a,onChange:d,caller:Q}),V=o.useRef(null),U=f?C||!!f.closest("form"):!0,[$,H]=o.useState(new Set),F=Array.from($).map(E=>E.props.value).join(";");return e.jsx(ht,{...u,children:e.jsxs(Qt,{required:w,scope:r,trigger:f,onTriggerChange:S,valueNode:x,onValueNodeChange:g,valueNodeHasChildren:k,onValueNodeHasChildrenChange:l,contentId:_e(),value:z,onValueChange:X,open:_,onOpenChange:O,dir:D,triggerPointerDownPosRef:V,disabled:y,children:[e.jsx(pe.Provider,{scope:r,children:e.jsx(es,{scope:s.__scopeSelect,onNativeOptionAdd:o.useCallback(E=>{H(L=>new Set(L).add(E))},[]),onNativeOptionRemove:o.useCallback(E=>{H(L=>{const W=new Set(L);return W.delete(E),W})},[]),children:t})}),U?e.jsxs(it,{"aria-hidden":!0,required:w,tabIndex:-1,name:v,autoComplete:b,value:z,onChange:E=>X(E.target.value),disabled:y,form:C,children:[z===void 0?e.jsx("option",{value:""}):null,Array.from($)]},F):null]})})};Ue.displayName=Q;var He="SelectTrigger",Fe=o.forwardRef((s,r)=>{const{__scopeSelect:t,disabled:c=!1,...i}=s,p=xe(t),n=G(He,t),a=n.disabled||c,d=B(r,n.onTriggerChange),m=me(t),v=o.useRef("touch"),[b,y,w]=dt(u=>{const f=m().filter(g=>!g.disabled),S=f.find(g=>g.value===n.value),x=ut(f,u,S);x!==void 0&&n.onValueChange(x.value)}),C=u=>{a||(n.onOpenChange(!0),w()),u&&(n.triggerPointerDownPosRef.current={x:Math.round(u.pageX),y:Math.round(u.pageY)})};return e.jsx(gt,{asChild:!0,...p,children:e.jsx(M.button,{type:"button",role:"combobox","aria-controls":n.contentId,"aria-expanded":n.open,"aria-required":n.required,"aria-autocomplete":"none",dir:n.dir,"data-state":n.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":ct(n.value)?"":void 0,...i,ref:d,onClick:P(i.onClick,u=>{u.currentTarget.focus(),v.current!=="mouse"&&C(u)}),onPointerDown:P(i.onPointerDown,u=>{v.current=u.pointerType;const f=u.target;f.hasPointerCapture(u.pointerId)&&f.releasePointerCapture(u.pointerId),u.button===0&&u.ctrlKey===!1&&u.pointerType==="mouse"&&(C(u),u.preventDefault())}),onKeyDown:P(i.onKeyDown,u=>{const f=b.current!=="";!(u.ctrlKey||u.altKey||u.metaKey)&&u.key.length===1&&y(u.key),!(f&&u.key===" ")&&Xt.includes(u.key)&&(C(),u.preventDefault())})})})});Fe.displayName=He;var We="SelectValue",ze=o.forwardRef((s,r)=>{const{__scopeSelect:t,className:c,style:i,children:p,placeholder:n="",...a}=s,d=G(We,t),{onValueNodeHasChildrenChange:m}=d,v=p!==void 0,b=B(r,d.onValueNodeChange);return q(()=>{m(v)},[m,v]),e.jsx(M.span,{...a,ref:b,style:{pointerEvents:"none"},children:ct(d.value)?e.jsx(e.Fragment,{children:n}):p})});ze.displayName=We;var ss="SelectIcon",$e=o.forwardRef((s,r)=>{const{__scopeSelect:t,children:c,...i}=s;return e.jsx(M.span,{"aria-hidden":!0,...i,ref:r,children:c||"â–¼"})});$e.displayName=ss;var os="SelectPortal",Ke=s=>e.jsx(vt,{asChild:!0,...s});Ke.displayName=os;var ee="SelectContent",qe=o.forwardRef((s,r)=>{const t=G(ee,s.__scopeSelect),[c,i]=o.useState();if(q(()=>{i(new DocumentFragment)},[]),!t.open){const p=c;return p?Be.createPortal(e.jsx(Ge,{scope:s.__scopeSelect,children:e.jsx(pe.Slot,{scope:s.__scopeSelect,children:e.jsx("div",{children:s.children})})}),p):null}return e.jsx(Ye,{...s,ref:r})});qe.displayName=ee;var A=10,[Ge,Y]=re(ee),rs="SelectContentImpl",ns=_t("SelectContent.RemoveScroll"),Ye=o.forwardRef((s,r)=>{const{__scopeSelect:t,position:c="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:p,onPointerDownOutside:n,side:a,sideOffset:d,align:m,alignOffset:v,arrowPadding:b,collisionBoundary:y,collisionPadding:w,sticky:C,hideWhenDetached:u,avoidCollisions:f,...S}=s,x=G(ee,t),[g,k]=o.useState(null),[l,D]=o.useState(null),_=B(r,h=>k(h)),[O,z]=o.useState(null),[X,V]=o.useState(null),U=me(t),[$,H]=o.useState(!1),F=o.useRef(!1);o.useEffect(()=>{if(g)return St(g)},[g]),bt();const E=o.useCallback(h=>{const[I,...R]=U().map(T=>T.ref.current),[j]=R.slice(-1),N=document.activeElement;for(const T of h)if(T===N||(T?.scrollIntoView({block:"nearest"}),T===I&&l&&(l.scrollTop=0),T===j&&l&&(l.scrollTop=l.scrollHeight),T?.focus(),document.activeElement!==N))return},[U,l]),L=o.useCallback(()=>E([O,g]),[E,O,g]);o.useEffect(()=>{$&&L()},[$,L]);const{onOpenChange:W,triggerPointerDownPosRef:K}=x;o.useEffect(()=>{if(g){let h={x:0,y:0};const I=j=>{h={x:Math.abs(Math.round(j.pageX)-(K.current?.x??0)),y:Math.abs(Math.round(j.pageY)-(K.current?.y??0))}},R=j=>{h.x<=10&&h.y<=10?j.preventDefault():g.contains(j.target)||W(!1),document.removeEventListener("pointermove",I),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",R,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",R,{capture:!0})}}},[g,W,K]),o.useEffect(()=>{const h=()=>W(!1);return window.addEventListener("blur",h),window.addEventListener("resize",h),()=>{window.removeEventListener("blur",h),window.removeEventListener("resize",h)}},[W]);const[he,ie]=dt(h=>{const I=U().filter(N=>!N.disabled),R=I.find(N=>N.ref.current===document.activeElement),j=ut(I,h,R);j&&setTimeout(()=>j.ref.current.focus())}),fe=o.useCallback((h,I,R)=>{const j=!F.current&&!R;(x.value!==void 0&&x.value===I||j)&&(z(h),j&&(F.current=!0))},[x.value]),ge=o.useCallback(()=>g?.focus(),[g]),te=o.useCallback((h,I,R)=>{const j=!F.current&&!R;(x.value!==void 0&&x.value===I||j)&&V(h)},[x.value]),ce=c==="popper"?Ne:Xe,ne=ce===Ne?{side:a,sideOffset:d,align:m,alignOffset:v,arrowPadding:b,collisionBoundary:y,collisionPadding:w,sticky:C,hideWhenDetached:u,avoidCollisions:f}:{};return e.jsx(Ge,{scope:t,content:g,viewport:l,onViewportChange:D,itemRefCallback:fe,selectedItem:O,onItemLeave:ge,itemTextRefCallback:te,focusSelectedItem:L,selectedItemText:X,position:c,isPositioned:$,searchRef:he,children:e.jsx(jt,{as:ns,allowPinchZoom:!0,children:e.jsx(Nt,{asChild:!0,trapped:x.open,onMountAutoFocus:h=>{h.preventDefault()},onUnmountAutoFocus:P(i,h=>{x.trigger?.focus({preventScroll:!0}),h.preventDefault()}),children:e.jsx(Ct,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:p,onPointerDownOutside:n,onFocusOutside:h=>h.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:e.jsx(ce,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:h=>h.preventDefault(),...S,...ne,onPlaced:()=>H(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:P(S.onKeyDown,h=>{const I=h.ctrlKey||h.altKey||h.metaKey;if(h.key==="Tab"&&h.preventDefault(),!I&&h.key.length===1&&ie(h.key),["ArrowUp","ArrowDown","Home","End"].includes(h.key)){let j=U().filter(N=>!N.disabled).map(N=>N.ref.current);if(["ArrowUp","End"].includes(h.key)&&(j=j.slice().reverse()),["ArrowUp","ArrowDown"].includes(h.key)){const N=h.target,T=j.indexOf(N);j=j.slice(T+1)}setTimeout(()=>E(j)),h.preventDefault()}})})})})})})});Ye.displayName=rs;var as="SelectItemAlignedPosition",Xe=o.forwardRef((s,r)=>{const{__scopeSelect:t,onPlaced:c,...i}=s,p=G(ee,t),n=Y(ee,t),[a,d]=o.useState(null),[m,v]=o.useState(null),b=B(r,_=>v(_)),y=me(t),w=o.useRef(!1),C=o.useRef(!0),{viewport:u,selectedItem:f,selectedItemText:S,focusSelectedItem:x}=n,g=o.useCallback(()=>{if(p.trigger&&p.valueNode&&a&&m&&u&&f&&S){const _=p.trigger.getBoundingClientRect(),O=m.getBoundingClientRect(),z=p.valueNode.getBoundingClientRect(),X=S.getBoundingClientRect();if(p.dir!=="rtl"){const N=X.left-O.left,T=z.left-N,Z=_.left-T,J=_.width+Z,ve=Math.max(J,O.width),ye=window.innerWidth-A,we=ke(T,[A,Math.max(A,ye-ve)]);a.style.minWidth=J+"px",a.style.left=we+"px"}else{const N=O.right-X.right,T=window.innerWidth-z.right-N,Z=window.innerWidth-_.right-T,J=_.width+Z,ve=Math.max(J,O.width),ye=window.innerWidth-A,we=ke(T,[A,Math.max(A,ye-ve)]);a.style.minWidth=J+"px",a.style.right=we+"px"}const V=y(),U=window.innerHeight-A*2,$=u.scrollHeight,H=window.getComputedStyle(m),F=parseInt(H.borderTopWidth,10),E=parseInt(H.paddingTop,10),L=parseInt(H.borderBottomWidth,10),W=parseInt(H.paddingBottom,10),K=F+E+$+W+L,he=Math.min(f.offsetHeight*5,K),ie=window.getComputedStyle(u),fe=parseInt(ie.paddingTop,10),ge=parseInt(ie.paddingBottom,10),te=_.top+_.height/2-A,ce=U-te,ne=f.offsetHeight/2,h=f.offsetTop+ne,I=F+E+h,R=K-I;if(I<=te){const N=V.length>0&&f===V[V.length-1].ref.current;a.style.bottom="0px";const T=m.clientHeight-u.offsetTop-u.offsetHeight,Z=Math.max(ce,ne+(N?ge:0)+T+L),J=I+Z;a.style.height=J+"px"}else{const N=V.length>0&&f===V[0].ref.current;a.style.top="0px";const Z=Math.max(te,F+u.offsetTop+(N?fe:0)+ne)+R;a.style.height=Z+"px",u.scrollTop=I-te+u.offsetTop}a.style.margin=`${A}px 0`,a.style.minHeight=he+"px",a.style.maxHeight=U+"px",c?.(),requestAnimationFrame(()=>w.current=!0)}},[y,p.trigger,p.valueNode,a,m,u,f,S,p.dir,c]);q(()=>g(),[g]);const[k,l]=o.useState();q(()=>{m&&l(window.getComputedStyle(m).zIndex)},[m]);const D=o.useCallback(_=>{_&&C.current===!0&&(g(),x?.(),C.current=!1)},[g,x]);return e.jsx(is,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:w,onScrollButtonChange:D,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:e.jsx(M.div,{...i,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Xe.displayName=as;var ls="SelectPopperPosition",Ne=o.forwardRef((s,r)=>{const{__scopeSelect:t,align:c="start",collisionPadding:i=A,...p}=s,n=xe(t);return e.jsx(It,{...n,...p,ref:r,align:c,collisionPadding:i,style:{boxSizing:"border-box",...p.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ne.displayName=ls;var[is,Ee]=re(ee,{}),Ce="SelectViewport",Ze=o.forwardRef((s,r)=>{const{__scopeSelect:t,nonce:c,...i}=s,p=Y(Ce,t),n=Ee(Ce,t),a=B(r,p.onViewportChange),d=o.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:c}),e.jsx(pe.Slot,{scope:t,children:e.jsx(M.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:P(i.onScroll,m=>{const v=m.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:y}=n;if(y?.current&&b){const w=Math.abs(d.current-v.scrollTop);if(w>0){const C=window.innerHeight-A*2,u=parseFloat(b.style.minHeight),f=parseFloat(b.style.height),S=Math.max(u,f);if(S<C){const x=S+w,g=Math.min(C,x),k=x-g;b.style.height=g+"px",b.style.bottom==="0px"&&(v.scrollTop=k>0?k:0,b.style.justifyContent="flex-end")}}}d.current=v.scrollTop})})})]})});Ze.displayName=Ce;var Je="SelectGroup",[cs,ds]=re(Je),us=o.forwardRef((s,r)=>{const{__scopeSelect:t,...c}=s,i=_e();return e.jsx(cs,{scope:t,id:i,children:e.jsx(M.div,{role:"group","aria-labelledby":i,...c,ref:r})})});us.displayName=Je;var Qe="SelectLabel",ps=o.forwardRef((s,r)=>{const{__scopeSelect:t,...c}=s,i=ds(Qe,t);return e.jsx(M.div,{id:i.id,...c,ref:r})});ps.displayName=Qe;var ue="SelectItem",[ms,et]=re(ue),tt=o.forwardRef((s,r)=>{const{__scopeSelect:t,value:c,disabled:i=!1,textValue:p,...n}=s,a=G(ue,t),d=Y(ue,t),m=a.value===c,[v,b]=o.useState(p??""),[y,w]=o.useState(!1),C=B(r,x=>d.itemRefCallback?.(x,c,i)),u=_e(),f=o.useRef("touch"),S=()=>{i||(a.onValueChange(c),a.onOpenChange(!1))};if(c==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(ms,{scope:t,value:c,disabled:i,textId:u,isSelected:m,onItemTextChange:o.useCallback(x=>{b(g=>g||(x?.textContent??"").trim())},[]),children:e.jsx(pe.ItemSlot,{scope:t,value:c,disabled:i,textValue:v,children:e.jsx(M.div,{role:"option","aria-labelledby":u,"data-highlighted":y?"":void 0,"aria-selected":m&&y,"data-state":m?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...n,ref:C,onFocus:P(n.onFocus,()=>w(!0)),onBlur:P(n.onBlur,()=>w(!1)),onClick:P(n.onClick,()=>{f.current!=="mouse"&&S()}),onPointerUp:P(n.onPointerUp,()=>{f.current==="mouse"&&S()}),onPointerDown:P(n.onPointerDown,x=>{f.current=x.pointerType}),onPointerMove:P(n.onPointerMove,x=>{f.current=x.pointerType,i?d.onItemLeave?.():f.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:P(n.onPointerLeave,x=>{x.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:P(n.onKeyDown,x=>{d.searchRef?.current!==""&&x.key===" "||(Zt.includes(x.key)&&S(),x.key===" "&&x.preventDefault())})})})})});tt.displayName=ue;var le="SelectItemText",st=o.forwardRef((s,r)=>{const{__scopeSelect:t,className:c,style:i,...p}=s,n=G(le,t),a=Y(le,t),d=et(le,t),m=ts(le,t),[v,b]=o.useState(null),y=B(r,S=>b(S),d.onItemTextChange,S=>a.itemTextRefCallback?.(S,d.value,d.disabled)),w=v?.textContent,C=o.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:w},d.value),[d.disabled,d.value,w]),{onNativeOptionAdd:u,onNativeOptionRemove:f}=m;return q(()=>(u(C),()=>f(C)),[u,f,C]),e.jsxs(e.Fragment,{children:[e.jsx(M.span,{id:d.textId,...p,ref:y}),d.isSelected&&n.valueNode&&!n.valueNodeHasChildren?Be.createPortal(p.children,n.valueNode):null]})});st.displayName=le;var ot="SelectItemIndicator",rt=o.forwardRef((s,r)=>{const{__scopeSelect:t,...c}=s;return et(ot,t).isSelected?e.jsx(M.span,{"aria-hidden":!0,...c,ref:r}):null});rt.displayName=ot;var Ie="SelectScrollUpButton",nt=o.forwardRef((s,r)=>{const t=Y(Ie,s.__scopeSelect),c=Ee(Ie,s.__scopeSelect),[i,p]=o.useState(!1),n=B(r,c.onScrollButtonChange);return q(()=>{if(t.viewport&&t.isPositioned){let a=function(){const m=d.scrollTop>0;p(m)};const d=t.viewport;return a(),d.addEventListener("scroll",a),()=>d.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?e.jsx(lt,{...s,ref:n,onAutoScroll:()=>{const{viewport:a,selectedItem:d}=t;a&&d&&(a.scrollTop=a.scrollTop-d.offsetHeight)}}):null});nt.displayName=Ie;var Te="SelectScrollDownButton",at=o.forwardRef((s,r)=>{const t=Y(Te,s.__scopeSelect),c=Ee(Te,s.__scopeSelect),[i,p]=o.useState(!1),n=B(r,c.onScrollButtonChange);return q(()=>{if(t.viewport&&t.isPositioned){let a=function(){const m=d.scrollHeight-d.clientHeight,v=Math.ceil(d.scrollTop)<m;p(v)};const d=t.viewport;return a(),d.addEventListener("scroll",a),()=>d.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?e.jsx(lt,{...s,ref:n,onAutoScroll:()=>{const{viewport:a,selectedItem:d}=t;a&&d&&(a.scrollTop=a.scrollTop+d.offsetHeight)}}):null});at.displayName=Te;var lt=o.forwardRef((s,r)=>{const{__scopeSelect:t,onAutoScroll:c,...i}=s,p=Y("SelectScrollButton",t),n=o.useRef(null),a=me(t),d=o.useCallback(()=>{n.current!==null&&(window.clearInterval(n.current),n.current=null)},[]);return o.useEffect(()=>()=>d(),[d]),q(()=>{a().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),e.jsx(M.div,{"aria-hidden":!0,...i,ref:r,style:{flexShrink:0,...i.style},onPointerDown:P(i.onPointerDown,()=>{n.current===null&&(n.current=window.setInterval(c,50))}),onPointerMove:P(i.onPointerMove,()=>{p.onItemLeave?.(),n.current===null&&(n.current=window.setInterval(c,50))}),onPointerLeave:P(i.onPointerLeave,()=>{d()})})}),xs="SelectSeparator",hs=o.forwardRef((s,r)=>{const{__scopeSelect:t,...c}=s;return e.jsx(M.div,{"aria-hidden":!0,...c,ref:r})});hs.displayName=xs;var Pe="SelectArrow",fs=o.forwardRef((s,r)=>{const{__scopeSelect:t,...c}=s,i=xe(t),p=G(Pe,t),n=Y(Pe,t);return p.open&&n.position==="popper"?e.jsx(Tt,{...i,...c,ref:r}):null});fs.displayName=Pe;var gs="SelectBubbleInput",it=o.forwardRef(({__scopeSelect:s,value:r,...t},c)=>{const i=o.useRef(null),p=B(c,i),n=Rt(r);return o.useEffect(()=>{const a=i.current;if(!a)return;const d=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(d,"value").set;if(n!==r&&v){const b=new Event("change",{bubbles:!0});v.call(a,r),a.dispatchEvent(b)}},[n,r]),e.jsx(M.select,{...t,style:{...yt,...t.style},ref:p,defaultValue:r})});it.displayName=gs;function ct(s){return s===""||s===void 0}function dt(s){const r=wt(s),t=o.useRef(""),c=o.useRef(0),i=o.useCallback(n=>{const a=t.current+n;r(a),(function d(m){t.current=m,window.clearTimeout(c.current),m!==""&&(c.current=window.setTimeout(()=>d(""),1e3))})(a)},[r]),p=o.useCallback(()=>{t.current="",window.clearTimeout(c.current)},[]);return o.useEffect(()=>()=>window.clearTimeout(c.current),[]),[t,i,p]}function ut(s,r,t){const i=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,p=t?s.indexOf(t):-1;let n=vs(s,Math.max(p,0));i.length===1&&(n=n.filter(m=>m!==t));const d=n.find(m=>m.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==t?d:void 0}function vs(s,r){return s.map((t,c)=>s[(r+c)%s.length])}var ys=Ue,ws=Fe,Ss=ze,bs=$e,js=Ke,Ns=qe,Cs=Ze,Is=tt,Ts=st,Ps=rt,_s=nt,Es=at;function Rs({...s}){return e.jsx(ys,{"data-slot":"select",...s})}function Ms({...s}){return e.jsx(Ss,{"data-slot":"select-value",...s})}function Ds({className:s,children:r,...t}){return e.jsxs(ws,{"data-slot":"select-trigger",className:se("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex h-9 w-full items-center justify-between rounded-md border bg-transparent px-3 py-2 text-sm shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 [&>span]:line-clamp-1",s),...t,children:[r,e.jsx(bs,{asChild:!0,children:e.jsx(Ve,{className:"size-4 opacity-50"})})]})}function As({className:s,children:r,position:t="popper",...c}){return e.jsx(js,{children:e.jsxs(Ns,{"data-slot":"select-content",className:se("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...c,children:[e.jsx(ks,{}),e.jsx(Cs,{className:se("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),e.jsx(Os,{})]})})}function Oe({className:s,children:r,...t}){return e.jsxs(Is,{"data-slot":"select-item",className:se("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...t,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Ps,{children:e.jsx(Mt,{className:"size-4"})})}),e.jsx(Ts,{children:r})]})}function ks({className:s,...r}){return e.jsx(_s,{"data-slot":"select-scroll-up-button",className:se("flex cursor-default items-center justify-center py-1",s),...r,children:e.jsx(Wt,{className:"size-4"})})}function Os({className:s,...r}){return e.jsx(Es,{"data-slot":"select-scroll-down-button",className:se("flex cursor-default items-center justify-center py-1",s),...r,children:e.jsx(Ve,{className:"size-4"})})}const Ls=[{title:"Dashboard",href:"/dashboard"},{title:"AdministraciÃ³n",href:"#"},{title:"GestiÃ³n de usuarios",href:"/admin/users"}];function Xs({users:s,stats:r,filters:t}){const{flash:c}=pt().props,[i,p]=o.useState(t.search||""),[n,a]=o.useState(null),[d,m]=o.useState(!1),[v,b]=o.useState(null),[y,w]=o.useState({name:"",email:"",role:"user",password:""}),[C,u]=o.useState({name:"",email:"",role:"user"}),f=l=>{l.preventDefault(),ae.get("/admin/users",{search:i,status:t.status},{preserveState:!0,replace:!0})},S=l=>{ae.patch(`/admin/users/${l.id}/toggle-status`,{},{preserveState:!0})},x=l=>{ae.delete(`/admin/users/${l.id}`,{preserveState:!0}),a(null)},g=l=>new Date(l).toLocaleDateString("es-ES"),k=l=>l.active?l.email_verified_at?{text:"Activo",color:"bg-green-100 text-green-800"}:{text:"Pendiente",color:"bg-yellow-100 text-yellow-800"}:{text:"Inactivo",color:"bg-red-100 text-red-800"};return e.jsxs(Pt,{breadcrumbs:Ls,children:[e.jsx(mt,{title:"GestiÃ³n de Usuarios"}),e.jsxs("div",{className:"space-y-6",children:[c?.success&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:c.success}),c?.error&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:c.error}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"h-6 w-6 text-[#2a3d83]"}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"GestiÃ³n de Usuarios"})]}),e.jsxs(Dt,{open:d,onOpenChange:m,children:[e.jsx(At,{asChild:!0,children:e.jsxs(be,{className:"flex items-center gap-2 px-4 py-2 bg-[#2a3d83] text-white rounded-lg hover:bg-[#1e2b5f] transition-colors",children:[e.jsx($t,{className:"h-4 w-4"}),"Nuevo Usuario"]})}),e.jsxs(kt,{className:"sm:max-w-[425px]",children:[e.jsx(Ot,{children:e.jsx(Lt,{className:"text-xl font-semibold text-gray-900",children:"Crear Nuevo Usuario"})}),e.jsxs("form",{onSubmit:l=>{l.preventDefault(),ae.post("/admin/users",y,{onSuccess:()=>{m(!1),w({name:"",email:"",role:"user",password:""})}})},className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(de,{htmlFor:"create-name",children:"Nombre Completo"}),e.jsx(je,{id:"create-name",type:"text",value:y.name,onChange:l=>w({...y,name:l.target.value}),placeholder:"Nombre completo del usuario",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(de,{htmlFor:"create-email",children:"Email"}),e.jsx(je,{id:"create-email",type:"email",value:y.email,onChange:l=>w({...y,email:l.target.value}),placeholder:"usuario@ejemplo.com",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(de,{htmlFor:"create-password",children:"ContraseÃ±a"}),e.jsx(je,{id:"create-password",type:"password",value:y.password,onChange:l=>w({...y,password:l.target.value}),placeholder:"ContraseÃ±a temporal",required:!0,minLength:8})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(de,{htmlFor:"create-role",children:"Rol"}),e.jsxs(Rs,{value:y.role,onValueChange:l=>w({...y,role:l}),children:[e.jsx(Ds,{children:e.jsx(Ms,{placeholder:"Selecciona un rol"})}),e.jsxs(As,{children:[e.jsx(Oe,{value:"user",children:"Usuario"}),e.jsx(Oe,{value:"admin",children:"Administrador"})]})]})]}),e.jsxs(Bt,{children:[e.jsx(be,{type:"button",variant:"outline",onClick:()=>{m(!1),w({name:"",email:"",role:"user",password:""})},children:"Cancelar"}),e.jsx(be,{type:"submit",className:"bg-[#2a3d83] hover:bg-[#1e2b5f]",children:"Crear Usuario"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Usuarios"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.total})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(Re,{className:"h-6 w-6 text-[#2a3d83]"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Usuarios Activos"}),e.jsx("p",{className:"text-2xl font-semibold text-green-600",children:r.active})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:e.jsx("div",{className:"h-6 w-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"h-2 w-2 bg-white rounded-full"})})})]})}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pendientes"}),e.jsx("p",{className:"text-2xl font-semibold text-yellow-600",children:r.pending})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:e.jsx("div",{className:"h-6 w-6 bg-yellow-500 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"h-2 w-2 bg-white rounded-full"})})})]})})]}),e.jsx("div",{className:"bg-white rounded-lg border p-6",children:e.jsxs("form",{onSubmit:f,className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:e.jsxs("div",{className:"relative flex-1 sm:w-80",children:[e.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:i,onChange:l=>p(l.target.value),placeholder:"Buscar usuarios...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2a3d83] focus:border-[#2a3d83]"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:t.status||"",onChange:l=>ae.get("/admin/users",{search:t.search,status:l.target.value||void 0},{preserveState:!0,replace:!0}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2a3d83] focus:border-[#2a3d83]",children:[e.jsx("option",{value:"",children:"Todos los estados"}),e.jsx("option",{value:"active",children:"Activos"}),e.jsx("option",{value:"inactive",children:"Inactivos"}),e.jsx("option",{value:"pending",children:"Pendientes"})]}),e.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(De,{className:"h-4 w-4"}),"Buscar"]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Usuario"}),e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Email"}),e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Rol"}),e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Estado"}),e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Registro"}),e.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-900",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:s.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-8 px-6 text-center text-gray-500",children:"No se encontraron usuarios."})}):s.data.map(l=>{const D=k(l);return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 bg-[#2a3d83] rounded-full flex items-center justify-center text-white text-sm font-medium",children:l.name.charAt(0).toUpperCase()}),e.jsx("span",{className:"font-medium text-gray-900",children:l.name})]})}),e.jsx("td",{className:"py-4 px-6 text-gray-600",children:l.email}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-[#2a3d83]",children:l.role.name})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${D.color}`,children:D.text})}),e.jsx("td",{className:"py-4 px-6 text-gray-600",children:g(l.created_at)}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>{u({name:l.name,email:l.email,role:l.role}),b(l)},className:"inline-flex items-center gap-1 text-[#2a3d83] hover:text-[#1e2b5f] text-sm font-medium",children:[e.jsx(Gt,{className:"h-3 w-3"}),"Editar"]}),e.jsx("button",{onClick:()=>S(l),className:`inline-flex items-center gap-1 text-sm font-medium ${l.active?"text-orange-600 hover:text-orange-800":"text-green-600 hover:text-green-800"}`,children:l.active?e.jsxs(e.Fragment,{children:[e.jsx(Vt,{className:"h-3 w-3"}),"Desactivar"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ut,{className:"h-3 w-3"}),"Activar"]})}),e.jsxs("button",{onClick:()=>a(l),className:"inline-flex items-center gap-1 text-red-600 hover:text-red-800 text-sm font-medium",children:[e.jsx(Ae,{className:"h-3 w-3"}),"Eliminar"]})]})})]},l.id)})})]})})}),s.data.length>0&&e.jsxs("div",{className:"flex items-center justify-between bg-white border rounded-lg px-6 py-3",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Mostrando ",e.jsx("span",{className:"font-medium",children:s.meta?.from||s.from||0})," a"," ",e.jsx("span",{className:"font-medium",children:s.meta?.to||s.to||0})," de"," ",e.jsx("span",{className:"font-medium",children:s.meta?.total||s.total||0})," usuarios"]}),e.jsx("div",{className:"flex items-center gap-2",children:s.links.map((l,D)=>l.label.includes("Previous")?e.jsx(Se,{href:l.url||"#",preserveState:!0,className:`px-3 py-2 border border-gray-300 rounded-md text-sm font-medium ${l.url?"text-gray-700 hover:bg-gray-50":"text-gray-300 cursor-not-allowed"}`,children:"Anterior"},D):l.label.includes("Next")?e.jsx(Se,{href:l.url||"#",preserveState:!0,className:`px-3 py-2 border border-gray-300 rounded-md text-sm font-medium ${l.url?"text-gray-700 hover:bg-gray-50":"text-gray-300 cursor-not-allowed"}`,children:"Siguiente"},D):isNaN(Number(l.label))?null:e.jsx(Se,{href:l.url||"#",preserveState:!0,className:`px-3 py-2 rounded-md text-sm font-medium ${l.active?"bg-[#2a3d83] text-white":"border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:l.label},D))})]}),n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:e.jsx(Ae,{className:"h-5 w-5 text-red-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirmar eliminaciÃ³n"})]}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Â¿EstÃ¡s seguro de que deseas eliminar al usuario"," ",e.jsx("span",{className:"font-medium",children:n.name}),"?"," ","Esta acciÃ³n no se puede deshacer."]}),e.jsxs("div",{className:"flex items-center gap-3 justify-end",children:[e.jsx("button",{onClick:()=>a(null),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),e.jsx("button",{onClick:()=>x(n),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Eliminar"})]})]})})]})]})}export{Xs as default};
